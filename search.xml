<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Web前端水印方案</title>
      <link href="/2022/12/07/Web%E5%89%8D%E8%AB%AF%E6%B0%B4%E5%8D%B0%E6%96%B9%E6%A1%88/"/>
      <url>/2022/12/07/Web%E5%89%8D%E8%AB%AF%E6%B0%B4%E5%8D%B0%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Web浮水印技術在資訊安全和版權保護等領域有著廣泛的應用，對防止資訊洩露或知識產品被侵犯有重要意義。<br>浮水印的添加根據環境可以分為兩大類:</p><ol><li>前端瀏覽器環境添加</li></ol><ul><li>伺服器的運算量、記憶體的減少</li><li>能夠快速回應請求</li><li>安全性較低，有心人很容易通過各種騷操作直接獲取到原始檔案</li></ul><ol><li>後端服務環境添加</li></ol><ul><li>安全性較高，無法獲取到原始檔案</li><li>當遇到大檔案密集浮水印，或是複雜浮水印，佔用伺服器記憶體、運算量，請求時間過長<br>浮水印根據可見性可分為<code>可見浮水印</code>和<code>不可見浮水印</code>(盲浮水印)</li></ul><h2 id="顯性浮水印-可見浮水印"><a href="#顯性浮水印-可見浮水印" class="headerlink" title="顯性浮水印/可見浮水印"></a>顯性浮水印/可見浮水印</h2><p>容易處理，演算法較為簡單，攻擊者就可以通過裁剪、模糊等操作對浮水印進行攻擊消除，同時顯性浮水印也會破壞圖片的完整性。</p><h3 id="基本實現"><a href="#基本實現" class="headerlink" title="基本實現"></a>基本實現</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span>&#123;</span><br><span class="line"><span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;./logo.png&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>這裡想要的效果就是一個淺淺的 logo 平鋪展示。實現起來也比較簡單，只需製作一個半透明的 logo 圖片，設為文章或者表格的背景圖片即可。僅需一行 CSS 聲明。<br><div class="note info simple"><p>實現圖片平鋪關鍵的 CSS 屬性是 background-repeat，值為 repeat時是平鋪，這也是它的預設值，所以可以省略。</p></div></p><h3 id="全頁面浮水印"><a href="#全頁面浮水印" class="headerlink" title="全頁面浮水印"></a>全頁面浮水印</h3><div class="tip bell"><p>如果要給整個 Web 頁面加上浮水印，是不是給頁面的body 元素設置背景圖片平鋪展示就可以了呢？</p></div><p>然而通常並不會這麼處理，因為文章和表格內容多以文本為主，不會明顯遮擋浮水印，而一個完整的頁面往往還包含很多其他頁面元素，比如圖片、視頻、控制項等等，它們很可能會遮擋住背景圖片，從而影響浮水印效果。<br>所以，為了避免被其他元素遮擋，針對頁面的浮水印一般會使用一個層級比較高且覆蓋整個頁面的元素來承載。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.watermark</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">&quot;./logo.png&quot;</span>);</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">5</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">3000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>這樣一來，其他元素就遮擋不住浮水印了。不過，這個 div反過來可能會遮擋頁面其他元素，影響頁面元素操作。還需要一條關鍵的CSS聲明來破解這個問題:<br><code>pointer-events:none;</code>，這個CSS聲明會使該元素“可穿透”，“看得見、摸不著”，不再影響頁面操作。</p><h3 id="動態浮水印"><a href="#動態浮水印" class="headerlink" title="動態浮水印"></a>動態浮水印</h3><p>很多時候，給頁面加浮水印的目的並不是申明版權，而是為了支持溯源。此時浮水印的內容並不會只是一個logo，通常會包含使用者資訊，比如用戶名、UID、手機號等等。這就意味著，每個使用者的浮水印內容是不同的，無法通過提前準備好一張圖片來滿足了。這種場景往往需要根據使用者資訊動態生成圖片。</p><h4 id="服務端方案"><a href="#服務端方案" class="headerlink" title="服務端方案"></a>服務端方案</h4><p>傳統的方式是在服務端生成圖片。頁面上發起的圖片請求中可以附帶使用者資訊，服務端根據這些參數動態生成圖片，並將圖片資料作為該請求的回應返給頁面，頁面拿到後將其用作浮水印。<br>這種方式的優點是相容性好，缺點是需要前後端配合，增加了頁面請求和服務端資源開銷，防攻擊能力也較差。</p><h4 id="Canvas方案"><a href="#Canvas方案" class="headerlink" title="Canvas方案"></a>Canvas方案</h4><p>HTML5 引入 Canvas特性使得流覽器自身具備了繪圖能力。經過多年的發展，主流流覽器基本都已可以提供良好的支援。通過 Canvas 可以輕鬆繪製圖片，並可將圖片資料匯出，用於頁面圖片或背景。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvasElement = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;canvas&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> context = canvasElement.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span><br><span class="line">canvasElement.<span class="property">width</span> = <span class="number">200</span>;</span><br><span class="line">canvasElement.<span class="property">height</span> = <span class="number">200</span>;</span><br><span class="line">context.<span class="title function_">rotate</span>((-<span class="number">30</span> * <span class="title class_">Math</span>.<span class="property">PI</span>) / <span class="number">180</span>);</span><br><span class="line">context.<span class="property">font</span> = <span class="string">&#x27;400 26px Arial&#x27;</span>;</span><br><span class="line">context.<span class="property">fillStyle</span> = <span class="string">&#x27;#B9C0CA&#x27;</span>;</span><br><span class="line">context.<span class="property">textAlign</span> = <span class="string">&#x27;center&#x27;</span>;</span><br><span class="line">context.<span class="property">textBaseline</span> = <span class="string">&#x27;middle&#x27;</span>;</span><br><span class="line">context.<span class="title function_">fillText</span>(<span class="string">&#x27;浮水印文字&#x27;</span>, <span class="number">70</span>, <span class="number">130</span>);</span><br><span class="line"><span class="keyword">const</span> watermark = canvasElement.<span class="title function_">toDataURL</span>(<span class="string">&#x27;image/png&#x27;</span>);</span><br><span class="line"><span class="string">``</span><span class="string">``</span></span><br><span class="line">通過上述示例代碼可拿到浮水印圖片的 data <span class="variable constant_">URI</span> 資料，用作浮水印承載元素的背景圖片平鋪展示即可。</span><br><span class="line">這種方式不需要服務端配合，在前端就可以完成，且有助於減少請求和服務端資源開銷。曾經面臨的流覽器相容問題現在也不再是問題，該方案已逐漸流行起來。</span><br><span class="line"></span><br><span class="line">#### <span class="variable constant_">SVG</span>方案</span><br><span class="line">&#123;% tip bell %&#125;對於純文字的浮水印來說，有沒有辦法不生成圖片而直接實現平鋪呢？&#123;% endtip %&#125;</span><br><span class="line">動態創建大量 <span class="variable constant_">DOM</span> 節點，通過 <span class="variable constant_">CSS</span> 控制排列當然可以實現，但是繁瑣且性能差，優雅更無從談起。</span><br><span class="line">不妨換個角度思考，有沒有辦法讓文字不轉成圖片就可以用作 background-image 屬性的值呢？這樣就可以利用 background-repeat 實現平鋪效果了。</span><br><span class="line">這時候可以考慮使用 <span class="variable constant_">SVG</span>，因為 <span class="variable constant_">SVG</span> 具有文本和圖像的雙重特性。看上去是文本，然而在很多場景可以當做圖片使用。</span><br><span class="line">我們可以通過 <span class="variable constant_">SVG</span> 的相關屬性精准控制字體位置、大小、顏色、透明度和旋轉角度等參數。如：</span><br><span class="line"><span class="string">``</span><span class="string">`HTML</span></span><br><span class="line"><span class="string">&lt;svg width=&quot;200&quot; height=&quot;200&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;</span></span><br><span class="line"><span class="string">  &lt;text x=&quot;50%&quot; y=&quot;50%&quot; font-size=&quot;30&quot; fill=&quot;#a2a9b6&quot; fill-opacity=&quot;0.3&quot; font-family=&quot;system-ui, sans-serif&quot; text-anchor=&quot;middle&quot; dominant-baseline=&quot;middle&quot; transform=&#x27;rotate(-45, 100 100)&#x27;&gt;201250005 洪子贤&lt;/text&gt;</span></span><br><span class="line"><span class="string">&lt;/svg&gt;</span></span><br></pre></td></tr></table></figure><br><div class="tip warning"><p>考慮到瀏覽器相容性，用作背景圖片時，建議將 SVG 編碼為Base64(或轉義特定字元)</p></div><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.watermark</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1zaXplPSIzMCIgZmlsbD0iI2EyYTliNiIgZmlsbC1vcGFjaXR5PSIwLjMiIGZvbnQtZmFtaWx5PSJzeXN0ZW0tdWksIHNhbnMtc2VyaWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRyYW5zZm9ybT0ncm90YXRlKC00NSwgMTAwIDEwMCknPjIwMTI1MDAwNSDmtKrlrZDotKQ8L3RleHQ+PC9zdmc+&quot;</span>);</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-repeat</span>: repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="浮水印安全"><a href="#浮水印安全" class="headerlink" title="浮水印安全"></a>浮水印安全</h3><p>浮水印是用來保護資訊安全的。資訊要安全，首先要確保浮水印自身的安全，提高浮水印的防攻擊（篡改、刪除等）能力。可見浮水印大都是基於DOM的，找到這個DOM節點，通過流覽器外掛程式、抓包工具等在頁面上注入一段JavaScript或者CSS代碼對其進行篡改或刪除並不困難。為防止外部代碼篡改，一種思路是把浮水印元素封裝起來，與外部環境進行隔離。</p><h4 id="Shadow-DOM"><a href="#Shadow-DOM" class="headerlink" title="Shadow DOM"></a>Shadow DOM</h4><p>谷歌的Web Components技術允許在Web中創建可重用的小部件或元件。Web Components 的一個重要特性就是“封裝”，即可以將標簽的結構、樣式和行為隱藏起來，並與頁面上的其他代碼相隔離。比如我們熟悉的 video 元素，它的進度條、按鈕等控制項都已被封裝。<br>Shadow DOM是“封裝”特性的關鍵所在，它可以將一個隱藏的、獨立的 DOM 附加到一個元素上。<br><img src="https://s2.loli.net/2022/12/07/NK4BaTCvfm95IqX.png" alt="shadow DOM.jpg"><br>為了提高web浮水印的隱蔽性，同時避免受外部代碼影響，在一定程度上防止篡改，可以考慮把浮水印元素放在Shadow DOM中。使用 Element.attachShadow()方法來將一個shadow root附加到任何一個元素上。它接受一個配置物件作為參數，有一個 mode 屬性，值可以是 open 或者 closed 。open表示可以通過頁面內的JavaScript方法來獲取Shadow DOM。而 closed則表示不可以從外部獲取Shadow DOM 。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Element</span>.<span class="title function_">attachShadow</span>(&#123;<span class="attr">mode</span>:<span class="string">&#x27;closed&#x27;</span>&#125;);</span><br></pre></td></tr></table></figure><br>Shadow DOM 中的樣式本身就是隔離的，除非主動使用CSS 變量、part屬性等暴露，外部樣式是不會影響到元件內的。</p><h4 id="監聽"><a href="#監聽" class="headerlink" title="監聽"></a>監聽</h4><p>除此之外，還有一種常見的人為修改攻擊場景，比如在瀏覽器控制台直接修改或刪除對應的DOM元素。<br>可以考慮“監聽”這種行為，一旦發生就馬上修復，比如重新插入一個。那怎麼實現這種“監聽”呢？現代流覽器中有多種觀察者（Observer），比如IntersectionObserver、PerformanceObserver、ResizeObserver、ReportingObserver、MutationObserver 等。其中，MutationObserver 就可以用來監聽 DOM 變動，DOM 的任何變動，比如節點的增減、屬性的變動、文本內容的變動，通過該 API 都可以得到通知。<br>所以可以使用 MutationObserver API 來監聽浮水印元素 DOM 變化，一旦監聽到 DOM 元素被修改或者刪除，就立即重新插入一個。</p><h2 id="不可見浮水印-盲浮水印"><a href="#不可見浮水印-盲浮水印" class="headerlink" title="不可見浮水印(盲浮水印)"></a>不可見浮水印(盲浮水印)</h2><p>不可見浮水印通常具有比可見浮水印更好的隱蔽性和抗攻擊性。雖不可見，但通過一定的技術手段是可以將浮水印資訊從其載體上提取出來的，這就使得其載體具備了溯源能力，在關鍵時刻往往能發揮大作用。<br>不可見浮水印相對可見浮水印至少有以下三個明顯的優勢：</p><ol><li>更好的觀感。可見浮水印總給人一種“膏藥感”，甚至會引起部分人的不適，而不可見浮水印則不會有這個問題。</li><li>更佳的隱蔽性。用戶基本感知不到浮水印的存在。</li><li>更強的抗攻擊性。可見浮水印更容易受到攻擊，而不可見浮水印除了隱蔽性比較強之外，其自身往往還具備比較強的抗攻擊能力。</li></ol><p>在說數位浮水印之前，這裡介紹一些數位圖像的基礎知識。<br>數位圖像（點陣圖）是由圖元（pixel）組成。</p><ul><li>非黑即白的二值圖像，1 個 bit 即可表示 1 個圖元（黑白兩種狀態）。所以 1 個位元組（byte）可以表示 8 個圖元。</li><li>灰度圖，1 個圖元有 256 種狀態（2 的 8 次方），需要 8 個 bit，即 1 個位元組。</li><li>彩色的 RGB 圖，有R/G/B三個通道，每個通道 256 種狀態，使用 1 個位元組表示，共需 3 個位元組表示 1 個圖元。</li><li>RGBA 圖，在R/G/B三個通道基礎上增加了一個透明度通道，256 種狀態，額外需要 1 個位元組，共需要 4 個位元組表示一個圖元。<br>通常，考慮到計算速度和性能，影像處理和圖像識別大都會將圖像轉成灰度圖或者選擇其中一個通道進行。</li></ul><h3 id="LSB浮水印"><a href="#LSB浮水印" class="headerlink" title="LSB浮水印"></a>LSB浮水印</h3><p>灰度圖像的一個圖元有256種狀態，通常用灰度值(0-255)表示，0 表示黑色，255 表示白色，灰度值越大表示亮度越高。<br>灰度可用一個位元組，即 8 比特二進位數字表示，其中最高位元對圖像的貢獻最大，最低位元對圖像的貢獻最小，稱為最低比特位（Least Significant Bit，LSB）。<br>如果將一個圖像所有圖元的比特位元抽出來，就構成了 8 個不同的位平面，從LSB(最低有效位0)到 MSB(最高有效位7）。位元平面從低位元到高位，圖像的特徵逐漸變得複雜，細節不斷增加，相鄰比特的相關性也越強。而比特位元越低包含的圖像資訊就越少，最低位平面類似於隨機雜訊。因此，改變低位元對圖像的成像品質影響不大。<br>LSB 浮水印就是利用了這一點，用浮水印資訊替換載體圖像的最低比特位元，這樣原圖像的7個高位平面就與表示浮水印資訊的最低位元平面組成了新的圖像。<br><img src="https://s2.loli.net/2022/12/07/ZUHzKYjpCtFR2eX.png" alt="LSB浮水印"></p><div class="tip warning"><p>LSB浮水印魯棒性(防攻擊性)較差，浮水印資訊容易被抹去。</p></div><h3 id="頻域浮水印"><a href="#頻域浮水印" class="headerlink" title="頻域浮水印"></a>頻域浮水印</h3><p>在圖像信號的頻域(變換域)中隱藏資訊要比在空間域中隱藏資訊具有更好的魯棒性。那麼如何把圖像信號從空間域轉換到頻域呢？這裡就需要用到大名鼎鼎的傅里葉變換了。<br>傅里葉提出的傅里葉變換(Fourier transform)理論，表示能將滿足一定條件的某個函數表示成三角函數（正弦和/或余弦函數）或者它們的積分的線性組合，可用於把信號從時間域（或空間域）變換到頻率域。<br><img src="https://s2.loli.net/2022/12/07/GxpLamZPTrcKuWk.png" alt="图像頻域.jpg"><br>傅里葉變換在數位圖像處理領域有着極為重要的應用圖像領域變換的實質是把圖像函數展開成具有不同空間頻率的正、余弦信號的疊加，也就是說任何圖像都可以分解為若干個頻率不同的亮度呈正弦變化的圖像之和。把圖像從空間域變換到頻率域後，就能夠實現對圖像資料進行不同頻率成分的提取。對於圖像信號來說，可以把灰度（亮度）看做頻率，傅裡葉變換可作為圖像灰度值形成的空間域與其頻率域的橋樑。<br>在頻域中隱藏資訊就是傅里葉變換在數位影像處理領域的一個典型應用場景，通常多選擇在圖像頻域的中頻部分嵌入資訊，因為高頻部分易於被各種信號處理方法破壞，而人的視覺又對低頻部分比較敏感，容易察覺低頻部分的變化。</p><p>變換域技術還包括:</p><ul><li>离散余弦变换（discretecosinetransform，DCT），DCT 变换的好处是，如果原序列是实数序列，那么变换后也是实数序列。二维DCT的最著名的应用是 JPEG 压缩。</li><li>离散小波变换（discretewavelettransform，DWT）</li><li>离散傅立叶变换（discretefouriertransform，DFT）</li><li>Mellin傅立叶变换（mellinfouriertransform）<br>可以參考:<a href="https://www.guofei.site/2020/11/14/blind_watermark.html">隱寫术、盲水印入門知識體系</a></li></ul><h2 id="實踐一下"><a href="#實踐一下" class="headerlink" title="實踐一下"></a>實踐一下</h2><ol><li><p>首先把頁面上每張圖片都加上一個點击事情的監聽器，當被點击了就跳到新頁面打開這張圖的大圖</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addClick</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> photoBox = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;box&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(photoBox);</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; photoBox.<span class="property">length</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> photos = photoBox[i].<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; photos.<span class="property">length</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">var</span> img = photos[j];</span><br><span class="line">            img.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="keyword">var</span> big_image_url = <span class="string">&quot;../&quot;</span>+ <span class="variable language_">this</span>.<span class="property">src</span>.<span class="title function_">replace</span>(rootPath,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(big_image_url);</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&quot;./bigImg/images.html?src=&quot;</span>+ big_image_url);</span><br><span class="line">            &#125;,<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/07/9QdNx3pZrSXGCTo.png" alt="圖片展示頁.png"></p></li><li><p>加上SVG方案的水印</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">&quot;getSrc()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">autumn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;watermark&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span> = <span class="string">&quot;../img/photo-1572294846914-4b5092cf5fff.jfif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;秋日校园&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;changed&quot;</span> <span class="attr">value</span>=<span class="string">&quot;傅里叶变換&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;window.location.href=&#x27;./steganography.html&#x27;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/07/I1Z68VaesUMmjRu.png" alt="加了水印的圖.png"></p></li><li>在新頁面實現不可見的水印<br>首先引入cryptostego.min.js，<a href="https://github.com/zeruniverse/CryptoStego">項目地址</a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;請选择一張图片&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;loadIMGtoCanvas(&#x27;file&#x27;, &#x27;preImg&#x27;, writeFunc,800)&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>這個函數實現讀取一個file對像，寫到canva裏，用後調函數處理完銷毀。writeFunc函數如下:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">writeFunc</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_">writeMsgToCanvas</span>(<span class="string">&#x27;preImg&#x27;</span>,<span class="string">&quot;201250005 洪子贤&quot;</span>,<span class="string">&quot;206477&quot;</span>,<span class="number">3</span>)!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> myCanvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;preImg&quot;</span>);</span><br><span class="line">        <span class="keyword">var</span> image = myCanvas.<span class="title function_">toDataURL</span>(<span class="string">&quot;image/jpeg&quot;</span>,<span class="number">1.0</span>);</span><br><span class="line">        <span class="keyword">var</span> element = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        element.<span class="title function_">setAttribute</span>(<span class="string">&#x27;href&#x27;</span>,image);</span><br><span class="line">        element.<span class="title function_">setAttribute</span>(<span class="string">&#x27;download&#x27;</span>,<span class="string">&#x27;result.jpg&#x27;</span>);</span><br><span class="line">        element.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;flex&#x27;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(element);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;CANVAS&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">        img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            canvas.<span class="property">width</span>=img.<span class="property">width</span>;</span><br><span class="line">            canvas.<span class="property">height</span> = img.<span class="property">height</span>;</span><br><span class="line">            ctx.<span class="title function_">drawImage</span>(img,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">            <span class="title function_">cb</span>(canvas);</span><br><span class="line">        &#125;;</span><br><span class="line">        img.<span class="property">src</span> = image;</span><br><span class="line">        element.<span class="property">style</span>.<span class="property">width</span> = img.<span class="property">width</span>;</span><br><span class="line">        element.<span class="title function_">appendChild</span>(canvas);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://s2.loli.net/2022/12/07/isIUTox4QnrJMYz.png" alt="隱寫後的圖.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> web前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web前端 </tag>
            
            <tag> 筆記 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基於置信學習的警告數據集去噪技術</title>
      <link href="/2022/11/24/%E5%9F%BA%E6%96%BC%E7%BD%AE%E4%BF%A1%E5%AD%B8%E7%BF%92%E7%9A%84%E8%AD%A6%E5%91%8A%E6%95%B8%E6%93%9A%E9%9B%86%E5%8E%BB%E5%99%AA%E6%8A%80%E8%A1%93/"/>
      <url>/2022/11/24/%E5%9F%BA%E6%96%BC%E7%BD%AE%E4%BF%A1%E5%AD%B8%E7%BF%92%E7%9A%84%E8%AD%A6%E5%91%8A%E6%95%B8%E6%93%9A%E9%9B%86%E5%8E%BB%E5%99%AA%E6%8A%80%E8%A1%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h2><p>  现有的自动化警告标记技术主要基于关闭警告的启发式方法进行警告标记，给定同一个项目的多个版本，使用相同的静态分析工具对每个版本进行扫描并得到其扫描结果，通过比对不同版本之间的警告是否相同，如果一个版本中的某个警告 A 存在在后续所有的版本，那么该警告 A 被认为是无效警告（即误报警告），如果一个版本中的某个警告 A 在后续的版本中消失，那么该警告 A 被认为是有效警告（即正报警告）。然后，由于验证延迟（即有些警告会在未来的版本中被修复）或自动化警告标记方法固有的局限性（如：不精确的警告匹配算法），会使得自动化警告标记方法产生较多的噪音（即正报标记为误报，误报被标记为正报）。为了解决上述问题，本项目拟基于置信学习技术对自动化警告标记技术进行去噪，进而改善自动化警告标记技术标记的精度。</p><h2 id="2-初始警告數據集收集—-環境配置"><a href="#2-初始警告數據集收集—-環境配置" class="headerlink" title="2 初始警告數據集收集—-環境配置"></a>2 初始警告數據集收集—-環境配置</h2><p>基于关闭警告的启发式警告标记方法:<a href="https://github.com/lxyeah/findbugs-violations.git">https://github.com/lxyeah/findbugs-violations.git</a>，链接中给出了<br>该方法自动收集警告数据集的源码以及相关软件配置要求，静态分析工具是 SpotBugs。<br><strong>項目運行環境:</strong></p><ul><li>Linux (Ubuntu 18.04)</li><li>Jdk 1.8</li><li>Maven 3.6.3: 需要更换阿⾥云镜像</li><li>Neo4J Community 3.5.X: 注意Jdk和Neo4J版本要相互对应，如：最新版本的Neo4J需要Jdk11，Neo4J 3.5.X需要Jdk 1.8</li></ul><p>一個個來吧!</p><h3 id="2-1-Ubuntu-18-04"><a href="#2-1-Ubuntu-18-04" class="headerlink" title="2.1 Ubuntu 18.04"></a>2.1 Ubuntu 18.04</h3><ol><li>去<a href="https://releases.ubuntu.com/18.04/">https://releases.ubuntu.com/18.04/</a>下載鏡像。</li><li>VMware創建虛擬机。</li></ol><p><img src="https://s2.loli.net/2022/11/24/fCXUzjWkgx5qPyH.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=504&amp;id=IURTL&amp;originHeight=650&amp;originWidth=790&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=612" alt=""><br><img src="https://s2.loli.net/2022/11/24/JId65S4Zb1VRKBk.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=544&amp;id=EujUn&amp;originHeight=717&amp;originWidth=802&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=609" alt=""></p><h3 id="2-2-安裝Jdk-1-8"><a href="#2-2-安裝Jdk-1-8" class="headerlink" title="2.2 安裝Jdk 1.8"></a>2.2 安裝Jdk 1.8</h3><ol><li>去<a href="https://www.oracle.com/java/technologies/downloads/#java8">https://www.oracle.com/java/technologies/downloads/#java8</a>下載安裝包，我下的是x64-Compressed Archive那個。</li><li><p>下載完压縮包移動到/usr/share/java下，並解压。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:~$ <span class="built_in">cd</span> /usr/share</span><br><span class="line">kinghong@kinghong-virtual-machine:/usr/share$ sudo <span class="built_in">mkdir</span> java //沒有的話就創建</span><br><span class="line">kinghong@kinghong-virtual-machine:/usr/share$ <span class="built_in">cd</span> java</span><br><span class="line">kinghong@kinghong-virtual-machine:/usr/share/java$ sudo <span class="built_in">cp</span> -a /home/kinghong/下载/jdk-8u351-linux-x64.tar.gz/usr/share/java</span><br><span class="line">kinghong@kinghong-virtual-machine:/usr/share/java$ sudo tar -zxvf jdk-8u351-linux-x64.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>輸入<code>sudo gedit ~/.bashrc</code>配置环境变量，在打開的文件最後添加:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/share/java/jdk1.8.0_351</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>保存文件后輸入<code>source /.bashrc</code>更新配置文件</p></li><li><p>輸入<code>java -version</code>查看jdk环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:~$ java -version</span><br><span class="line">java version <span class="string">&quot;1.8.0_351&quot;</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_351-b10)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)</span><br></pre></td></tr></table></figure></li><li><p>管理员模式也得能找到，把环境变量加在/etc/profile里</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:/etc$ sudo <span class="built_in">chmod</span> -R 777 ./profile</span><br><span class="line"><span class="comment">####################################################################</span></span><br><span class="line"><span class="comment">#在文件末尾添加:</span></span><br><span class="line"><span class="comment">#JAVA_HOME=/usr/share/java/jdk1.8.0_351</span></span><br><span class="line"><span class="comment">#PATH=$PATH:$JAVA_HOME/bin</span></span><br><span class="line"><span class="comment">#CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span></span><br><span class="line"><span class="comment">#export JAVA_HOME</span></span><br><span class="line"><span class="comment">#export PATH</span></span><br><span class="line"><span class="comment">#export CLASSPATH</span></span><br><span class="line"><span class="comment">#####################################################################</span></span><br><span class="line">kinghong@kinghong-virtual-machine:/etc$ <span class="built_in">source</span> ./profile</span><br><span class="line">kinghong@kinghong-virtual-machine:/etc$ sudo -i</span><br><span class="line">root@kinghong-virtual-machine:~<span class="comment"># java -version</span></span><br><span class="line">java version <span class="string">&quot;1.8.0_351&quot;</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_351-b10)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)</span><br></pre></td></tr></table></figure><h3 id="2-3-安裝Maven3-6-3"><a href="#2-3-安裝Maven3-6-3" class="headerlink" title="2.3 安裝Maven3.6.3"></a>2.3 安裝Maven3.6.3</h3></li><li><p>去官网下載Maven: <a href="https://archive.apache.org/dist/maven/maven-3/">https://archive.apache.org/dist/maven/maven-3</a></p></li></ol><p><img src="https://s2.loli.net/2022/11/24/KqHcWyUVInEtorP.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=256&amp;id=beWtN&amp;originHeight=312&amp;originWidth=759&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=623" alt=""></p><ol><li><p>跟上面一样，找個風水宝地把安裝包放進去，我是放在/usr/local下了，然後解壓安裝。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:/usr/local$ sudo tar -zxf apache-maven-3.6.3-bin.tar.gz</span><br><span class="line">kinghong@kinghong-virtual-machine:/usr/local$ sudo <span class="built_in">mv</span> apache-maven-3.6.3 /usr/local/maven-3.6.3</span><br></pre></td></tr></table></figure></li><li><p>環境变量 <code>sudo ~/.bashrc</code> ，填入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> M2_HOME=/usr/local/maven-3.6.3</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;M2_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>保存，<code>source /.bashrc</code>更新。</p></li><li><p>輸 mvn-v 查看版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:/usr/local$ mvn -v</span><br><span class="line">Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)</span><br><span class="line">Maven home: /usr/local/maven-3.6.3</span><br><span class="line">Java version: 1.8.0_351, vendor: Oracle Corporation, runtime: /usr/share/java/jdk1.8.0_351/jre</span><br><span class="line">Default locale: zh_CN, platform encoding: UTF-8</span><br><span class="line">OS name: <span class="string">&quot;linux&quot;</span>, version: <span class="string">&quot;5.4.0-84-generic&quot;</span>, <span class="built_in">arch</span>: <span class="string">&quot;amd64&quot;</span>, family: <span class="string">&quot;unix&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>換阿里云鏡像。去安裝目錄下，我是/usr/local/maven-3.6.3，進入conf文件夾，先改一下settings.xml的讀寫权限: <code>sudo chmod 777 ./settings.xml</code> ，然后再打開它，找到<mirrors>標籤，往裏面添加:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;mirror&gt;</span><br><span class="line">    &lt;<span class="built_in">id</span>&gt;aliyunmaven&lt;/id&gt;</span><br><span class="line">    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class="line">    &lt;name&gt;阿里云公共仓库&lt;/name&gt;</span><br><span class="line">    &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt;</span><br><span class="line">&lt;/mirror&gt;</span><br></pre></td></tr></table></figure><p>並保存。</p><h3 id="2-4-安裝Neo4j"><a href="#2-4-安裝Neo4j" class="headerlink" title="2.4 安裝Neo4j"></a>2.4 安裝Neo4j</h3><p>Neo4j是基于Java的图形数据库</p></li><li><p>官网下載安裝包: <a href="https://neo4j.com/download-center/#releases">https://neo4j.com/download-center/#releases</a></p></li><li><p>找个好地方解压，我還是放/usr/local下:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:~$ sudo <span class="built_in">cp</span> -a /home/kinghong/桌面/neo4j-community-3.5.5-unix.tar.gz /usr/local</span><br><span class="line">kinghong@kinghong-virtual-machine:~$ <span class="built_in">cd</span> /usr/local</span><br><span class="line">kinghong@kinghong-virtual-machine:/usr/local$ sudo tar -zxvf neo4j-community-3.5.5-unix.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>运行，這一步有點坑，先進入root模式，再進入文件根目錄，在bin里运行它</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:~$ sudo -i</span><br><span class="line">root@kinghong-virtual-machine:~<span class="comment"># cd /usr/local/neo4j-community-3.5.5/bin</span></span><br><span class="line">root@kinghong-virtual-machine:/usr/local/neo4j-community-3.5.5/bin<span class="comment"># ./neo4j console</span></span><br></pre></td></tr></table></figure><p>运行成功后在浏覽器打開<a href="http://localhost:7474/browser/">http://localhost:7474/browser/</a> ，進入web端，默認用戶名和密碼都是”neo4j”。<br><img src="https://s2.loli.net/2022/11/24/yqKamLiJxO1gfnR.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=441&amp;id=EwEZN&amp;originHeight=690&amp;originWidth=965&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=617" alt=""><br>至此，環境就配置好了</p><h2 id="3-項目配置"><a href="#3-項目配置" class="headerlink" title="3 項目配置"></a>3 項目配置</h2><p>项⽬结构如下所示，其中violation-collection为本项⽬进⾏配置的警告数据收集部分。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:~/文档/findbugs-violations-master$ tree -L 1</span><br><span class="line">.</span><br><span class="line">├── data</span><br><span class="line">├── GitTraverse</span><br><span class="line">├── gumtree</span><br><span class="line">├── Mined Fix Patterns</span><br><span class="line">├── Parser</span><br><span class="line">├── parsing-utils</span><br><span class="line">├── PatternMining</span><br><span class="line">├── README.md</span><br><span class="line">├── Readme.pdf</span><br><span class="line">├── repo-iterator</span><br><span class="line">├── simple-utils</span><br><span class="line">└── violation-collection</span><br></pre></td></tr></table></figure><p>由于violation-collection依赖于simple-utils、repo-iterator、parsing-utils，需要先对这三部分进⾏构建， 最后对violation-collection进⾏构建。  </p></li><li><p>进⼊這三個⽬录，执⾏”mvn clean install -DskipTests”。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">~/文档/findbugs-violations-master$ <span class="built_in">cd</span> ./simple-utils</span><br><span class="line">~/文档/findbugs-violations-master/simple-utils$ mvn clean install -DskipTests</span><br><span class="line">............................................................................</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time:  50.483 s</span><br><span class="line">[INFO] Finished at: 2022-11-24T14:09:02+08:00</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">~/文档/findbugs-violations-master$ <span class="built_in">cd</span> ./repo-iterator</span><br><span class="line">~/文档/findbugs-violations-master/repo-iterator$ mvn clean install -DiskipTests</span><br><span class="line">~/文档/findbugs-violations-master$ <span class="built_in">cd</span> ./parsing-utils</span><br><span class="line">~/文档/findbugs-violations-master/parsing-utils$ mvn clean install -DiskipTests</span><br></pre></td></tr></table></figure><p>构建过程中出現了無法解析依赖的情況，哈哈!樂，環境學院日常，去网上下jar包吧:<a href="https://mvnrepository.com/artifact/org.eclipse.core/runtime/3.10.0-v20140318-2214">https://mvnrepository.com/artifact/org.eclipse.core/runtime/3.10.0-v20140318-2214</a><br><a href="https://mvnrepository.com/artifact/org.eclipse.core/org.eclipse.core.runtime/3.10.0.v20140318-2214">https://mvnrepository.com/artifact/org.eclipse.core/org.eclipse.core.runtime/3.10.0.v20140318-2214</a><br><img src="https://s2.loli.net/2022/11/24/QYiOVX5GJ8vw3nB.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=bnSUv&amp;originHeight=192&amp;originWidth=729&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>下完后执⾏命令”mvn install:install-file -Dfile=xxxxx.jar -DgroupId=xxxxx -DartifactId=xxxxx - Dversion=xxxxx -Dpackaging=jar”安裝，其中: </p></li></ol><ul><li>Dfile: 要安装的jar的本地路径</li><li>DgroupId：要安装的jar的groupId (org.eclipse.core)</li><li>DartifactId: 要安装的jar的 artificialId (org.eclipse.core.runtime)</li><li>Dversion: jar版本 (3.10.0-v20140318-2214)</li><li>Dpackaging: 打包类型 (jar)  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">kinghong@kinghong-virtual-machine:~$ mvn install:install-file -Dfile=/home/kinghong/下载/</span><br><span class="line">org.eclipse.core.runtime-3.10.0.v20140318-2214.jar -DgroupId=org.eclipse.core -DartifactId=org.eclipse.core.runtime </span><br><span class="line">-Dversion=3.10.0-v20140318-2214 -Dpackaging=jar</span><br><span class="line">........................................................................</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time:  0.187 s</span><br><span class="line">[INFO] Finished at: 2022-11-24T14:53:50+08:00</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>重點來了!!!!  賊坑賊坑的一點是，此刻他仍是說無法解析的，我找了半天才發現原來安裝的時候把文件中間寫成了3.10.0-v20140318-2214，而他的依赖找的是3.10.0.v20140318-2214，所以它找不但找不到，还會自己多創一個文件夾，你得把文件夾和里面文件名上的”-“改成”.”才行。<br>好了，接着install又發現沒有org.eclipse.core:org.eclipse.core.contenttype 3.4.200.v20140207-1251 的依赖了，如法炮制去<a href="https://mvnrepository.com/artifact/org.eclipse.core/org.eclipse.core.contenttype/3.4.200.v20140207-1251">https://mvnrepository.com/artifact/org.eclipse.core/org.eclipse.core.contenttype/3.4.200.v20140207-1251</a>下一個安裝。<br>最后终于成功了!<br>三個都成功后便进⼊violation-collection⽬录执⾏”mvn clean install -DskipTests”。</li></ul><ol><li>启动neo4j数据库</li><li>创建repoDir和workingDir两个个⽂件夹，其中repoDir存放apache项⽬，workingDir存放⽣成的报告等数 据，⽂件结构如下图所示。</li></ol><p>……………………….<br>人麻了已經，下面每一步都報一堆錯，也是很迷糊一個，等做成功了再來更新好了…搞了一天累死了</p>]]></content>
      
      
      <categories>
          
          <category> 煩人作業 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 自動化測試 </tag>
            
            <tag> 錯誤警告 </tag>
            
            <tag> 屎山 </tag>
            
            <tag> 巨坑 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo主题魔改</title>
      <link href="/2022/11/22/hexo%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9/"/>
      <url>/2022/11/22/hexo%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="試一下"><a href="#試一下" class="headerlink" title="試一下"></a>試一下</h1>]]></content>
      
      
      <categories>
          
          <category> 博客相關 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web前端 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterfly主題一些使用方法</title>
      <link href="/2022/11/22/butterfly%E4%B8%BB%E9%A1%8C%E4%B8%80%E4%BA%9B%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2022/11/22/butterfly%E4%B8%BB%E9%A1%8C%E4%B8%80%E4%BA%9B%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
      
      <categories>
          
          <category> 博客相關 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web前端 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用Hexo和Vercel搭建博客</title>
      <link href="/2022/11/22/%E7%94%A8Hexo%E5%92%8CVercel%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/"/>
      <url>/2022/11/22/%E7%94%A8Hexo%E5%92%8CVercel%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>方法參考Fomalhaut文章:<a href="https://www.fomal.cc/posts/e593433d.html">Hexo博客搭建教程(一)</a>、<a href="https://www.fomal.cc/posts/4aa2d85f.html">Hexo博客搭建教程(二)</a><br>使用的主题是butterfly<a href="https://butterfly.js.org/">官方文档</a></p></blockquote><h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h2><p>  我們平時搭博客通常要麼買個服務器用wordpress搞一個，或者布署到github page上，前者需要億點點的錢(去華為雲看了下一個普通服務器一年要几百大洋，果斷放弃)，後者只能放靜態頁面，可玩性和便捷程序就差了點。而vercel將會拯救我們，這是一個站點托官的平台，提供Production和Development环境，还支持持續集成，功能和速度比github page好，还支持部署serverless接口，可以部署動態網站，會自動幫你配置https，最重要的是,他還不收錢!簡直想立馬跪拜了好嗎!</p><h2 id="2-環境與工具準備"><a href="#2-環境與工具準備" class="headerlink" title="2.環境與工具準備"></a>2.環境與工具準備</h2><ul><li>操作系统:Windows11</li><li>Node</li><li>Git</li><li>Hexo</li><li>GitHub帳號</li><li>域名(可選)<h2 id="3-開始"><a href="#3-開始" class="headerlink" title="3.開始!"></a>3.開始!</h2><h3 id="3-1-安裝Node-js"><a href="#3-1-安裝Node-js" class="headerlink" title="3.1 安裝Node.js"></a>3.1 安裝Node.js</h3>Node.js是一个基于Chrome V8引擎的JavaScript运行環境，可謂是把原本只能由浏覧器解析的js给抬起來了。下載地址:<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>，最好下個穩定版，也不用因為怕以後要裝的東西版本不兼容而跑去裝上古版本，到時真不行就用nvm管理一下嘛。安完可以命令行打 node -v 看版本信息<h3 id="3-2-安裝Hexo"><a href="#3-2-安裝Hexo" class="headerlink" title="3.2 安裝Hexo"></a>3.2 安裝Hexo</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>打hexo -v可以看安裝成功否<h3 id="3-3-Github-Page"><a href="#3-3-Github-Page" class="headerlink" title="3.3 Github Page"></a>3.3 Github Page</h3></li></ul><ol><li>官網:<a href="https://github.com">https://github.com</a>，自個去注册就行了</li><li>注册完了後，創建新倉庫(New repository)，创建一个叫<code>&lt;用戶名&gt;.github.io</code>的倉庫，注意一定要是”用戶名”+”github.io”，因為每個帳號只允許有一個github page。下面的隨意設置，然後點击創建。<h3 id="3-4-安裝Git"><a href="#3-4-安裝Git" class="headerlink" title="3.4 安裝Git"></a>3.4 安裝Git</h3></li><li><p>去官網<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a>下個最新的就好了，安裝就狂點下一步就好了，如果有想知道每個選項具體是在干嘛的探索精神，可以參考<a href="https://blog.csdn.net/mukes/article/details/115693833">Git 详细安装教程（详解 Git 安装过程的每一个步骤)</a>。</p></li><li><p>配置用戶名和郵箱</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">&quot;你的用戶名&quot;</span></span><br><span class="line">$ git config --global user.email <span class="string">&quot;你的郵箱&quot;</span></span><br></pre></td></tr></table></figure><p>想寫哪個都行，只是用來標識你的身份而已</p></li><li><p>在git bash上輸入git config -l可以檢查是否配置成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ git config -l</span><br><span class="line">diff.astextplain.textconv=astextplain</span><br><span class="line">filter.lfs.clean=git-lfs clean -- %f</span><br><span class="line">filter.lfs.smudge=git-lfs smudge -- %f</span><br><span class="line">filter.lfs.process=git-lfs filter-process</span><br><span class="line">filter.lfs.required=<span class="literal">true</span></span><br><span class="line">http.sslbackend=openssl</span><br><span class="line">http.sslcainfo=C:/Program Files/Git/mingw64/ssl/certs/ca-bundle.crt</span><br><span class="line">core.autocrlf=<span class="literal">true</span></span><br><span class="line">core.fscache=<span class="literal">true</span></span><br><span class="line">core.symlinks=<span class="literal">true</span></span><br><span class="line">pull.rebase=<span class="literal">false</span></span><br><span class="line">credential.helper=manager-core</span><br><span class="line">credential.https://dev.azure.com.usehttppath=<span class="literal">true</span></span><br><span class="line">init.defaultbranch=master</span><br><span class="line">user.email=a2064777923@gmail.com</span><br><span class="line">user.name=KingHong</span><br></pre></td></tr></table></figure><h3 id="3-5-連接去Github"><a href="#3-5-連接去Github" class="headerlink" title="3.5 連接去Github"></a>3.5 連接去Github</h3></li><li>執行以下命令生成ssh公匙，用於計算機連接Github<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">&quot;你的郵箱&quot;</span></span><br></pre></td></tr></table></figure></li><li>打開C://user/#用戶名#/.ssh，会發現多了几個文件，打開id_rsa.pub文件，复制里面的內容。</li><li>進入github配置頁，選擇<code>SSH and GPG keys</code>，填進去，确定。</li><li>測試連接，輸入:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure><blockquote><p>如果連不上，出現<code>Could not resolve hostname github</code>的話，在cmd打ping www.github.com 也不行的話，可以嘗試修改本地 DNS 文件，打開C:\Windows\System32\drivers\etc 目录下的 hosts 文件，在最後添加<code>140.82.113.4    github.com</code>，然后保存，应該就能ping通了。</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> 博客相關 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web前端 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/11/22/hello-world/"/>
      <url>/2022/11/22/hello-world/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>警告识别分析文献綜述</title>
      <link href="/2022/11/17/%E8%AD%A6%E5%91%8A%E8%AF%86%E5%88%AB%E5%88%86%E6%9E%90%E6%96%87%E7%8C%AE%E7%B6%9C%E8%BF%B0/"/>
      <url>/2022/11/17/%E8%AD%A6%E5%91%8A%E8%AF%86%E5%88%AB%E5%88%86%E6%9E%90%E6%96%87%E7%8C%AE%E7%B6%9C%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要："><a href="#摘要：" class="headerlink" title="摘要："></a>摘要：</h1><p>  静态分析工具在软件开发早期的阶段可以自动检测代码异常和缺陷，向用户发出警告信息传达通过静态分析检测到的运行时错误，如今自动静态分析工具如Findbug等也已经被广泛应用，其功能与效率受到很多人青睐，然而，这些工具报告的大量警报通常有相当一部分都属于误报或是无意义警报，还是需要较大的人工检查警报的成本，而只有那些需要程序员关注和进行修改的警告才是有效的警告，因此如何识别有效警告值得研究。<br>本文研究了35篇相关论文，提取其中使用的方法，分为机器学习、警告排序、交互式、修剪/分类、启发式方法、动静态分析结合六类，我们分析其算法流程并分析其可取之处、缺陷以及意义，并据此设想未来研究方向以及应用实践。<br>  最终我们发现不同方法都有其优势与劣势，实际应用中可以将其中不同方法结合，或是依据不同情境选择合适的方法，这样才能有更好的识别效果，同时结合的程度以及不同方法应该在何时使用则是值得研究与对比的部分。<br>关键词： 静态分析; 有效警告识别; 机器学习; 启发式方法; 交互式; 修剪/分类<br>  Static analysis tools can automatically detect code exceptions and defects at the early stage of software development, and send users warnings about runtime errors detected through static analysis. Now automatic static analysis tools such as Findbug are widely used, and their functionality and efficiency are favored by many people. However, A large number of alarms reported by these tools are usually false alarms or meaningless alarms, which require a large labor cost to check. Only those warnings that require programmer’s attention and modification are valid warnings, so how to identify valid warnings is worth studying.<br>This paper studied 39 relevant papers and extracted the methods used in them, which were divided into six categories: machine learning,  ranking of alarms , interactive, pruning/classification, heuristic method and  static-dynamic analysis combination. We analyzed their algorithm flow and analyzed their merits, defects and significance, and based on this, we proposed the future research direction and application practice.<br>  Finally, we find that different methods have their advantages and disadvantages. In practical application, different methods can be combined, or select appropriate methods according to different situations, so as to have better identification results. Meanwhile, the degree of combination and when different methods should be used are worth studying and comparing.<br>Key words: static analysis; actionable warning identification; machine learning; heuristic method; interactive; pruning/classification</p><h1 id="1-引言"><a href="#1-引言" class="headerlink" title="1 引言"></a>1 引言</h1><p>  在过去的数十年里，软硬件的发展速度飞快，现在我们的生活已经离不开各种软件了，程序的安全保障变得至关重要，怎么让开发软件的过程花费更少的成本、更快速方便、更少地出现缺陷和故障也成为了核心需求。虽然静态分析工具在软件开发早期的阶段可以自动检测代码异常和缺陷，向用户发出警告信息传达通过静态分析检测到的运行时错误，如零除、溢出/欠溢出和空指针解除引用等。然而，这些工具报告的大量警报通常有相当一部分都属于误报或是无意义警报，还是需要较大的人工检查警报的成本，因此人们便希望找到一种最合适的技术能够自动识别出有效的警告。<br>  我们研究了现有的有效警告识别技术，它们大多旨在将静态分析和动态警告质量保证技术相结合，以改进静态分析错误检测并减少错误警报。本文的目的就是概述各种警报处理方法、分析它们如何解决有效警告识别的困难和挑战、对比它们使用的技术和优缺点、设想未来的研究方向会是如何的。<br>  为了研究这些问题，我们进行了系统的文献检索，首先进行基于关键字的数据搜索，然后阅读具体内容，从中选取了最符合研究目标的39篇文献。我们仔细分析对比了这些资料，总结出了五个目前程序报警遇到的困难和挑战，依照使用到的技术类别把文献分为了七类。我们最后发现每一种方法都有其优点和局限，并且是可以互补的，实践中可以把这些技术通过多种方式组合在一起以达到最佳效果。</p><h1 id="2-问题与挑战"><a href="#2-问题与挑战" class="headerlink" title="2 问题与挑战"></a>2 问题与挑战</h1><h2 id="2-1-静态分析工具产生误报多"><a href="#2-1-静态分析工具产生误报多" class="headerlink" title="2.1 静态分析工具产生误报多"></a>2.1 静态分析工具产生误报多</h2><p>  在我们阅读到的文献中，大部分[1][2][4][5][6][7][8][12][13][21][22][28][29][30]都特意强调静态分析产生误报的问题，静态代码安全检测与动态应用测试不同之处在于，静态代码分析直接面向源码，能够检测所有的代码级别可执行路径组合，快速准确分析语义缺陷及安全漏洞。然而，只对代码进行静态错误分析在实践中存在很高的误报率，导致开发和测试人员经常花费大量的时间和精力在错误警告上，结果到最后发现是误报，软件开发的各方面成本就此上升。<br>静态分析之所以会产生大量误报的可能原因有:<br>1.静态应用程序测试工具本身基于一些算法，对程序数据、控制流分析，预判程序中存在的潜在问题。而算法耗时与准确度成正比。作为工具产品，高运行、高准确度的检测并不容易实现。因此在设计中存在简化、取舍，导致精度流失，运行时间和算法精度之间要达到平衡，因此产生误报。[12]<br>2.由于被分析的软件并没有被真正地执行，静态分析工具并不知道程序真正要做什么行为，也不理解程序员的意图，导致高估或是误推测软件行为[6]，发出与真正缺陷不对应的虚假警告。<br>3.可能存在过度分析，过度警报，即对一些微小的不合规范的低严重性的地方发出警告，比如样式类错误、strcpy()这样可能存在漏洞的函数、对内存的操作等等[1]，这类需要大量努力修复而几乎没有感知到的好处的实际缺陷，通常被称为噪声。<br>4.静态代码警告工具不根据特定的输入去做出评价，也不使用任何正在被执行的研究代码产生的反馈。[11]</p><h2 id="2-2-静态分析工具有局限性"><a href="#2-2-静态分析工具有局限性" class="headerlink" title="2.2 静态分析工具有局限性"></a>2.2 静态分析工具有局限性</h2><p>①因为人工检查在现今的静态分析中必不可少，因此就难免会存在用户的负面反馈[2][3]，指用户在检查警报时对于警报的内容产生了错误的判断，例如误报当真，警告含义模糊导致理解错误，从而对整个代码的后续迭代产生了负面的影响。<br>②静态代码分析工具(sat)的一些特点也限制了其在实践中的广泛适用性。一个关键问题是，sat在检查违规行为方面必然不够精确;换句话说，他们报告的警告可能与实际错误相符，也可能与实际错误不符。结果是，静态分析工具第一次在项目上运行时，很可能会报告数千个警告，这使开发人员无法通过它们筛选来选择那些更相关且应该修复的警告。在实践中使用sat的另一个相关问题是，理解由警告强调的问题并提出合适的解决方案通常是非常重要的。</p><h2 id="2-3-启发式标签过于乐观"><a href="#2-3-启发式标签过于乐观" class="headerlink" title="2.3 启发式标签过于乐观"></a>2.3 启发式标签过于乐观</h2><p>  启发式指 “自我发现的能力”或“运用某种方式或方法去判定事物的知识和技能”，静态分析的静态启发技术指的是在静止状态下通过缺陷的典型特征识别缺陷的方法。启发者算法是一种基于直观或经验构造的算法,在可接受的花费(指计算时间、计算空间等)给出待解决优化问题的每一实例的一个可行解，该可行解与与最优解的偏离程度一般不可以事先预计。<br>  因此，启发式产生的标签可能与人类预言不符[12]，如果在实践中采用，会对其真实性能过于乐观，但它给出的分析结果往往是不健全的，给用户带来”虚假的繁荣”。</p><h2 id="2-4-潜在缺陷未被发现"><a href="#2-4-潜在缺陷未被发现" class="headerlink" title="2.4 潜在缺陷未被发现"></a>2.4 潜在缺陷未被发现</h2><p>  由于静态分析工具并没有实际执行，可能会有某些错误或危险的操作没有被识别出来，更可能的是识别成了错误的警告，导致用户关注了错误的地方甚至无视了警告，为软件埋下了潜在的缺陷。而一次软件开发可能包含数千次的提交，若这些潜在缺陷没有被及时发现出来，它的隐患、造成的后果以及发现和修复的难度可能会越大[5]。</p><h2 id="2-5-动態分析的弊端"><a href="#2-5-动態分析的弊端" class="headerlink" title="2.5 动態分析的弊端"></a>2.5 动態分析的弊端</h2><p>  动态代码分析是在执行时对程序执行的分析。 这意味着您必须先将源代码转换为可执行文件。因此无法检查包含编译或生成错误的代码。 该检查是通过将一组输入数据馈送到要分析的程序来完成的。 因此，动态分析的有效性直接取决于测试输入数据的质量和数量，正是这些数据确定了测试结束时代码覆盖的程度。动态分析相较于静态分析拥有对代码的实时分析与反馈，会带来更优的精度，但其弊端也不容忽视:<br>1.不能保证完整的代码覆盖率。 也就是说，您不太可能通过动态测试获得100％的覆盖率。[7]<br>2.与静态分析相比，动态分析更难以使用，因为您需要向程序中馈入足够的数据以获得更好的结果并获得尽可能多的代码覆盖率。[7]<br>3.动态分析测试昴贵，成本高[5]<br>4.动态分析器不善于检测逻辑错误。 例如，从动态分析器的角度来看，始终为真的条件并不是错误，因为这种不正确的检查只会在编译步骤的早期消失。[8]</p><h1 id="3-研究现状分析"><a href="#3-研究现状分析" class="headerlink" title="3 研究现状分析"></a>3 研究现状分析</h1><p>  我们使用作者自己提出的标签对找到的文献进行初步分类。然后把具有相似方法的文献被再组合在一起，主要用其中处理错误警报的方法作为判断的对象。当发现一篇论文结合了多种方法，即可以被分成多个类型时，我们选择一种更主要、更好的方法，这主要由论文标题得出。<br>  于是，我们得出了以下六类处理警告的方法:<br>1.AI，机器学习:训练神经网络学习什么样的警告是误报并消除掉。<br>2.排序:警报和源代码的各种特征、错误/警报修复和代码更改的历史记录等 用于对警报进行排名或优先级排序。<br>3.交互式:通过用户交互协同地将合理但不精确的分析与精确但不合理的启发式方法相结合，在每轮迭代到找到并优化问题，最大化收益。<br>4.修剪:警报分为可操作或不可操作，不可操作的警报被修剪。<br>5.启发式方法:<br>6.动静态分析结合:静态和动态分析相结合以处理警报。<br>除此之外，少量论文里也提到了使用聚类方法，根据警报之间的相关性将其进行聚类，也能有效减少多余的检查工作量。</p><h2 id="3-1-AI-机器学习"><a href="#3-1-AI-机器学习" class="headerlink" title="3.1 AI,机器学习"></a>3.1 AI,机器学习</h2><p>静态代码警告工具的显著特点是它们不根据特定的输入去做出评价，也不使用任何正在被执行的研究代码产生的反馈，静态分析工具往往会产生大量误报，而经验丰富的开发人员知道哪些错误是重要的，哪些错误可以被安全地忽略，因此使用机器学习、AI的方法来对这些经验丰富的开发人员的操作进行学习是消除误报的一种常用方法，然而要用机器学习就需要数据以及合适的机器学习算法，解决这两个问题才能更好地识别有效警告。下面介绍几种方法：<br>①    深度学习与非深度学习：在[11]中作者分别使用了三种非深度学习方案随机森林、决策树、线性支持向量机（SVM）以及三种深度学习方案深度神经网络DNN、卷积神经网络CNN、加权DNN来进行实验，以Wang等人中提出的黄金集[15]为基础创建用于本文训练和测试的数据集，以召回率，错误警告率以及AUC三个指标来评估，结果显示虽然深度学习的方法也有很多项为最佳结果，但是综合来看非深度学习的线性SVM的效果最好（较低的假警报、较高的召回率和AUC），尽管深度学习近些年来在软件分析领域一直被推崇，但是在消除误报这个领域，且它的表现不如线性SVM，运行时间更是非深度学习方法的近20倍，原因是虽然数据多，但是这些庞大的数据集的有效内在维度很低，也就是说深度学习与静态警告数据集的复杂度不匹配，而根据Principle of Parsimony，在低维的数据上使用复杂的方法是有害的，所以在消除误报的领域，深度学习的性能反而不如非深度学习。<br>  因此复杂的方法的效果并不一定比简单的方法好，选取合适的机器学习方法能更好更高效地识别有效警告，且能降低成本，加快进程。这在未来的相关研究中具有很好的指导意义。</p><blockquote><p><img src="https://s2.loli.net/2022/11/27/YQpv9e3f5zcEWXB.png" alt="深度学习.png" title="图3.1.1"></p></blockquote><p>②    增量主动学习：Yang等人在2021年提出了一种增量AI工具[16]来学习如何将误报与有效警报区分开以达到识别有效警告的目的，然而有监督的机器学习技术需要有标签的数据进行学习，而且要获得质量较高的标记数据有时会很耗时且昂贵，在识别有效警告领域，要训练一个能识别有效和无效警告的分类器需要数十万的标本，如果人工标注，成本会相当高，且标注需要专业知识，因此本文引入主动学习来进行数据标注。<br>这样做的原因是主动学习通过小部分已标记数据训练，然后为未标记数据申请更多标签，这样就可以减少所需的标记数据量。这对于机器学习的模型来说可以减少所需数据量，降低成本。<br>作者又选择了三种机器学习算法支持向量机(SVM)、随机森林（RF）和决策树（DT），并测试了有监督的SVM、RF、DT以及主动学习和SVM、主动学习和RF、主动学习和DT，得到结果发现增量主动学习可以获得高AUC，不比大多数数据集的监督学习差。<br>接下来作者通过实验证明在静态警告识别中应用增量主动学习模型可以帮助以更高的优先级检索可操作的警告，并减少在没有足够版本历史的软件项目中消除错误警报的努力。在静态警报识别场景中实施主动学习模型时，要检索多少样本是一个关键问题。过早或过晚停止将导致丢失重要的可操作警告或浪费不必要的运行时间和CPU资源。然后作者通过在九个数据集上实验发现在大多数数据集上主动学习只需要20%-30%的数据就可以识别90%以上的有效警告。作者通过一系列实验最终说明主动学习在处理不平衡数据集的静态分析的信息检索问题上是有效的。<br>Yang等人提出的增量主动学习方法在静态分析识别警告领域的应用很有意义，将增量主动学习和常用的机器学习算法结合可以大幅降低成本并且提高效率，同时这也是对机器学习如何获取知识这一问题的有效回应。这也进一步地提示相关研究者，不同方法结合使用可能会有更好的效果。</p><blockquote><p><img src="https://s2.loli.net/2022/11/27/qtOwKjW57zIaLhF.png" alt="增量主动学习.png" title="图3.1.2"></p></blockquote><p>③    构建完善的真实世界数据集：针对静态分析工具产生大量误报问题，已有不少后处理的解决方法，但是大多数这些方法只处理少数静态代码分析警告类型，并且基于小规模的数据集进行评估，显然具有局限性和不稳定性，因此可以利用机器学习和更大的数据集来更好地解决误报问题。<br> PÉTER HEGEDŰS等人在2022年提出构建一个最广泛的真实世界公共数据集[13]，并据此训练一个机器学习模型来更好地识别有效警告。<br> PÉTER HEGEDŰS等人针对SonarQube3这个开源平台，想借助它的提交历史来获得相关警告，作者使用数据挖掘技术挖掘了GitHub上Java项目的历史，保留哪些有SonarQube使用迹象的项目来获得适合构建假阳性静态代码分析(SCA)警告过滤方法的真实世界数据集。为了找到真阳性样本，即开发人员已修复的SonarQube警告，作者分析了2010年之前Java项目存储库的代码历史，以找到明确的Sonar Qube警告修复提交。为了找到假阳性的SonarQube报告（即，识别开发人员的动作A3），作者在GitHub上的Java项目存储库中执行代码搜索并在经典REST API的帮助下执行了所有挖掘步骤。然后执行了一个筛选步骤，删除了只有真阳性或假阳性样本的SonarQube问题类型。在这个过滤步骤之后，最终得到了来自9958个不同Java项目的160个警告类型和224484个警告样本。<br>接着作者用数据集训练了基于代码上下文的word2vec机器学习模型，对包含SonarQube警告报告的代码片段执行二进制分类任务，输入包含警告的代码上下文的矢量表示，输出二进制标签，该模型对160种不同类型的SonarQube警报进行分类，准确率为91%（最佳F1得分为81.3%，AUC为95.3%），识别出77.8%的假阳性警报，而平均只过滤出（即误分类）8%的真阳性警报。<br>许多现代CI/CD已经包含了SonarQube分析，而作者的方案可以轻松集成到该分析中，非常适合实际应用。同时作者构建的数据集也为有效警告识别领域提供了一个非常好的知识库，便于后续研究以及训练机器学习模型，这是非常有意义的。这种方法也是对知识库问题的一个正面解决，即缺少知识库，就构建足够大且可靠的知识库来为机器学习模型提供足够的数据，同时一个好的数据集的建立也可以为后续相关研究提供一定便利，推动相关研究的进行。</p><h2 id="3-2-警告排序"><a href="#3-2-警告排序" class="headerlink" title="3.2 警告排序"></a>3.2 警告排序</h2><p><em>排序方法是对那些有很大概率是真实缺陷的报警进行优先级排序，并使用警告特征来计算每个报警可操作的可能性。</em><br>在我们研究的多篇论文中，Jung等人(2005)提出使用句法报警上下文作为贝叶斯的输入[32]，计算每个报警的真实概率，并在报警前根据概率对报警进行排序。Kim和Ernst (2007a,b)提出了一种基于从源代码库中挖掘出来的软件变更历史特征的警告优先排序算法[33]，而他们的基本思想是，通过修正更改消除的警报是重要的。在类似的思路上，Williams和Hollingsworth(2005)提出了一种利用软件项目的源代码更改历史来驱动和帮助改进缺陷搜索的方法[34]。针对其他排序方法的弱点（即在检查报告时，排名应该是自适应的），Kremenek等人(2004)利用报告和用户反馈之间的相关性行为进行警报排名[35]。与聚类方法相比，该方法需要对所有排名的报警进行检查。<br>下面给出两篇具体论文的研究分析：<br>①在[18]中QIN等人提出了一种构建基于机器学习的警告优先级排序模型的方法。在一般的警告优先级模型中，通常为每个警告分配一个置信度评分，分数越高越有可能是真实缺陷，以此来弥补静态分析SAT在产生警告时产生了大量无效警告的情况。目前的警告优先级排序方法主要依靠警告特征计算权重集来获得最终置信度得分[19]，但警告特征[20]-[22]间存在冗余和不相关性，为了选择合适的特征，QIN等人提出在真实的、开源的、大规模的数据集上构建基于ML的警告优先级排序模型，在探索了91个预警特征，并使用特征选择算法找到了预警特征子集后，QIN等人证实了基于ML的警告优先级排序模型优于随机排序算法。<img src="https://s2.loli.net/2022/11/27/fBQasoVPIUH4bMF.png" alt="image.png">图3.2.1 框架预览<br>[18]中采用递归特征消除(RFE)算法迭代消除预警特征，选取最优特征集。RFE算法从所有原始特征集开始，在每次迭代中，RFE算法构建一个基于ml的预警优先级模型，并从当前特征集中去除最不重要的特征。最后，返回获得最佳优先级性能的特征子集(即最优特征集)。QIN等人选取了6种常用的ML模型，包括朴素贝叶斯(NB)、逻辑回归(LR)、K最近邻(KNN)、随机森林(RF)、决策树(DT)和支持向量机(SVM)，将静态分析预警数据集中的最优特征集和预警标签分为训练集和测试集，利用ML模型从训练集中学习基于ML的预警优先排序模型。<br>实验证明了基于最优特征集的警告优先排序模型具有良好的性能，且其中基于LR的警告优先排序模型性能最好。<br>②对于警报排序时训练的数据集 ，Athos Ribeiro等人给出如下处理假设[29]：<br>i. 数据提取：将来自不同工具的警报转换成统一的格式，并对每个警告应用标签，以区分它们是真阳性还是假阳性并将每个警告与特定的特征相关联，这些特征将组成一个数据集来训练我们的预测模型两点来对工具提供信息的规范化；<br>ii. 选择数据来源：通过在先前选定的源代码上运行静态分析器，并将触发的警告与实际的软件缺陷相匹配，来获得标记静态分析警告的数据集；<br>iii. 多个工具收集标记警告：对测试套件进行裁剪后运行静态分析器生成静态报告，并检查标记的警告集；<br>iv. 从标志警告中提取特征：特征包含生成警告的工具名称、同一文件中的警告数量、类别、冗余级别、邻居数量等<br>v. 依据数据集，构建预测模型，对每个触发警告分类为真阳性和假阳性，结果用于排序。<br>通过从准确率、精度、召回率等纬度的评估，Athos Ribeiro等人验证了此处理方式的合理性。[29]</p><h2 id="3-3-交互式"><a href="#3-3-交互式" class="headerlink" title="3.3 交互式"></a>3.3 交互式</h2><p>  XIN ZHANG等人提出了一种交互式方法来解决静态分析警报的误报问题[1]。通过用户交互，他们的方法协同地将合理但不精确的分析与精确但不合理的启发式方法相结合。在每轮迭代找到并优化问题，最大化收益，他们已经在Ursa工具中实现了这个方法。<br>该工具可以为声明性逻辑编程语言Datalog中指定的任何分析提供交互式警报解决方案。Ursa在最先进的静态数据竞赛分析中具有效性，使用一套8个Java程序，每个程序包含41-194个KLOC(千行代码的意思)。 Ursa能够消除每个基准测试74%的误报，每个问题的平均收益为12倍。<br>这个方法的关键思想是，组合方法 (就是那个把合理但不精确的分析与精确但不合理的启发式方法相结合的方法) 不是以可能不合理地抑制误报的方式直接应用给定的启发式方法，而是向用户提出有关启发式方法所针对的根本的真实的原因。如果用户确认了它们，就只有在用户知情的情况下，才会应用启发式方法来消除误报 。<br>为了有效，组合办法必须实现两个关键目标： 概括和优先次序，概括:与消除的误报数量相比，向用户提出的问题数量应该少得多，大多数警报通常是一组相对较少的常见根本原因所引发的，所以检查这个单个根本原因比检查多个警报更容易。优先次序:由于由不同根本原因导致的误报数量可能会有所不同，因此用户可能希望只回答收益相对较高的问题，所以通过迭代方式与用户交互来实现这一目标，而不是一次提出所有问题。<br>他们使用来自 Chord [Naik 2006] 的静态数据空间分析，它是上下文和流敏感的，并结合了线程逃逸分析、可能发生的并行分析和锁集分析，即图3.3.1中的推导。</p><blockquote><p>图3.3.1 示例程序中数据空间的推导<br><img src="https://s2.loli.net/2022/11/27/9k1w4Jfi8XKS5I6.png" alt="image.png"></p><p>图3.3.2 工具评估<br><img src="https://s2.loli.net/2022/11/27/4GVepWymEPOCH8z.png" alt="image.png"></p></blockquote><p>  他们在实践中证明了方法的有效性，通过只问几个问题来消除大多数误报，并优先考虑高回报的问题。然而，这种方法也有其弊端，即分析结果十分依赖于程序员，倘若程序员对警报是否真实和重要并不熟悉，仅凭直觉或个人喜好进行交互，那些分析结果可能和真实情况有很大的偏差，而且这种方法可能只适合用在开发阶段，代码测试和审查阶段可能不会有这种迭代交互的机会。</p><h2 id="3-4-修剪、分类"><a href="#3-4-修剪、分类" class="headerlink" title="3.4 修剪、分类"></a>3.4 修剪、分类</h2><p><em>通过分类的方式，可以区分警告是可处理还是不可处理。不可操作的警告将被修剪，不会报告给用户，因为这些警告更有可能是误报。</em><br>我们研究了近几年有关警报修剪分类方法的众多论文，其中Ayewah等人(2007)讨论了产生的报警的种类，并将报警的类型分为假阳性、小bug和严重bug[36]。Ruthruff等人(2008)提出了一种逻辑回归模型，基于从告警本身提取的33个特征来预测FindBugs发现的可操作告警[37]，并使用一种筛选方法快速丢弃预测能力低的特征，以构建具有成本效益的预测模型。Hanam等人(2014)提出了一种区分可操作和不可操作告警的方法，方法是根据每个静态分析告警周围的代码寻找相似的代码模式[38]。Flynn等人(2018)发展了和测试了映射到CERT规则的静态分析告警的四个分类模型[39]，使用了多种静态分析工具和从告警中提取的28个特征的新颖组合，可见关于警报分类的研究在不断进步和发展。<br>下面给出两种具体模型的分析[2][28]:<br>①静态分析工具的两个挑战是虚假的误报和未有采取行动的合法警告。因此Joseph R. Ruthruff和他的团队做了一个工具，使用筛选方法来快速丢弃预测能力低的影响因素，并经济高效地构建预测模型[2]，通过识别开发人员将要处理的合法警告来帮助解决这两个挑战，从而减少测试人员对程序内报告的数万个警告进行分类的工作量。他们从 Google 的数万个静态分析警告中抽样，构建了模型来预测错误警告是否为误报。<br>他们的工具使用逻辑回归分析，一种分类数据分析，用于预测服从二项分布的因变量值 。逻辑回归模型根据一系列系数的总和乘以特定自变量的来预测单元 <em>i</em>的因变量 y 的值。为了在数学上表征这一点，设 <em>Xi</em> = （<em>Xi1,…，Xin</em>） 是单位 i 的自变量值的向量。设 <em>β </em>= <em>β0</em>，<em>β_1</em>,…,βn <em>是通过将模型拟合到现有“模型构建”数据集来估计的系数，其中 </em>β<em>0 称为模型“截距”。“ 逻辑回归模型通过计算给定 _Xi</em> 的 <em>Yi</em> = 1 的概率来预测二进制值 <em>Y</em> i for <em>i，</em>这个模型的概率如图3.4.1所示。</p><blockquote><p>图3.4.1 模型的概率<br><img src="https://s2.loli.net/2022/11/27/7QvZrHPy6nkIbBE.png" alt="image.png"></p></blockquote><p>  他们根据自己在 Google 静态分析警告方面的经验，以及其他在其他软件工程领域建立回归模型的研究人员的经验，他们决定专注于更轻量级的复杂性度量，并且可以在大型代码库上非常快速地计算，于是选择了因子和相关指标，即图3.4.2所示。</p><blockquote><p>图3.4.2 静态分析警告和程序的因素<br><img src="https://s2.loli.net/2022/11/27/TvkAQLR34nqfzCX.png" alt="image.png"></p></blockquote><p>他们的筛选方法分为几个阶段:<br>第一阶段:考虑了5%的静态分析警告和源代码。此阶段的目标是考虑一小部分警告，并消除几乎没有构建准确模型所需的预测能力的影响因素。<br>第二阶段:如果消除后留下六个或更少的因素，就停止筛查，并根据剩余因素使用剩余的95%的警告收集数据。否则，在第二阶段考虑了另外 20% 的静态分析警告，然后使用偏差分析来消除检验统计量 p 值大于 0.50 的因子。第三阶段:使用接下来的 25% 的警告，现在分析的警告占所有警告的一半。这里的排除标准更严格：p 值大于 0.20。之所以选择这样做，是因为到目前为止，已经收集了大量数据，可以做出明智的判断。<br>第四阶段:如果剩余的因素超过六个，则这些因素用最后 50% 的数据来分析。这将消除 p 值不显着且大于 0.10 的因子。然后使用剩余因子作为自变量在 R 中拟合对数回归模型。</p><blockquote><p>图3.4.3 基于筛选因子构建模型 ，预测误报的模型<br><img src="https://s2.loli.net/2022/11/27/ELWztbgu4BHOqvN.png" alt="image.png"></p></blockquote><p>  分析然后评估预测精度:逻辑回归模型在预测误报和可操作静态分析警告方面具有准确性。可以看出，筛选模型在预测假阳性和基于真实缺陷的行动警告方面通常是最准确的。</p><blockquote><p>3.4.4 预测精度<br><img src="https://s2.loli.net/2022/11/27/XV9GLCYBgO2FJtv.png" alt="image.png"></p></blockquote><p>  这个基于筛选的模型能够平均在85%的时间内准确预测误报警告，在70%的时间内准确预测可操作警告。此外，筛选模型始终比现有预测模型表现更好。然而，这种方式需要额外的数据收集，收集构建全数据回归模型所需的数据可能需要大量时间，必须想办法尽快减少多余的影响因素，降低根据这些因素收集数据的成本。这个方法比较适合大型项目的后期测试中，当你认为一个缺陷有许多的可能因发因素，又无从查起，焦头烂额，就可以使用它。<br>②YU等人选择了13个基本分类器和两种集成学习方法构建了一个基于机器学习方法的二元分类模型[28]，将报告的警告被分类为有效警告(真实的缺陷)或无效警告(假阳性)，并对分类为无效警告的报告报警进行修剪，以减少人工检查的工作量。该实验在4个开源C项目上对该方法进行了评价，分类结果表明所提出的模型在实践中取得了较高的性能和可靠性。然后进行一个基线实验，以评估提出的模型的有效性与传统的对比。<br>该实验不同的特点有以下四点：<br>1、选择两种集成学习方法和13个基分类器建立自动缺陷识别模型。<br>2、在变量级别上设计了一组新工件特征，称为变量特征（VC），用于构建所提出的模型。<br>3、在四个开源C项目上进行了实验，以评估我们的方法在识别来自同一项目的报警的情况下的性能。<br>4、变量特征由三个不同的单一属性评估器进行排序，以确定这些特征对模型的影响。<br>（图：模型构建过程）<br><img src="https://s2.loli.net/2022/11/27/SX4Pn3tiMaH2GeL.png" alt="image.png"><br>YU等提出了一种基于警报的变量特征（vc）并给出了其语义度量：利用抽象语法树(AST)提取源代码语义。在分析源代码文件时，将注意力集中在数据流的表述和相关变量的条件谓词上，通过生成向后的程序片来减少要检查的语句数量。一个反向的程序切片将包含相关变量的语句作为种子语句，提取可能影响种子语句结果的三种类型的语句作为特征，分别是赋值语句、引用语句和控制流语句。<br>（图：分类器和集成学习方法）<img src="https://s2.loli.net/2022/11/27/hX49wlOnLAIbiJZ.png" alt="image.png"></p><p>③Diego Marcilio等人则提出了一种Java程序转换技术SpongeBugs[30]，它通过自动提供修复建议来提高SAT的实际可用性，即对源代码进行修改使其符合分析工具检查的规则。它的大致步骤为：<br>a、查找可能表示违反规则的文本模式。<br>b、对于步骤1中确定的每个匹配，在AST中执行完整搜索寻找违反规则的行为。<br>c、对于第2步中确认的每个匹配，实例化规则的修复模板生成违反规则的实际修复。<br>通过在12个流行的开源项目上运行并提交了它在项目中请求生成的大部分修复(总共946个)，Diego Marcilio等人证实了SpongeBugs可以成为一种有效的方法，帮助程序员修复静态代码分析工具发出的警告——从而有助于提高这些工具的可用性，进而提高软件系统的整体质量。<br>此外还有一种自动将代码转换模板应用到大型代码库的方法Coccinelle[23]。它支持用户定义mod(通用的)、复杂的模式，以捕获语义信息。它的实现将模式表示为CTL公式，并将其应用表示为程序控制流图上的模型检查问题。Coccinelle的主要应用是支持大型代码库的演进:当API或语言特性发生变化时，手动重构很容易出错，因为引入不一致或其他错误的风险很高。</p><h2 id="3-5-启发式方法"><a href="#3-5-启发式方法" class="headerlink" title="3.5 启发式方法"></a>3.5 启发式方法</h2><p>  ① 软件系统中缺陷的检测分为两个研究领域：静态代码分析和历史数据的统计建模。静态分析有误报的问题，相比之下，统计错误模型用历史开发信息来提示有风险的文件或提交，即潜在的缺陷。模型中使用的预测因子包括产品度量(例如提交中更改的行数)和过程度量(例如开发人员对文件的专业知识)统计错误模型的优点是它们提供了对提交和文件中的字段缺陷的合理预测[17]。缺点是预测不是细粒度的，整个文件都会被标为有风险。<br>  于是，Querel L等人便开发了一个名为 WarningsGuru 的工具，它结合了这两种方法，使用统计模型来识别哪些提交可能包含缺陷，并引入的静态分析警告显示出特定行号。他们还开发了一种跟踪提交的警告的技术，用它来追溯将警告分配给失败的构建。</p><blockquote><p>图3.5.1 WarningsGuru的体系结构<br><img src="https://s2.loli.net/2022/11/27/NHlQFqecmfDBksa.png" alt="image.png"></p></blockquote><p>  统计模型认为有风险的提交会突出显示，还会显示新警告和现有警告的数量。例如，图3.5.2中，显示了每次提交的警告和新警告的总数，以及 CommitGuru 的 统计风险预测，更改的文件有34个现有的警告提交，”b36bb31fe4”则不被认为是有风险的，此提交中没有引入新的警告。</p><blockquote><p>图3.5.2 每次提交的警告分析<br><img src="https://s2.loli.net/2022/11/27/Eeg6PY9cyw1vF4u.png" alt="image.png"></p><p>  图3.5.3  显示 CommitGuru 度量值时，提交的异常值以红色突出显示。例如，“添加的行”异常高，大型提交往往有风险<br><img src="https://s2.loli.net/2022/11/27/RXxWTG3Jdi57HFV.png" alt="image.png"></p></blockquote><p>  他们通过单独使用统计模型，发现 CommitGuru 将 25% 和 29% 的提交标记为 risky。当将其与 WarningsGuru 中的静态分析相结合时，两个项目的风险提交和警告数量分别为 20%，新警告的数量分别为 3% 和 6%。<br>  可见通过将统计模型与静态分析相结合，可以大大减少开发人员必须检查的提交和警告。他们这个工具也正在与加拿大发展部的KDM分析和国防研究合作，可见其有效性。然而这种方式也不能在所有时候都一帆风顺，因为统计模型不可能在可用、可靠、性能等维度上都做的很好，总会有覆盖不到的地方，作者也说只能用来标注有风险的提交的行，而且用于错误定位的静态分析工具自身都有局限，不能准确定位，结合起来一样会有误报的发生。<br>② 关闭-警告启发式方法：许多研究中使用启发式算法来对警告进行识别，如图3.5.4所示，构建一个数据集作为训练版本，并不断收集警告直到测试版本，最后在测试版本使用一段时间后选定一个参考修订版，使用关闭—警告启发式方法作为警告预言时，对于一个给定的修订版本，里面的每一个警告都要与参考修订版本对比，如果参考修订版中不再存在该警告（关闭警告），则该启发式算法认为该警告是有效的。如果在给定版本和参考版本中都存在该警告（开放警告），则启发式认为这是错误警告。如果包含带有警告的代码的文件已被删除，则警告将被标记为未知，并从数据集中删除。</p><blockquote><p><img src="https://s2.loli.net/2022/11/27/f58xqTw1bX4WDIz.png" alt="启发式算法.png" title="图3.5.4"></p></blockquote><p> 但是，Kang等人通过研究证明这种启发式方法并不稳定[12]，他们首先通过调整测试修订版本和参考修订版本之间的时间间隔，发现得到的有效警告的比例并不稳定，从图3.5.5里可以看出，8个项目中有4个项目的有效警告比率保持一致，而其他4个项目的有效警告比率增加了10%以上。总体而言，当将测试和参考文献修订之间的时间间隔从2年改为4年时，平均有效警告比率增加了14%。</p><blockquote><p><img src="https://s2.loli.net/2022/11/27/HfRwKhaVLcN8qbI.png" alt="启发式时间间隔.png" title="图3.5.5"></p></blockquote><p>接下来Kang等人又通过实验发现只有47%的关闭警告被人工注释人员标记为有效的，这意味着许多关闭警告是无效的。许多关闭的警告只是偶然关闭的。这说明虽然封闭警告启发式认为可以通过删除文件来删除一个警告，但它没有考虑其他情况，即警告可以通过修改代码顺便删除，但这并没有修复警告所指出的错误。这也说明应该考虑更多的信息，启发式没有足够的鲁棒性。<br>除了关闭警告有可能不是有效警告外，开放警告也有可能不是误报，也可能是被忽略的有效警告，Kang等人通过调查使用了Findbug过滤器文件的项目中被认定是错误的警告和开放警告的比例，最终发现平均只有31%的开放式警告被开发人员明确表示为错误警报，这表明只有少数开放警告是假警报。尽管其余打开的警告可能是错误警告，但它们也可能是尚未检查的有效警告。<br>综上所述，关闭—警告启发式算法并不是合适的警告预言，因为它的分类结果会因为参考版本的改变而改变，同时得出的关闭警告中只有部分被人工注释人员认定为有效警告，同时关闭警告和开放警告的分类与有效警告和无效警告的分类并不是完全相同的，关闭警告中会包含无效警告，开放警告中也会包含有效警告，因此这种启发式算法虽有可取之处，但是并没有足够的鲁棒性以及稳定性。未来应当将启发式和手动标记结合一下构建数据集。</p><h2 id="3-6-动静态分析结合"><a href="#3-6-动静态分析结合" class="headerlink" title="3.6 动静态分析结合"></a>3.6 动静态分析结合</h2><p>  静态分析只要源代码或二进制文件，而无需执行。此方法速度快，并且没有运行时间开销。然而，静态分析非常简单，会产生很多的误报和漏报。另一方面，动态分析涉及软件的运行。在动态分析的情况下，误报和误报的问题较少，因为它们通过运行测试用例进行分析，而开销就比较大，因此可以两者结合互补输出最佳结果。使用动态分析检查静态分析警报是否为真错误，并且见证故障的测试用例将作为错误场景报告给用户。<br>  在[7]中，Aggarwal A等人解释了如何有效集成静态和动态分析的方法。他们使用”BOON”作为静态分析仪，使用”STOBO”作为实验的动态分析器。<br>  Boon是一个静态分析器，它将缓冲区溢出检测问题表述为整数约束问题，并使用简单的图理论知识来解决约束。它更注重可扩展性而不是精度，因此可能会产生误报误报或漏报。</p><blockquote><p>图3.6.1.BOON的结构<br><img src="https://s2.loli.net/2022/11/27/6wO7qFcHYLxrbUZ.png" alt="image.png"></p></blockquote><pre><code>STOBO是基于测试技术的动态分析器，它使用小片段访问源代码，这些片段会占用缓冲区并检查库函数的某些安全属性。库函数具有先决条件，例如在 strcpy 函数中分配给目标缓冲区的内存应大于源缓冲区中字符串的长度。如果违反此类条件，则会发生缓冲区溢出，并在跟踪文件中报告警告。但是动态测试需要很多的测试用例。</code></pre><blockquote><p>图3.6.2.STOBO的结构<br><img src="https://s2.loli.net/2022/11/27/hr6BKZtoHFjxU2Q.png" alt="image.png"></p></blockquote><p>  于是他们做了一个工具同时使用静态分析和动态分析，在静态分析时使用别名变量标记不安全的库函数（如strcpy)，并引导动态分析器只关注它们。工具将扫描源代码以查找指针混叠。如果怀疑变量是别名，它将它们标记为可疑变量，因此工具必须足够智能，只能标记那些静态分析器无法精确处理的功能，指定应关注的行号以检测安全漏洞，并为静态分析器生成元数据，用于抑制其生成的虚假警告。然后，假阳性和假阴性的数量总体上有所减少。</p><blockquote><p>图3.6.3.他們的模型<br><img src="https://s2.loli.net/2022/11/27/O4Bu7xpA9TIqNJP.png" alt="image.png"></p></blockquote><p>  他们模型的性能取决于工具在标记“结构库函数”时的智能程度。C语言足够宽泛，有各种结构，如结构体和联合体。目前，他们的工具还无法智能地处理结构元素（结构）的混叠。</p><h1 id="4-未来研究方向"><a href="#4-未来研究方向" class="headerlink" title="4 未来研究方向"></a>4 未来研究方向</h1><p>①  Findbug是目前流行的一种静态代码分析工具，被下载超过百万次，同时也会产生很多误报，因此深入研究Findbug等静态代码分析工具生成的静态警告的特定警告类型是未来的一种研究方向。如先前文献[23]所示（Khalid等人，2015），Findbug识别的400多种可能的警告类型可分为八类（错误实践、正确性、国际化、恶意代码漏洞、多线程正确性、性能、安全性和危险代码）。可以为这些警告分配优先级（例如，低、中和高），以表明该警告是有效警告或真阳性的警告的把握。<br>②  目前有效警告识别领域的很多研究是基于Wang等人中提出的黄金集[15]以及黄金特征展开的，使用黄金特征进行机器学习再识别警告有极高的召回率，AUC等，看似效果几乎完美，但是如同Kang等人在[12]中发现的黄金特征仍存在与数据泄漏和数据重复相关的细微缺陷一样，这项发现仍旧存在一些瑕疵有待考究，后续的研究在使用相关结果时也应当对实验结果深入分析，并将研究得出的结果与基线进行比较，得出更准确的结果。因此未来针对黄金集、黄金特征的进一步研究也会是一种方向。<br>③ 关于Yang等人提出的增量主动学习在识别有效警告领域的应用[16]，未来的研究方向之一应该是估计算法停止的时间，过早或过晚停止将导致丢失重要的可操作警告或浪费不必要的运行时间和CPU资源。因此，对算法运行时间以及停止时间的估计，包括需要学习的数据量都需要进行估计，以便用更少的成本达到更高的效率。<br>④Echer等人在大量证据中发现最初被认为是正确但后来被收回或更正的信息，往往会继续影响记忆和推理[]。进一步可解释为无论是关于持续影响效应的详细资料的具体警告可以成功减少对过时信息的持续依赖，还是通过一个特定的警告与对撤销的信息提供一个貌似合理的替代解释相结合，操作进一步降低CIE，都无法完全消除它。而关于如何在实验中，最大化减少甚至完全消除过往错误对后续的影响，也是未来的研究方向。<br>⑤在提高跨项目缺陷识别的准确性方面存在一个主要的挑战，即使用一个给定的项目来训练一个模型来识别来自另一个项目的缺陷，而不需要人工检查[28]。如何扩展自动缺陷识别方法，将其用于更多的缺陷模式，如何设计一组可能被大多数缺陷模式充分共享的特征计划利用此模型结合迁移学习方法来自动识别跨项目的缺陷，这将有成为未来可深入钻研之处，有希望能提高跨项目缺陷识别的准确性。</p><h1 id="5-结论"><a href="#5-结论" class="headerlink" title="5 结论"></a>5 结论</h1><p>在本文中，我们研究了近二十年来关于静态分析工具产生警报中存在的问题和挑战，概述了处理静态分析工具产生的警告的各种方法。我们检索发现了35篇相关论文，在仔细研读这些论文后，我们将这些论文中提出的方法分为了6类，并选择其中一些阐述了具体实现模型。<br>我们深入研究分析了这6类方法并对针对其要点做出如下总结：机器学习需要足够的数据学习以及合适的方法，警告排序则通过对报警的优先级进行排序并使用警告特征来计算某个警告为有效警告的概率，交互式的方法将合理但不精确的分析与精确但不合理的启发式方法相结合在每轮迭代找到并优化问题，最大化收益。修剪/分类方法则是通过分类的方式，区分警告是可处理还是不可处理，并删除掉不可操作的警告，启发式方法中目前的主流是关闭警告启发式方法，其通过对比不同版本中同一警告的开关情况判断其是否有效，但是其效果不稳定且产生的标签可能与人类预言不符动静态分析结合则是使用动态分析检查静态分析警报是否为真错误，并将检测出故障的测试用例返回给用户。<br>未来，深入研究Findbug等静态代码分析工具生成的静态警告的特定警告类型、针对黄金集/黄金特征的进一步研究、估计增量注定学习算法停止的时间、研究探索如何最大化减少甚至完全消除过往错误对后续的影响、扩展自动缺陷识别方法都将成为这一领域的可能研究方向，我们计划探索各方法的组合，以更加有效地处理警报。</p><h1 id="6-參考文獻"><a href="#6-參考文獻" class="headerlink" title="6 參考文獻"></a>6 參考文獻</h1><p>[1]Zhang X, Grigore R, Si X, et al. Effective interactive resolution of static analysis alarms[J]. Proceedings of the ACM on Programming Languages, 2017, 1(OOPSLA): 1-30.<br>[2]Ruthruff J R, Penix J, Morgenthaler J D, et al. Predicting accurate and actionable static analysis warnings: an experimental approach[C]//Proceedings of the 30th international conference on Software engineering. 2008: 341-350.<br>[3]Muske T, Talluri R, Serebrenik A. Repositioning of static analysis alarms[C]//Proceedings of the 27th ACM SIGSOFT international symposium on software testing and analysis. 2018: 187-197.<br>[4]Akremi A. Software security static analysis false alerts handling approaches[J]. International Journal of Advanced Computer Science and Applications, 2021, 12(11): 702-711.<br>[5]Querel L P, Rigby P C. Warningsguru: Integrating statistical bug models with static analysis to provide timely and specific bug warnings[C]//Proceedings of the 2018 26th ACM Joint Meeting on European Software Engineering Conference and Symposium on the Foundations of Software Engineering. 2018: 892-895.<br>[6]Muske T, Serebrenik A. Techniques for Efficient Automated Elimination of False Positives[C]//2020 IEEE 20th International Working Conference on Source Code Analysis and Manipulation (SCAM). IEEE, 2020: 259-263.<br>[7]Aggarwal A, Jalote P. Integrating static and dynamic analysis for detecting vulnerabilities[C]//30th Annual International Computer Software and Applications Conference (COMPSAC’06). IEEE, 2006, 1: 343-350.<br>[8]Gosain A, Sharma G. A survey of dynamic program analysis techniques and tools[C]//Proceedings of the 3rd International Conference on Frontiers of Intelligent Computing: Theory and Applications (FICTA) 2014. Springer, Cham, 2015: 113-122.<br>[9]Bayer U, Moser A, Kruegel C, et al. Dynamic analysis of malicious code[J]. Journal in Computer Virology, 2006, 2(1): 67-77.<br>[10]Kirchmayr W, Moser M, Nocke L, et al. Integration of static and dynamic code analysis for understanding legacy source code[C]//2016 IEEE international conference on software maintenance and evolution (ICSME). IEEE, 2016: 543-552.<br>[11]Xueqi Yang , Jianfeng Chen, Rahul Yedida, Zhe Yu, Tim Menzies. Learning to recognize actionable static code warnings(is intrinsically easy) . Empirical Software Engineering (2021) 26: 56<br>[12]Hong Jin Kang, Khai Loong Aw, David Lo. Detecting false alarms from automatic static analysis tools: how far are we?. 2022 IEEE/ACM 44th International Conference on Software Engineering (ICSE)<br>[13]Hegedus, P., &amp; Ferenc, R. (2022). Static code analysis alarms filtering reloaded: A new real-world dataset and its ML-based utilization. <em>IEEE Access</em>, <em>10</em>, 55090–55101.<br>[14]Muske, T., &amp; Serebrenik, A. (2016). Survey of approaches for handling static analysis alarms. <em>2016 IEEE 16th International Working Conference on Source Code Analysis and Manipulation (SCAM)</em>, 157–166<br>[15]Wang, J., Wang, S., &amp; Wang, Q. (2018). Is there a “golden” feature set for static warning identification? <em>Proceedings of the 12th ACM/IEEE International Symposium on Empirical Software Engineering and Measurement</em>, 2018,<em>17</em>, 1–10.<br>[16]Yang, X., Yu, Z., Wang, J., &amp; Menzies, T. (2021). Understanding static code warnings: An incremental AI approach. <em>Expert Systems with Applications</em>, <em>167</em>. 2020<br>[17]T. Hall, S. Beecham, D. Bowes, D. Gray, and S. Counsell. 2012. A Systematic<br>Literature Review on Fault Prediction Performance in Software Engineering. IEEE Transactions on Software Engineering 38, 6 (Nov 2012), 1276–1304.<br> [18] Mingshuang Qing, Xiang Feng, Jun Luo, Wanmin Huang, Jingui Zhang, Ping Wang, Yong Fan Xiuting Ge, Ya Pan.A machine learning-based static analysis warning prioritization. <em>2021 IEEE 21st International Conference on Software Quality, Reliability and Security Companion (QRS-C)QRS-C55045.2021.00103</em><br>[19] B. H. Dang, “A practical approach for ranking software warnings from multiple static code analysis reports,” in 2020 SoutheastCon, vol. 2. IEEE, 2020, pp. 1–7<br>[20] X. Yang, J. Chen, R. Yedida, Z. Yu, and T. Menzies, “Learning to recognize actionable static code warnings (is intrinsically easy),” Empirical Software Engineering, vol. 26, no. 3, pp. 1–24, 2021.<br>[21] S. Heckman and L. Williams, “A model building process for identifying actionable static analysis alerts,” in 2009 International Conference on Software Testing Verification and Validation. IEEE, 2009, pp. 161–170.<br>[22] J. Ruthruff, J. Penix, J. Morgenthaler, S. Elbaum, and G. Rothermel, “Predicting accurate and actionable static analysis warnings,” in 2008 ACM/IEEE 30th International Conference on Software Engineering. IEEE, 2008, pp. 341–350.<br>[23]Khalid H, Nagappan M, Hassan AE (2015) Examining the relationship between findbugs warnings and app ratings. IEEE Software 33(4):34–39 </p><p>[24]Yuwei Zhang, Ying Xing, Yunzhan Gong, Dahai Jin, Honghui Li, Feng Liu. A variable-level automated defect identification model based on machine learning.  Soft Computing (2020) 24:1045–1061<br>[25] Athos Ribeiro, Paulo Meirelles, Nelson Lago, Fabio Kon. Ranking Warnings from Multiple Source Code Static Analyzers via Ensemble Learning.  the 15th International Symposium,  · August 2019<br>[26] Diego Marcilio , Carlo A. Furia , Rodrigo Bonifácio , Gustavo Pinto. SpongeBugs: Automatically Generating Fix Suggestions in Response to Static Code Analysis Warnings. Preprint submitted to Elsevier June 3, 2020<br>[27] ULLRICH K. H. ECKER, STEPHAN LEWANDOWSKY, AND DAVID T. W. TANG. Explicit warnings reduce but do not eliminate the continued influence of misinformation. Memory &amp; Cognition 2010, 38 (8), 1087-1100<br>[28] Jung Y, Kim J, Shin J, Yi K (2005) Taming false alarms from a domainunaware c analyzer by a Bayesian statistical post analysis. In: Proceedings of the 12th international static analysis symposium, pp 203–217<br>[29a] Kim S, Ernst MD (2007a) Prioritizing warning categories by analyzing software history. In: Proceedings of the 4th international workshop on mining software repositories, pp 27–27<br>[29b] Kim S, Ernst MD (2007b) Which warnings should i fix first? In: Proceedings of the 2007 joint meeting on foundations of software engineering, pp 45–54<br>[30] Williams CC, Hollingsworth JK (2005) Automatic mining of source code repositories to improve bug finding techniques. IEEE Trans Softw Eng 31(6):466–480<br>[31] Kremenek T, Ashcraft K, Yang JF, Engler DR (2004) Correlation exploitation in error ranking. In: Proceedings of the 12th ACM SIGSOFT international symposium on foundations of software engineering, pp 83–93<br>[32] Ayewah N, Pugh W, Morgenthaler JD, Penix J, Zhou YQ (2007) Evaluating static analysis defect warnings on production software. In: Proceedings of the 7th ACM SIGPLAN-SIGSOFT workshop on program analysis for software tools and engineering, pp 1–8<br>[33] Ruthruff JR, Penix J,Morgenthaler JD, Elbaum SG, Rothermel G (2008) Predicting accurate and actionable static analysis warnings: an experimental approach. In: Proceedings of the 30th international conference on software engineering, pp 341–350<br>[34] Hanam Q, Tan L, Holmes R, Lam P (2014) Finding patterns in static analysis alerts: improving actionable alert ranking. In: Proceedings of the 11th working conference on mining software repositories, pp 152–161<br>[35]  Flynn L, Snavely W, Svoboda D, VanHoudnos NM, Qin R, Burns J, Zubrow D, Stoddard R, Marce-Santurio G (2018) Prioritizing alerts from multiple static analysis tools, using classification models. In: Proceedings of the 1st international workshop on software qualities and their dependencies, pp 13–20  </p>]]></content>
      
      
      <categories>
          
          <category> 煩人作業 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 自動化測試 </tag>
            
            <tag> 錯誤警告 </tag>
            
            <tag> 綜述 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>操作系統實驗-I/O处理</title>
      <link href="/2022/11/15/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%B5%B1%E5%AF%A6%E9%A9%97-I_O%E5%A4%84%E7%90%86/"/>
      <url>/2022/11/15/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%B5%B1%E5%AF%A6%E9%A9%97-I_O%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="讀取鍵盤輸入"><a href="#讀取鍵盤輸入" class="headerlink" title="讀取鍵盤輸入"></a>讀取鍵盤輸入</h2><ol><li><p>首先要初始化鍵盤，設定鍵盤中斷处理程序，開鍵盤中斷等</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">init_keyboard</span><span class="params">()</span>&#123;</span><br><span class="line">    put_irq_handler(KEYBOARD_IRQ, keyboard_handler);</span><br><span class="line">    enable_irq(KEYBOARD_IRQ);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>第一條設定中斷处理程序交由8259A芯片处理</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">put_irq_handler</span><span class="params">(<span class="type">int</span> irq, irq_handler handler)</span></span><br><span class="line">&#123;</span><br><span class="line">disable_irq(irq);</span><br><span class="line">irq_table[irq] = handler;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">disable_irq:</span><br><span class="line">movecx, [esp + 4]; irq</span><br><span class="line">pushf</span><br><span class="line">cli</span><br><span class="line">movah, 1</span><br><span class="line">rolah, cl; ah = (1 &lt;&lt; (irq % 8))</span><br><span class="line">cmpcl, 8</span><br><span class="line">jaedisable_8; disable irq &gt;= 8 at the slave 8259</span><br><span class="line">disable_0:</span><br><span class="line">inal, INT_M_CTLMASK</span><br><span class="line">testal, ah</span><br><span class="line">jnzdis_already; already disabled?</span><br><span class="line">oral, ah</span><br><span class="line">outINT_M_CTLMASK, al; set bit at master 8259</span><br><span class="line">popf</span><br><span class="line">moveax, 1; disabled by this function</span><br><span class="line">ret</span><br><span class="line">disable_8:</span><br><span class="line">inal, INT_S_CTLMASK</span><br><span class="line">testal, ah</span><br><span class="line">jnzdis_already; already disabled?</span><br><span class="line">oral, ah</span><br><span class="line">outINT_S_CTLMASK, al; set bit at slave 8259</span><br><span class="line">popf</span><br><span class="line">moveax, 1; disabled by this function</span><br><span class="line">ret</span><br><span class="line">dis_already:</span><br><span class="line">popf</span><br><span class="line">xoreax, eax; already disabled</span><br><span class="line">ret</span><br></pre></td></tr></table></figure><p>關中斷后，在中斷处理表對应位置放上鍵盤的处理程序<br>第二條開启鍵盤中斷</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">enable_irq:</span><br><span class="line">movecx, [esp + 4]; irq</span><br><span class="line">pushf</span><br><span class="line">cli</span><br><span class="line">movah, ~1</span><br><span class="line">rolah, cl; ah = ~(1 &lt;&lt; (irq % 8))</span><br><span class="line">cmpcl, 8</span><br><span class="line">jaeenable_8; enable irq &gt;= 8 at the slave 8259</span><br><span class="line">enable_0:</span><br><span class="line">inal, INT_M_CTLMASK</span><br><span class="line">andal, ah</span><br><span class="line">outINT_M_CTLMASK, al; clear bit at master 8259</span><br><span class="line">popf</span><br><span class="line">ret</span><br><span class="line">enable_8:</span><br><span class="line">inal, INT_S_CTLMASK</span><br><span class="line">andal, ah</span><br><span class="line">outINT_S_CTLMASK, al; clear bit at slave 8259</span><br><span class="line">popf</span><br><span class="line">ret</span><br></pre></td></tr></table></figure><h2 id="鍵盤處理程序讀數據"><a href="#鍵盤處理程序讀數據" class="headerlink" title="鍵盤處理程序讀數據"></a>鍵盤處理程序讀數據</h2><p>鍵盤上有鍵盤編碼器Intel 8048，主板上有鍵盤控制器Intel 8042。敲鍵盤產生的編碼叫掃描碼，分為Make Code和Break Code兩類，当8048檢測到一個鍵的動作，會把相應的掃描碼發给8042，8042經轉換后將其放置在輸入緩冲區，然后告訴8259A說:產生鍵盤中斷啦!然后等待处理。(PS.如果又按新的鍵，緩冲区沒清空，8042是不會在接收新的掃描碼的)<br>看一看8042的寄存器，因為它處於8048和系統中間，輸出和輸入是相对的，可以共用一個端口。就是說，一个<code>in al, 0x60</code>指令就能讀取掃描碼了。<br><img src="https://s2.loli.net/2022/11/23/6iVrCmosFH7gvyn.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=fzidS&amp;originHeight=144&amp;originWidth=450&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p></li><li><p>寫一个讀取並打印的語句試試:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">keyboard_handler</span><span class="params">(<span class="type">int</span> irq)</span>&#123;</span><br><span class="line">    u8 scan_code = in_byte(KB_DATA);</span><br><span class="line">    disp_int(scan_code); <span class="comment">//disp是在kliba.asm里的打印方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果按下”a”和”9”鍵，將會出現:0x1E、0x9E、0xA、0x8A，看表可見对应的就是那兩字母的Make Code和Break Code。Break Code是Make Code與0x80進行或操作的結果。<br><img src="https://s2.loli.net/2022/11/23/YV3oQS4kJa7OEcq.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=sia2Y&amp;originHeight=561&amp;originWidth=564&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br><img src="https://s2.loli.net/2022/11/23/yOqB7vUxWnPJGrI.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=NYYRE&amp;originHeight=787&amp;originWidth=572&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p></li><li><p>Make Code似乎找不到什么規律，干脆寫成解析數組好了</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">u32 keymap[NR_SCAN_CODES * MAP_COLS] = &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* scan-code!ShiftShiftE0 XX*/</span></span><br><span class="line"><span class="comment">/* ==================================================================== */</span></span><br><span class="line"><span class="comment">/* 0x00 - none*/</span><span class="number">0</span>,     <span class="number">0</span>,    <span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x01 - ESC*/</span>ESC,ESC,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x02 - &#x27;1&#x27;*/</span><span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;!&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x03 - &#x27;2&#x27;*/</span><span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;@&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x04 - &#x27;3&#x27;*/</span><span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;#&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x05 - &#x27;4&#x27;*/</span><span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;$&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x06 - &#x27;5&#x27;*/</span><span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;%&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x07 - &#x27;6&#x27;*/</span><span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;^&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x08 - &#x27;7&#x27;*/</span><span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;&amp;&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x09 - &#x27;8&#x27;*/</span><span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;*&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x0A - &#x27;9&#x27;*/</span><span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;(&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x0B - &#x27;0&#x27;*/</span><span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;)&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x0C - &#x27;-&#x27;*/</span><span class="string">&#x27;-&#x27;</span>,<span class="string">&#x27;_&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x0D - &#x27;=&#x27;*/</span><span class="string">&#x27;=&#x27;</span>,<span class="string">&#x27;+&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x0E - BS*/</span>BACKSPACE,BACKSPACE,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x0F - TAB*/</span>TAB,TAB,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x10 - &#x27;q&#x27;*/</span><span class="string">&#x27;q&#x27;</span>,<span class="string">&#x27;Q&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x11 - &#x27;w&#x27;*/</span><span class="string">&#x27;w&#x27;</span>,<span class="string">&#x27;W&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x12 - &#x27;e&#x27;*/</span><span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x13 - &#x27;r&#x27;*/</span><span class="string">&#x27;r&#x27;</span>,<span class="string">&#x27;R&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x14 - &#x27;t&#x27;*/</span><span class="string">&#x27;t&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x15 - &#x27;y&#x27;*/</span><span class="string">&#x27;y&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x16 - &#x27;u&#x27;*/</span><span class="string">&#x27;u&#x27;</span>,<span class="string">&#x27;U&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x17 - &#x27;i&#x27;*/</span><span class="string">&#x27;i&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x18 - &#x27;o&#x27;*/</span><span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;O&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x19 - &#x27;p&#x27;*/</span><span class="string">&#x27;p&#x27;</span>,<span class="string">&#x27;P&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x1A - &#x27;[&#x27;*/</span><span class="string">&#x27;[&#x27;</span>,<span class="string">&#x27;&#123;&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x1B - &#x27;]&#x27;*/</span><span class="string">&#x27;]&#x27;</span>,<span class="string">&#x27;&#125;&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x1C - CR/LF*/</span>ENTER,ENTER,PAD_ENTER,</span><br><span class="line"><span class="comment">/* 0x1D - l. Ctrl*/</span>CTRL_L,CTRL_L,CTRL_R,</span><br><span class="line"><span class="comment">/* 0x1E - &#x27;a&#x27;*/</span><span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x1F - &#x27;s&#x27;*/</span><span class="string">&#x27;s&#x27;</span>,<span class="string">&#x27;S&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x20 - &#x27;d&#x27;*/</span><span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x21 - &#x27;f&#x27;*/</span><span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x22 - &#x27;g&#x27;*/</span><span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;G&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x23 - &#x27;h&#x27;*/</span><span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x24 - &#x27;j&#x27;*/</span><span class="string">&#x27;j&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x25 - &#x27;k&#x27;*/</span><span class="string">&#x27;k&#x27;</span>,<span class="string">&#x27;K&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x26 - &#x27;l&#x27;*/</span><span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;L&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x27 - &#x27;;&#x27;*/</span><span class="string">&#x27;;&#x27;</span>,<span class="string">&#x27;:&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x28 - &#x27;\&#x27;&#x27;*/</span><span class="string">&#x27;\&#x27;&#x27;</span>,<span class="string">&#x27;&quot;&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x29 - &#x27;`&#x27;*/</span><span class="string">&#x27;`&#x27;</span>,<span class="string">&#x27;~&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x2A - l. SHIFT*/</span>SHIFT_L,SHIFT_L,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x2B - &#x27;\&#x27;*/</span><span class="string">&#x27;\\&#x27;</span>,<span class="string">&#x27;|&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x2C - &#x27;z&#x27;*/</span><span class="string">&#x27;z&#x27;</span>,<span class="string">&#x27;Z&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x2D - &#x27;x&#x27;*/</span><span class="string">&#x27;x&#x27;</span>,<span class="string">&#x27;X&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x2E - &#x27;c&#x27;*/</span><span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x2F - &#x27;v&#x27;*/</span><span class="string">&#x27;v&#x27;</span>,<span class="string">&#x27;V&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x30 - &#x27;b&#x27;*/</span><span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x31 - &#x27;n&#x27;*/</span><span class="string">&#x27;n&#x27;</span>,<span class="string">&#x27;N&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x32 - &#x27;m&#x27;*/</span><span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;M&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x33 - &#x27;,&#x27;*/</span><span class="string">&#x27;,&#x27;</span>,<span class="string">&#x27;&lt;&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x34 - &#x27;.&#x27;*/</span><span class="string">&#x27;.&#x27;</span>,<span class="string">&#x27;&gt;&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x35 - &#x27;/&#x27;*/</span><span class="string">&#x27;/&#x27;</span>,<span class="string">&#x27;?&#x27;</span>,PAD_SLASH,</span><br><span class="line"><span class="comment">/* 0x36 - r. SHIFT*/</span>SHIFT_R,SHIFT_R,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x37 - &#x27;*&#x27;*/</span><span class="string">&#x27;*&#x27;</span>,<span class="string">&#x27;*&#x27;</span>,    <span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x38 - ALT*/</span>ALT_L,ALT_L,  ALT_R,</span><br><span class="line"><span class="comment">/* 0x39 - &#x27; &#x27;*/</span><span class="string">&#x27; &#x27;</span>,<span class="string">&#x27; &#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x3A - CapsLock*/</span>CAPS_LOCK,CAPS_LOCK,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x3B - F1*/</span>F1,F1,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x3C - F2*/</span>F2,F2,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x3D - F3*/</span>F3,F3,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x3E - F4*/</span>F4,F4,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x3F - F5*/</span>F5,F5,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x40 - F6*/</span>F6,F6,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x41 - F7*/</span>F7,F7,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x42 - F8*/</span>F8,F8,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x43 - F9*/</span>F9,F9,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x44 - F10*/</span>F10,F10,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x45 - NumLock*/</span>NUM_LOCK,NUM_LOCK,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x46 - ScrLock*/</span>SCROLL_LOCK,SCROLL_LOCK,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x47 - Home*/</span>PAD_HOME,<span class="string">&#x27;7&#x27;</span>,HOME,</span><br><span class="line"><span class="comment">/* 0x48 - CurUp*/</span>PAD_UP,<span class="string">&#x27;8&#x27;</span>,UP,</span><br><span class="line"><span class="comment">/* 0x49 - PgUp*/</span>PAD_PAGEUP,<span class="string">&#x27;9&#x27;</span>,PAGEUP,</span><br><span class="line"><span class="comment">/* 0x4A - &#x27;-&#x27;*/</span>PAD_MINUS,<span class="string">&#x27;-&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x4B - Left*/</span>PAD_LEFT,<span class="string">&#x27;4&#x27;</span>,LEFT,</span><br><span class="line"><span class="comment">/* 0x4C - MID*/</span>PAD_MID,<span class="string">&#x27;5&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x4D - Right*/</span>PAD_RIGHT,<span class="string">&#x27;6&#x27;</span>,RIGHT,</span><br><span class="line"><span class="comment">/* 0x4E - &#x27;+&#x27;*/</span>PAD_PLUS,<span class="string">&#x27;+&#x27;</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x4F - End*/</span>PAD_END,<span class="string">&#x27;1&#x27;</span>,END,</span><br><span class="line"><span class="comment">/* 0x50 - Down*/</span>PAD_DOWN,<span class="string">&#x27;2&#x27;</span>,DOWN,</span><br><span class="line"><span class="comment">/* 0x51 - PgDown*/</span>PAD_PAGEDOWN,<span class="string">&#x27;3&#x27;</span>,PAGEDOWN,</span><br><span class="line"><span class="comment">/* 0x52 - Insert*/</span>PAD_INS,<span class="string">&#x27;0&#x27;</span>,INSERT,</span><br><span class="line"><span class="comment">/* 0x53 - Delete*/</span>PAD_DOT,<span class="string">&#x27;.&#x27;</span>,DELETE,</span><br><span class="line"><span class="comment">/* 0x54 - Enter*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x55 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x56 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x57 - F11*/</span>F11,F11,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x58 - F12*/</span>F12,F12,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x59 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x5A - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x5B - ???*/</span><span class="number">0</span>,<span class="number">0</span>,GUI_L,</span><br><span class="line"><span class="comment">/* 0x5C - ???*/</span><span class="number">0</span>,<span class="number">0</span>,GUI_R,</span><br><span class="line"><span class="comment">/* 0x5D - ???*/</span><span class="number">0</span>,<span class="number">0</span>,APPS,</span><br><span class="line"><span class="comment">/* 0x5E - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x5F - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x60 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x61 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x62 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x63 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x64 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x65 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x66 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x67 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x68 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x69 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x6A - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x6B - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x6C - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x6D - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x6E - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x6F - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x70 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x71 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x72 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x73 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x74 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x75 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x76 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x77 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x78 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x78 - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x7A - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x7B - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x7C - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x7D - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x7E - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,</span><br><span class="line"><span class="comment">/* 0x7F - ???*/</span><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MAP_COLS為三，代表按鍵組合的三種情況，如果獲得掃描碼0x1F，就应該用keymap[0x1F<em>MAP_COLS]來表示，即s。如果獲得的掃描碼是0x2A0x1E，說明左shift和a鍵是一起按的，因此应該用keymap[0x1E</em>MAP_COLS+1]來表示这個結果，即A。<br>然而，輸入緩冲区大小只有一個字節，按下Shift+A，实際就產生了四次中斷接收，这给程序實現帶來了困難，無法準備知道用戶做了什么，于是当接收到类似的值可以專門建個任務處理他們。</p></li><li><p>建立鍵盤輸入緩冲區，存掃描碼，如果到达末尾則把指針移到開頭:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">s_kb</span> &#123;</span></span><br><span class="line"><span class="type">char</span>*p_head;<span class="comment">/* 指向缓冲区中下一个空闲位置 */</span></span><br><span class="line"><span class="type">char</span>*p_tail;<span class="comment">/* 指向键盘任务应处理的字节 */</span></span><br><span class="line"><span class="type">int</span>count;<span class="comment">/* 缓冲区中共有多少字节 */</span></span><br><span class="line"><span class="type">char</span>buf[KB_IN_BYTES];<span class="comment">/* 缓冲区 */</span></span><br><span class="line">&#125;KB_INPUT;</span><br></pre></td></tr></table></figure><p>修改处理程序，掃描碼放入緩冲区:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">keyboard_handler</span><span class="params">(<span class="type">int</span> irq)</span></span><br><span class="line">&#123;</span><br><span class="line">u8 scan_code = in_byte(KB_DATA);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (kb_in.count &lt; KB_IN_BYTES) &#123;</span><br><span class="line">*(kb_in.p_head) = scan_code;</span><br><span class="line">kb_in.p_head++;</span><br><span class="line"><span class="keyword">if</span> (kb_in.p_head == kb_in.buf + KB_IN_BYTES) &#123;<span class="comment">//看到尾沒</span></span><br><span class="line">kb_in.p_head = kb_in.buf;</span><br><span class="line">&#125;</span><br><span class="line">kb_in.count++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改init_keyboard，使中斷發生時初始化緩冲区狀態、按鍵狀態:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">init_keyboard</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">kb_in.count = <span class="number">0</span>;</span><br><span class="line">kb_in.p_head = kb_in.p_tail = kb_in.buf;</span><br><span class="line"></span><br><span class="line">shift_l= shift_r = <span class="number">0</span>;</span><br><span class="line">alt_l= alt_r   = <span class="number">0</span>;</span><br><span class="line">ctrl_l= ctrl_r  = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">caps_lock   = <span class="number">0</span>;</span><br><span class="line">num_lock    = <span class="number">1</span>;</span><br><span class="line">scroll_lock = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">set_leds();</span><br><span class="line"></span><br><span class="line">        put_irq_handler(KEYBOARD_IRQ, keyboard_handler);<span class="comment">/*设定键盘中断处理程序*/</span></span><br><span class="line">        enable_irq(KEYBOARD_IRQ);                       <span class="comment">/*开键盘中断*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>添加终端處理任務，新建文件tty.c，開始只是不停調用keyboard.c中的keyboard_red()讀鍵盤碼。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">keyboard_read</span><span class="params">(TTY* p_tty)</span></span><br><span class="line">&#123;</span><br><span class="line">u8scan_code;</span><br><span class="line"><span class="type">char</span>output[<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span>make;<span class="comment">/* 1: make;  0: break. */</span></span><br><span class="line"></span><br><span class="line">u32key = <span class="number">0</span>;<span class="comment">/* 用一个整型来表示一个键。比如，如果 Home 被按下，</span></span><br><span class="line"><span class="comment"> * 则 key 值将为定义在 keyboard.h 中的 &#x27;HOME&#x27;。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">u32*keyrow;<span class="comment">/* 指向 keymap[] 的某一行 */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(kb_in.count &gt; <span class="number">0</span>)&#123;</span><br><span class="line">code_with_E0 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">scan_code = get_byte_from_kbuf();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 下面开始解析扫描码 */</span></span><br><span class="line"><span class="keyword">if</span> (scan_code == <span class="number">0xE1</span>) &#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line">u8 pausebrk_scode[] = &#123;<span class="number">0xE1</span>, <span class="number">0x1D</span>, <span class="number">0x45</span>,</span><br><span class="line">       <span class="number">0xE1</span>, <span class="number">0x9D</span>, <span class="number">0xC5</span>&#125;;</span><br><span class="line"><span class="type">int</span> is_pausebreak = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;<span class="number">6</span>;i++)&#123;</span><br><span class="line"><span class="keyword">if</span> (get_byte_from_kbuf() != pausebrk_scode[i]) &#123;</span><br><span class="line">is_pausebreak = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (is_pausebreak) &#123;</span><br><span class="line">key = PAUSEBREAK;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (scan_code == <span class="number">0xE0</span>) &#123;</span><br><span class="line">scan_code = get_byte_from_kbuf();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* PrintScreen 被按下 */</span></span><br><span class="line"><span class="keyword">if</span> (scan_code == <span class="number">0x2A</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (get_byte_from_kbuf() == <span class="number">0xE0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (get_byte_from_kbuf() == <span class="number">0x37</span>) &#123;</span><br><span class="line">key = PRINTSCREEN;</span><br><span class="line">make = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* PrintScreen 被释放 */</span></span><br><span class="line"><span class="keyword">if</span> (scan_code == <span class="number">0xB7</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (get_byte_from_kbuf() == <span class="number">0xE0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (get_byte_from_kbuf() == <span class="number">0xAA</span>) &#123;</span><br><span class="line">key = PRINTSCREEN;</span><br><span class="line">make = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 不是PrintScreen, 此时scan_code为0xE0紧跟的那个值. */</span></span><br><span class="line"><span class="keyword">if</span> (key == <span class="number">0</span>) &#123;</span><br><span class="line">code_with_E0 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((key != PAUSEBREAK) &amp;&amp; (key != PRINTSCREEN)) &#123;</span><br><span class="line"><span class="comment">/* 首先判断Make Code 还是 Break Code */</span></span><br><span class="line">make = (scan_code &amp; FLAG_BREAK ? <span class="number">0</span> : <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 先定位到 keymap 中的行 */</span></span><br><span class="line">keyrow = &amp;keymap[(scan_code &amp; <span class="number">0x7F</span>) * MAP_COLS];</span><br><span class="line"></span><br><span class="line">column = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> caps = shift_l || shift_r;</span><br><span class="line"><span class="keyword">if</span> (caps_lock) &#123;</span><br><span class="line"><span class="keyword">if</span> ((keyrow[<span class="number">0</span>] &gt;= <span class="string">&#x27;a&#x27;</span>) &amp;&amp; (keyrow[<span class="number">0</span>] &lt;= <span class="string">&#x27;z&#x27;</span>))&#123;</span><br><span class="line">caps = !caps;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (caps) &#123;</span><br><span class="line">column = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (code_with_E0) &#123;</span><br><span class="line">column = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">key = keyrow[column];</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>(key) &#123;</span><br><span class="line"><span class="keyword">case</span> SHIFT_L:</span><br><span class="line">shift_l = make;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> SHIFT_R:</span><br><span class="line">shift_r = make;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> CTRL_L:</span><br><span class="line">ctrl_l = make;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> CTRL_R:</span><br><span class="line">ctrl_r = make;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> ALT_L:</span><br><span class="line">alt_l = make;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> ALT_R:</span><br><span class="line">alt_l = make;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> CAPS_LOCK:</span><br><span class="line"><span class="keyword">if</span> (make) &#123;</span><br><span class="line">caps_lock   = !caps_lock;</span><br><span class="line">set_leds();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> NUM_LOCK:</span><br><span class="line"><span class="keyword">if</span> (make) &#123;</span><br><span class="line">num_lock    = !num_lock;</span><br><span class="line">set_leds();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> SCROLL_LOCK:</span><br><span class="line"><span class="keyword">if</span> (make) &#123;</span><br><span class="line">scroll_lock = !scroll_lock;</span><br><span class="line">set_leds();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (make) &#123; <span class="comment">/* 忽略 Break Code */</span></span><br><span class="line"><span class="type">int</span> pad = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 首先处理小键盘 */</span></span><br><span class="line"><span class="keyword">if</span> ((key &gt;= PAD_SLASH) &amp;&amp; (key &lt;= PAD_9)) &#123;</span><br><span class="line">pad = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">switch</span>(key) &#123;</span><br><span class="line"><span class="keyword">case</span> PAD_SLASH:</span><br><span class="line">key = <span class="string">&#x27;/&#x27;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_STAR:</span><br><span class="line">key = <span class="string">&#x27;*&#x27;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_MINUS:</span><br><span class="line">key = <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_PLUS:</span><br><span class="line">key = <span class="string">&#x27;+&#x27;</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_ENTER:</span><br><span class="line">key = ENTER;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">if</span> (num_lock &amp;&amp;</span><br><span class="line">    (key &gt;= PAD_0) &amp;&amp;</span><br><span class="line">    (key &lt;= PAD_9)) &#123;</span><br><span class="line">key = key - PAD_0 + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (num_lock &amp;&amp;</span><br><span class="line"> (key == PAD_DOT)) &#123;</span><br><span class="line">key = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">switch</span>(key) &#123;</span><br><span class="line"><span class="keyword">case</span> PAD_HOME:</span><br><span class="line">key = HOME;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_END:</span><br><span class="line">key = END;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_PAGEUP:</span><br><span class="line">key = PAGEUP;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_PAGEDOWN:</span><br><span class="line">key = PAGEDOWN;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_INS:</span><br><span class="line">key = INSERT;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_UP:</span><br><span class="line">key = UP;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_DOWN:</span><br><span class="line">key = DOWN;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_LEFT:</span><br><span class="line">key = LEFT;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_RIGHT:</span><br><span class="line">key = RIGHT;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> PAD_DOT:</span><br><span class="line">key = DELETE;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">key |= shift_l? FLAG_SHIFT_L: <span class="number">0</span>;</span><br><span class="line">key |= shift_r? FLAG_SHIFT_R: <span class="number">0</span>;</span><br><span class="line">key |= ctrl_l? FLAG_CTRL_L: <span class="number">0</span>;</span><br><span class="line">key |= ctrl_r? FLAG_CTRL_R: <span class="number">0</span>;</span><br><span class="line">key |= alt_l? FLAG_ALT_L: <span class="number">0</span>;</span><br><span class="line">key |= alt_r? FLAG_ALT_R: <span class="number">0</span>;</span><br><span class="line">key |= pad      ? FLAG_PAD      : <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">in_process(p_tty, key);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">PRIVATE u8 <span class="title function_">get_byte_from_kbuf</span><span class="params">()</span>       <span class="comment">/* 从键盘缓冲区中读取下一个字节 */</span></span><br><span class="line">&#123;</span><br><span class="line">        u8 scan_code;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (kb_in.count &lt;= <span class="number">0</span>) &#123;&#125;   <span class="comment">/* 等待下一个字节到来 */</span></span><br><span class="line"></span><br><span class="line">        disable_int();</span><br><span class="line">        scan_code = *(kb_in.p_tail);</span><br><span class="line">        kb_in.p_tail++;</span><br><span class="line">        <span class="keyword">if</span> (kb_in.p_tail == kb_in.buf + KB_IN_BYTES) &#123;</span><br><span class="line">                kb_in.p_tail = kb_in.buf;</span><br><span class="line">        &#125;</span><br><span class="line">        kb_in.count--;</span><br><span class="line">        enable_int();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> scan_code;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>函數首先判斷kb_in.count是否為0，不為零就開始讀，讀時關中斷，讀完才打開，然后解析掃描碼，要判斷的東西很多，最后要能輸出所有可輸出字符，按shift能輸出大寫。</p><h2 id="顯示器輸出"><a href="#顯示器輸出" class="headerlink" title="顯示器輸出"></a>顯示器輸出</h2><p>之前一直都是調用系統的中斷來輸出字符，現在要自食其力了。<br>我們來討論80<em>25文本模式，在此模式下，顥存大小為32KB，佔用范圍為0xB8000~0xBFFFF。每兩個字符代表一個字符，低字節表示ASCII碼，高字節表示字符属性(顏色，分前景和背景兩部分)<br><img src="https://s2.loli.net/2022/11/23/euGBSsf579TowCP.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=czqGi&amp;originHeight=520&amp;originWidth=436&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>所以一個屏幕映射到顯存中所佔的空間為80</em>25*2=4000Byte，32MB顯存可以放下8個屏幕。通过端口操作可以对顯示器寄存器進行讀寫操作。<br><img src="https://s2.loli.net/2022/11/23/K5ThtpVxgIiQ8Cz.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=na9zc&amp;originHeight=528&amp;originWidth=587&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p></li><li><p>新建console.c以用來寫顯示相關程序，首圥初始化一個屏幕，設置光標等信息:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">init_screen</span><span class="params">(TTY* p_tty)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> nr_tty = p_tty - tty_table;</span><br><span class="line">p_tty-&gt;p_console = console_table + nr_tty;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> v_mem_size = V_MEM_SIZE &gt;&gt; <span class="number">1</span>;<span class="comment">/* 显存总大小 (in WORD) */</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> con_v_mem_size                   = v_mem_size / NR_CONSOLES;</span><br><span class="line">p_tty-&gt;p_console-&gt;original_addr      = nr_tty * con_v_mem_size;</span><br><span class="line">p_tty-&gt;p_console-&gt;v_mem_limit        = con_v_mem_size;</span><br><span class="line">p_tty-&gt;p_console-&gt;current_start_addr = p_tty-&gt;p_console-&gt;original_addr;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 默认光标位置在最开始处 */</span></span><br><span class="line">p_tty-&gt;p_console-&gt;cursor = p_tty-&gt;p_console-&gt;original_addr;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (nr_tty == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="comment">/* 第一个控制台沿用原来的光标位置 */</span></span><br><span class="line">p_tty-&gt;p_console-&gt;cursor = disp_pos / <span class="number">2</span>;</span><br><span class="line">disp_pos = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">out_char(p_tty-&gt;p_console, nr_tty + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">out_char(p_tty-&gt;p_console, <span class="string">&#x27;#&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">set_cursor(p_tty-&gt;p_console-&gt;cursor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>我們可以通过設置Start Address High Register和Start Address Low Register來重新設置顯示開始地址，從而實現滾屏功能。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">in_process</span><span class="params">(TTY* p_tty, u32 key)</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="type">char</span> output[<span class="number">2</span>] = &#123;<span class="string">&#x27;\0&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!(key &amp; FLAG_EXT)) &#123;</span><br><span class="line">put_key(p_tty, key);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> raw_code = key &amp; MASK_RAW;</span><br><span class="line">                <span class="keyword">switch</span>(raw_code) &#123;</span><br><span class="line">                <span class="keyword">case</span> ENTER:</span><br><span class="line">put_key(p_tty, <span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> BACKSPACE:</span><br><span class="line">put_key(p_tty, <span class="string">&#x27;\b&#x27;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> UP:</span><br><span class="line">                        <span class="keyword">if</span> ((key &amp; FLAG_SHIFT_L) || (key &amp; FLAG_SHIFT_R)) &#123;</span><br><span class="line">scroll_screen(p_tty-&gt;p_console, SCR_DN);</span><br><span class="line">                        &#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> DOWN:</span><br><span class="line"><span class="keyword">if</span> ((key &amp; FLAG_SHIFT_L) || (key &amp; FLAG_SHIFT_R)) &#123;</span><br><span class="line">scroll_screen(p_tty-&gt;p_console, SCR_UP);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> F1:</span><br><span class="line"><span class="keyword">case</span> F2:</span><br><span class="line"><span class="keyword">case</span> F3:</span><br><span class="line"><span class="keyword">case</span> F4:</span><br><span class="line"><span class="keyword">case</span> F5:</span><br><span class="line"><span class="keyword">case</span> F6:</span><br><span class="line"><span class="keyword">case</span> F7:</span><br><span class="line"><span class="keyword">case</span> F8:</span><br><span class="line"><span class="keyword">case</span> F9:</span><br><span class="line"><span class="keyword">case</span> F10:</span><br><span class="line"><span class="keyword">case</span> F11:</span><br><span class="line"><span class="keyword">case</span> F12:</span><br><span class="line"><span class="comment">/* Alt + F1~F12 */</span></span><br><span class="line"><span class="keyword">if</span> ((key &amp; FLAG_ALT_L) || (key &amp; FLAG_ALT_R)) &#123;</span><br><span class="line">select_console(raw_code - F1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">scroll_screen</span><span class="params">(CONSOLE* p_con, <span class="type">int</span> direction)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (direction == SCR_UP) &#123;</span><br><span class="line"><span class="keyword">if</span> (p_con-&gt;current_start_addr &gt; p_con-&gt;original_addr) &#123;</span><br><span class="line">p_con-&gt;current_start_addr -= SCREEN_WIDTH;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (direction == SCR_DN) &#123;</span><br><span class="line"><span class="keyword">if</span> (p_con-&gt;current_start_addr + SCREEN_SIZE &lt;</span><br><span class="line">    p_con-&gt;original_addr + p_con-&gt;v_mem_limit) &#123;</span><br><span class="line">p_con-&gt;current_start_addr += SCREEN_WIDTH;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">set_video_start_addr(p_con-&gt;current_start_addr);</span><br><span class="line">set_cursor(p_con-&gt;cursor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>現在可以通過Shift+上下箭頭實現滾屏了<br><img src="https://s2.loli.net/2022/11/23/fALju7Qxkh9a521.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=AMeuy&amp;originHeight=491&amp;originWidth=721&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>單個終端的輸出實現後，多個終端不過就是多了一個選擇的步驟而已，只有当某個TTY对應的控制台是當前控制台，它才可以讀取鍵盤緩冲區。<br><img src="https://s2.loli.net/2022/11/23/cwvQ3sSaKeYdoqJ.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=eh2CV&amp;originHeight=560&amp;originWidth=524&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><h2 id="完善鍵盤功能"><a href="#完善鍵盤功能" class="headerlink" title="完善鍵盤功能"></a>完善鍵盤功能</h2><h3 id="1-回車，退格等鍵的处理"><a href="#1-回車，退格等鍵的处理" class="headerlink" title="1 回車，退格等鍵的处理"></a>1 回車，退格等鍵的处理</h3><p>首先在tty.c终端in_process里識別到对应的按鍵，用0x01FF和特殊按鍵key相與得出raw_code，然后控制台作对应的處理。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(raw_code) &#123;</span><br><span class="line">      <span class="keyword">case</span> ENTER:</span><br><span class="line">          <span class="keyword">if</span>(mode == <span class="number">0</span>)&#123;</span><br><span class="line">                put_key(p_tty, <span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                mode = <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> BACKSPACE:</span><br><span class="line">          put_key(p_tty, <span class="string">&#x27;\b&#x27;</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> UP:</span><br><span class="line">          <span class="keyword">if</span> ((key &amp; FLAG_SHIFT_L) || (key &amp; FLAG_SHIFT_R)) &#123;</span><br><span class="line">                scroll_screen(p_tty-&gt;p_console, SCR_DN);&#125;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> DOWN:</span><br><span class="line">          <span class="keyword">if</span> ((key &amp; FLAG_SHIFT_L) || (key &amp; FLAG_SHIFT_R)) &#123;</span><br><span class="line">                scroll_screen(p_tty-&gt;p_console, SCR_UP);</span><br><span class="line">            &#125;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> TAB:</span><br><span class="line">          put_key(p_tty,<span class="string">&#x27;\t&#x27;</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">u8* p_vmem = (u8*)(V_MEM_BASE + p_con-&gt;cursor * <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>(ch) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;\n&#x27;</span>:</span><br><span class="line">        <span class="keyword">if</span> (p_con-&gt;cursor &lt; p_con-&gt;original_addr +</span><br><span class="line">            p_con-&gt;v_mem_limit - SCREEN_WIDTH) &#123;</span><br><span class="line">            push_STA(p_con,p_con-&gt;cursor);<span class="comment">//輸出的話，先存儲光標位置</span></span><br><span class="line">            p_con-&gt;cursor = p_con-&gt;original_addr + SCREEN_WIDTH * </span><br><span class="line">                ((p_con-&gt;cursor - p_con-&gt;original_addr) /</span><br><span class="line">                 SCREEN_WIDTH + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">//刪除的話pop出之前光標位置，將現在的光標和之前光標的位置間的內容清空</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;\b&#x27;</span>:</span><br><span class="line">        <span class="keyword">if</span> (p_con-&gt;cursor &gt; p_con-&gt;original_addr) &#123;</span><br><span class="line">            <span class="type">int</span> tmp =p_con-&gt;cursor;</span><br><span class="line"></span><br><span class="line">            p_con-&gt;cursor = pop_STA(p_con);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; tmp - p_con-&gt;cursor; i++) &#123;</span><br><span class="line">                *(p_vmem - <span class="number">2</span> - <span class="number">2</span> * i) = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">                *(p_vmem - <span class="number">1</span> - <span class="number">2</span> * i) = DEFAULT_CHAR_COLOR;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">//tab:要判斷是否會越界，把位置進棧，移動光標</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;\t&#x27;</span>:</span><br><span class="line">        <span class="keyword">if</span>(p_con-&gt;cursor &lt; p_con-&gt;original_addr + p_con-&gt;v_mem_limit-TAB_WIDTH)&#123;</span><br><span class="line">            push_STA(p_con,p_con-&gt;cursor);</span><br><span class="line">            p_con-&gt;cursor += TAB_WIDTH;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">if</span> (p_con-&gt;cursor &lt;</span><br><span class="line">            p_con-&gt;original_addr + p_con-&gt;v_mem_limit - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">//普通輸入</span></span><br><span class="line">            push_STA(p_con, p_con-&gt;cursor);</span><br><span class="line">            *p_vmem++ = ch;</span><br><span class="line">            <span class="keyword">if</span>(mode == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(*p_vmem == <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">                    *p_vmem++ = DEFAULT_CHAR_COLOR;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    *p_vmem++ = DEFAULT_CHAR_COLOR;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(*p_vmem == <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">                    *p_vmem++ = DEFAULT_CHAR_COLOR;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    *p_vmem++ = RED_CHAR_COLOR;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            p_con-&gt;cursor++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>首先顯存定位到當前控制台顯存基地址+(光標位置*2 Byte)的地方，</p></li></ol><ul><li>如果不是特殊字符就正常輸出，光標位置沒有超出最大顯存位置的話，就先把光標位置入棧，在當前顯存位置輸出該字符，如果是普通模式，下一字節顏色控制就設為默認，否則設為紅色。</li><li>如果是’\n’就是換行，光標位置就要少于最大位置減去屏幕寬度才行，一样先存儲位置，再把光標移到下一行開頭</li><li>如果是’\t’，如果沒越界，就位置入棧，光標往后移四格</li><li>如果是’\b’退格，前一個是普通輸入的話，回到前一格就好，但前一個是換行的話就要回到上一行的位置，是TAB也要刪掉連續的四格，所以入棧的光標位置就派上了用場。如果光標位置大于開始的位置，就先保存当前位置，把光標位置設為出棧的那個位置，然后把兩個位置中間的數據全設為空和默認顏色<h3 id="2-隔一段時間清空屏幕"><a href="#2-隔一段時間清空屏幕" class="headerlink" title="2 隔一段時間清空屏幕"></a>2 隔一段時間清空屏幕</h3></li></ul><ol><li><p>可以用時鐘中斷來做，但事先要增加一個循环清空屏幕的任務。在proc.h里新增並定義这個任務:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Number of tasks &amp; procs */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NR_TASKS2 <span class="comment">//增加一個任務</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NR_PROCS3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* stacks of tasks */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STACK_SIZE_TTY0x8000</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STACK_SIZE_FRESHER  0x8000 <span class="comment">//任務名和栈大小</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STACK_SIZE_TESTA0x8000</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STACK_SIZE_TESTB0x8000</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STACK_SIZE_TESTC0x8000</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STACK_SIZE_TOTAL(STACK_SIZE_TTY + \</span></span><br><span class="line"><span class="meta">STACK_SIZE_FRESHER + \ <span class="comment">//加入棧</span></span></span><br><span class="line">STACK_SIZE_TESTA + \</span><br><span class="line">STACK_SIZE_TESTB + \</span><br><span class="line">STACK_SIZE_TESTC)</span><br></pre></td></tr></table></figure><p>在global.c里把任務加進任務列表</p></li><li><p>tty.c里寫这個任務，當開始時就設一個20秒的時鐘，發生中斷后就刷新所有控制台。井且把鼠標定位到開頭。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始代所有屏幕</span></span><br><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">taskFresher</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">milli_delay(<span class="number">200000</span>);</span><br><span class="line">TTY* p_tty; <span class="comment">//tty指針;</span></span><br><span class="line"><span class="keyword">for</span>(p_tty = TTY_FIRST; p_tty &lt; TTY_END; p_tty++)&#123;</span><br><span class="line">refresh(p_tty-&gt;p_console);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">refresh</span><span class="params">(CONSOLE* p_con)</span>&#123;</span><br><span class="line">u8* p_vmem = (u8*)(V_MEM_BASE);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = p_con-&gt;original_addr;i&lt;p_con-&gt;cursor;i++)&#123;</span><br><span class="line">*p_vmem++= <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">*p_vmem++ = DEFAULT_CHAR_COLOR;</span><br><span class="line">&#125;</span><br><span class="line">p_con-&gt;cursor = p_con-&gt;current_start_addr = p_con-&gt;original_addr;</span><br><span class="line">flush(p_con);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>同時也可以改一下原本的初始化控制台的函數，使其初始化最后再清空一下屏幕</p></li><li><p>最后在global.c里的任務表里添加上这個任務，然后每二十秒就會自動清空屏幕辣!</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC TASK task_table[NR_TASKS] = &#123;</span><br><span class="line">    &#123;task_tty, STACK_SIZE_TTY, <span class="string">&quot;tty&quot;</span>&#125;,</span><br><span class="line">    &#123;taskFresher, STACK_SIZE_FRESHER, <span class="string">&quot;fresher&quot;</span>&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="3-搜索模式"><a href="#3-搜索模式" class="headerlink" title="3 搜索模式"></a>3 搜索模式</h3><p>目標是按下ESC進入搜索模式，停止清屏，輸入红色的關鍵字，按下Enter進行搜索，封鎖除了Enter外的鍵，搜到的字全標红，再按一下ESC退去搜索模式並清空關鍵字和標红。</p><h4 id="1-新增模式"><a href="#1-新增模式" class="headerlink" title="1 新增模式"></a>1 新增模式</h4><p>在global.c里寫個变量<code>PUBLIC int mode;</code>用來表示当前模式。<br>在console.h里新增变量記錄按下esc時光標的位置，方便退出時回去。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">s_console</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span>current_start_addr;<span class="comment">/* 当前显示到了什么位置  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span>original_addr;<span class="comment">/* 当前控制台对应显存位置 */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span>v_mem_limit;<span class="comment">/* 当前控制台占的显存大小 */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span>cursor;<span class="comment">/* 当前光标位置 */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span>    start_search_cursor; <span class="comment">//按下esc時光標的位置</span></span><br><span class="line">STA pos_stk; <span class="comment">//棧</span></span><br><span class="line">&#125;CONSOLE;</span><br></pre></td></tr></table></figure><h4 id="2-模式切換"><a href="#2-模式切換" class="headerlink" title="2 模式切換"></a>2 模式切換</h4><p>在tty.c判斷特殊按鍵里加上ESC</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> ESC:</span><br><span class="line"><span class="keyword">if</span>(mode == <span class="number">0</span>)&#123;</span><br><span class="line">        mode = <span class="number">1</span>;</span><br><span class="line">        p_tty-&gt;p_console-&gt;start_search_cursor = p_tty-&gt;p_console-&gt;cursor;</span><br><span class="line">        p_tty-&gt;p_console-&gt;pos_stk.start_search_cursor = p_tty-&gt;p_console-&gt;pos_stk.ptr;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        mode = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>開头也添上當mode=2就只有ESC退出可用，ENTER鍵增加當模式非0進行搜索的功能</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (mode == <span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>((key &amp; MASK_RAW) == ESC)&#123;</span><br><span class="line">        mode = <span class="number">0</span>;<span class="comment">//查找模式按回車后只有ESC可用，按下后恢复正常模式</span></span><br><span class="line">        exitSearch(p_tty-&gt;p_console);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">..................................</span><br><span class="line"><span class="keyword">case</span> ENTER:</span><br><span class="line"><span class="keyword">if</span>(mode == <span class="number">0</span>)&#123;</span><br><span class="line">        put_key(p_tty, <span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        searchWord(p_tty-&gt;p_console);</span><br><span class="line">        mode = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>計時刷新屏幕那里也加上一個判斷mode=0才刷新的條件，console.c里輸出字符時若mode為2則輸出红色</p><h4 id="3-搜索"><a href="#3-搜索" class="headerlink" title="3 搜索"></a>3 搜索</h4><p>獲取搜索關鍵字的長度，遍历控制台每個字符，給當前字符指定開始和結束指針，每匹配上一個字符，結束指針就往后移，全部匹配就代表搜索到了，標红。不匹配就結束，從下一個字符繼續匹配，直到找到所有匹配的字符串并標红</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">searchWord</span><span class="params">(CONSOLE *p_con)</span>&#123;</span><br><span class="line"><span class="type">int</span> wordLen = p_con-&gt;cursor * <span class="number">2</span> - p_con-&gt;start_search_cursor *<span class="number">2</span>;</span><br><span class="line"><span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>; i &lt; p_con-&gt;start_search_cursor * <span class="number">2</span>; i += <span class="number">2</span>) &#123; <span class="comment">//从头到尾一個個字找</span></span><br><span class="line"><span class="type">int</span> begin = i;</span><br><span class="line"><span class="type">int</span> end = i;</span><br><span class="line"><span class="type">int</span> found = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j&lt; wordLen ; j += <span class="number">2</span>)&#123;</span><br><span class="line"><span class="type">char</span> c = *((u8 *) (V_MEM_BASE + end));</span><br><span class="line"><span class="type">int</span> place = j + p_con-&gt;start_search_cursor * <span class="number">2</span>;</span><br><span class="line"><span class="type">char</span> target = *((u8 *)(V_MEM_BASE + place));</span><br><span class="line"><span class="keyword">if</span>( c == target)&#123;</span><br><span class="line">end += <span class="number">2</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">found = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(found == <span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> m = begin; m &lt; end; m += <span class="number">2</span>)&#123;</span><br><span class="line">*(u8 *) (V_MEM_BASE + m + <span class="number">1</span>) = RED_CHAR_COLOR;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>退出搜索模式則是把搜索關鍵詞清空，標红恢复，並把光標移動到搜索前的位置</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">exitSearch</span><span class="params">(CONSOLE *p_con)</span>&#123;</span><br><span class="line">u8 * p_vmem = (u8 *)(V_MEM_BASE + p_con-&gt;cursor * <span class="number">2</span>);</span><br><span class="line"><span class="type">int</span> len = p_con-&gt;cursor - p_con-&gt;start_search_cursor;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len ; i ++)&#123;</span><br><span class="line">*(p_vmem - <span class="number">2</span> - <span class="number">2</span> * i) = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">*(p_vmem - <span class="number">1</span> - <span class="number">2</span> * i) = DEFAULT_CHAR_COLOR;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>; i &lt; p_con-&gt;start_search_cursor* <span class="number">2</span>; i += <span class="number">2</span>)&#123;</span><br><span class="line">*(u8 *)(V_MEM_BASE + i + <span class="number">1</span>) = DEFAULT_CHAR_COLOR;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p_con-&gt;cursor = p_con-&gt;start_search_cursor;</span><br><span class="line">p_con-&gt;pos_stk.ptr = p_con-&gt;pos_stk.start_search_cursor;</span><br><span class="line">flush(p_con);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ctrl-z撤銷"><a href="#4-ctrl-z撤銷" class="headerlink" title="4 ctrl+z撤銷"></a>4 ctrl+z撤銷</h3><p>咋一想这個功能似乎很麻煩，要記錄下每一次的輸入操作，並且一步步地反向操作回去，工作量好像很大。但其實我們每一步操作其實都是個字符，完全可以建一個操作的棧，但是每次操作時錄入的是該操作对应的逆操作，然后每次按ctrl+z就出桟一個字符並當成正能輸入out_put出去，做相应的处理。</p><h4 id="1-識別ctrl-z操作"><a href="#1-識別ctrl-z操作" class="headerlink" title="1 識別ctrl+z操作"></a>1 識別ctrl+z操作</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">     <span class="keyword">if</span> (!(key &amp; FLAG_EXT)) &#123;</span><br><span class="line"><span class="keyword">if</span>((key &amp; FLAG_CTRL_L) ||(key &amp; FLAG_CTRL_R))&#123;</span><br><span class="line">output[<span class="number">0</span>] = key;</span><br><span class="line"><span class="keyword">if</span> (output[<span class="number">0</span>] == <span class="string">&#x27;z&#x27;</span> || output[<span class="number">0</span>] == <span class="string">&#x27;Z&#x27;</span>)&#123;</span><br><span class="line">rollback(p_tty-&gt;p_console);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">put_key(p_tty, key);</span><br><span class="line">&#125;</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br></pre></td></tr></table></figure><h4 id="2-建立操作棧，此操作不是撤銷操作的話才入棧"><a href="#2-建立操作棧，此操作不是撤銷操作的話才入棧" class="headerlink" title="2 建立操作棧，此操作不是撤銷操作的話才入棧"></a>2 建立操作棧，此操作不是撤銷操作的話才入棧</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">PRIVATE <span class="type">int</span> optionsTop;</span><br><span class="line">PRIVATE <span class="type">char</span> options[SCREEN_SIZE];</span><br><span class="line">...............................................</span><br><span class="line"><span class="keyword">if</span>(!p_con-&gt;rolling)&#123;</span><br><span class="line">    options[++optionsTop] = <span class="string">&#x27;\b&#x27;</span>;<span class="comment">//換行的話，对应逆操作是刪除</span></span><br><span class="line">&#125;</span><br><span class="line">................................................</span><br><span class="line">        <span class="type">char</span> c; <span class="comment">//被退格的字符</span></span><br><span class="line"><span class="keyword">if</span>(p_con-&gt;cursor - tmp == <span class="number">4</span>)&#123;</span><br><span class="line">    c = <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(p_con-&gt;cursor/SCREEN_WIDTH - tmp /SCREEN_WIDTH == <span class="number">1</span>)&#123;</span><br><span class="line">    c = <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    c = *(p_vmem<span class="number">-2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!p_con-&gt;rolling)&#123;</span><br><span class="line">    options[++optionsTop] = c; <span class="comment">//退格的話，如果前一個鼠標位置和当前位</span></span><br><span class="line">    <span class="comment">//置差四的話被退格就是&quot;\t&quot;，差一行就是&quot;\n&quot;，其余的就是顯存位置的該字符</span></span><br><span class="line">&#125;</span><br><span class="line">................................................</span><br><span class="line"><span class="keyword">if</span>(!p_con-&gt;rolling)&#123;</span><br><span class="line">    options[++optionsTop] = <span class="string">&#x27;\b&#x27;</span>; <span class="comment">//&quot;\t&quot;和普通字符的逆操作都是&quot;\b&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-撤銷操作"><a href="#3-撤銷操作" class="headerlink" title="3 撤銷操作"></a>3 撤銷操作</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC <span class="type">void</span> <span class="title function_">rollback</span><span class="params">(CONSOLE* p_con)</span> &#123;</span><br><span class="line">p_con-&gt;rolling = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(optionsTop &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">out_char(p_con, options[optionsTop--]);</span><br><span class="line">&#125;</span><br><span class="line">p_con-&gt;rolling = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-一些問題"><a href="#5-一些問題" class="headerlink" title="5 一些問題"></a>5 一些問題</h3><h4 id="1-解釋中斷向量"><a href="#1-解釋中斷向量" class="headerlink" title="1 解釋中斷向量"></a>1 解釋中斷向量</h4><p>中斷向量就是中斷服務程序的首地址，包含偏移地址IP和段地址CS，占四個字節。</p><h4 id="2-解释中断类型码"><a href="#2-解释中断类型码" class="headerlink" title="2 解释中断类型码"></a>2 解释中断类型码</h4><p>中断类型码为8位二进制数。是中斷服務程序的編號，所有的中断服务<a href="https://baike.baidu.com/item/%E5%AD%90%E7%A8%8B%E5%BA%8F?fromModule=lemma_inlink">程序</a>入口地址放在<a href="https://baike.baidu.com/item/%E4%B8%AD%E6%96%AD%E5%90%91%E9%87%8F%E8%A1%A8?fromModule=lemma_inlink">中断向量表</a>中，由中断类型码×4，就是該程序入口地址在中断向量表的位置。</p><h4 id="3-解釋中斷向量表"><a href="#3-解釋中斷向量表" class="headerlink" title="3 解釋中斷向量表"></a>3 解釋中斷向量表</h4><p>存放所有中斷向量的地址空間(8086是在低1KB的空間)，</p><h4 id="4-實模式下中斷程序地址如何得到"><a href="#4-實模式下中斷程序地址如何得到" class="headerlink" title="4 實模式下中斷程序地址如何得到?"></a>4 實模式下中斷程序地址如何得到?</h4><p>根據中斷類型碼n，從中斷向量表中取得中斷程序地址，段地址存入CS，偏移量存入IP，使CPU轉入中斷處理程序運行。</p><h4 id="5-保護模式下中斷程序地址如何得到"><a href="#5-保護模式下中斷程序地址如何得到" class="headerlink" title="5 保護模式下中斷程序地址如何得到?"></a>5 保護模式下中斷程序地址如何得到?</h4><p>以中断描述符表寄存器(IDTR)指定中斷描述符表的基地址為起始地址，用調用號N*8算出偏移量，即為N號中斷門描述符的首地址，根據中斷門中的選擇子和偏移量得到中斷處理程序入口。</p><h4 id="6-中斷向量的地址如何得到"><a href="#6-中斷向量的地址如何得到" class="headerlink" title="6 中斷向量的地址如何得到?"></a>6 中斷向量的地址如何得到?</h4><p>調用號N*4。</p><h4 id="7-實模式下如何根據中斷向量的地址得到中斷程序地址"><a href="#7-實模式下如何根據中斷向量的地址得到中斷程序地址" class="headerlink" title="7 實模式下如何根據中斷向量的地址得到中斷程序地址?"></a>7 實模式下如何根據中斷向量的地址得到中斷程序地址?</h4><p>段地址存入CS，偏移量存入IP。</p><h4 id="8-解釋中斷描述符"><a href="#8-解釋中斷描述符" class="headerlink" title="8 解釋中斷描述符"></a>8 解釋中斷描述符</h4><p>IDT，除了含有中斷处理程序地址信息外，還包括許多属性和類型位，每個中斷描述符占用連續的8個字節。<br><img src="https://s2.loli.net/2022/11/29/wRYhx5OFLfUueKZ.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=Iqvwz&amp;originHeight=251&amp;originWidth=703&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><h4 id="9-保護模式下中斷描述符表如何得到"><a href="#9-保護模式下中斷描述符表如何得到" class="headerlink" title="9 保護模式下中斷描述符表如何得到?"></a>9 保護模式下中斷描述符表如何得到?</h4><p>由IDTR指定中斷描述符表的基地址</p><h4 id="10-保護模式下中斷門如何得到"><a href="#10-保護模式下中斷門如何得到" class="headerlink" title="10 保護模式下中斷門如何得到?"></a>10 保護模式下中斷門如何得到?</h4><p>由IDTR指定中斷描述符表的基地址，用調用號N*8算出偏移量，即為N號中斷門的首地址。</p><h4 id="11-保護模式下如何根據中斷門得到中斷处理程序地址"><a href="#11-保護模式下如何根據中斷門得到中斷处理程序地址" class="headerlink" title="11 保護模式下如何根據中斷門得到中斷处理程序地址?"></a>11 保護模式下如何根據中斷門得到中斷处理程序地址?</h4><p>从中斷門中獲得中斷处理程序代碼段的选择子和偏移量，</p></li><li><p>如果是GDT方式:</p></li></ol><ul><li>则从GDTR获取GDT首地址，用段选择子中的13位做偏移，拿到</li></ul><p>GDT中的段描述符</p><ul><li>用描述符中的段首地址加上偏移量找到中斷處理程序入口的物理地址。寻址结束。</li></ul><ol><li>如果是LDT方式:</li></ol><ul><li>从GDTR获取GDT首地址，用LDTR中的偏移量做偏移，拿到GDT中的描述符1</li><li>从描述符1中获取LDT首地址，用中斷門中段选择子中的13位做偏移，拿到LDT中的描述符2</li><li><p>用描述符2中的段首地址加上中斷門中的偏移量找到中斷處理程序入口，寻址结束。</p><h4 id="12-中斷的分类，舉例不同類型的中斷"><a href="#12-中斷的分类，舉例不同類型的中斷" class="headerlink" title="12 中斷的分类，舉例不同類型的中斷?"></a>12 中斷的分类，舉例不同類型的中斷?</h4><p>从中斷可分為內部中斷和外部中斷，內部中斷的类型有軟中斷(程序中執行的中斷命令，如int)和異常中斷(計算机硬件異常或故障引起)，外部中斷有I/O中斷(外部設備請求引起)和人工干预的中斷(手動結束進程)，分為可屏蔽和不可屏蔽中斷(時鐘中斷不可屏蔽。<br><img src="https://s2.loli.net/2022/11/29/CM1iVXHKg5Rrh2P.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=ZAaLj&amp;originHeight=348&amp;originWidth=858&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><h4 id="13-中斷與異常的区別"><a href="#13-中斷與異常的区別" class="headerlink" title="13 中斷與異常的区別?"></a>13 中斷與異常的区別?</h4><p>中斷指由CPU以外的事件引起的中斷(如I/O、時鐘、控制台中斷)，異常指來自CPU的內部事件或程序執行中的事件引起的過程(如CPU本身故障、程序故障和請求系統服務的指令引起的中斷)，中斷是異步的，異常是同步的。</p><h4 id="14-實模式和保護模式下的中斷處理差別"><a href="#14-實模式和保護模式下的中斷處理差別" class="headerlink" title="14 實模式和保護模式下的中斷處理差別"></a>14 實模式和保護模式下的中斷處理差別</h4><p>最大的區別在於尋找中斷處理程序入口的方式。</p></li><li><p>實模式下，中斷处理程序的入口地址稱為”中斷向量”，所有的”中斷向量”存儲在一個”中斷向量表中”</p></li><li><p>保護模式下，為每個中斷和異常定義了一個中斷描述符，來說明中斷和異常服務程序的入口地址的属性，由中斷描述符表取代實地址模式下的中斷向量表</p><h4 id="15-如何識別鍵血組合鍵-如Shift-a-是否还有其他解決方案"><a href="#15-如何識別鍵血組合鍵-如Shift-a-是否还有其他解決方案" class="headerlink" title="15 如何識別鍵血組合鍵(如Shift+a)是否还有其他解決方案?"></a>15 如何識別鍵血組合鍵(如Shift+a)是否还有其他解決方案?</h4><p>在orange’s中，是建立了掃描碼的解析數組記錄一個鍵在組合及非組合狀態下的實際值，並設置緩冲區，聲明了組合鍵中前者(crtl,shift等)的相应變量，若出現其make code或break code，設置其標誌位以便與其他非組合鍵組合在解析數組中找到相應實際值。</p><h4 id="16-IDT是什么，有什么作用"><a href="#16-IDT是什么，有什么作用" class="headerlink" title="16 IDT是什么，有什么作用?"></a>16 IDT是什么，有什么作用?</h4><p>IDT(Interrupt Descriptor Table)，中斷描述符表，作用是將每一個中斷向量和一個描述符對應起來。</p><h4 id="17-IDT中有哪几種描述符"><a href="#17-IDT中有哪几種描述符" class="headerlink" title="17 IDT中有哪几種描述符?"></a>17 IDT中有哪几種描述符?</h4><p>中斷門描述符、陷阱門描述符、任務門描述符。</p><h4 id="18-異常的分類"><a href="#18-異常的分類" class="headerlink" title="18 異常的分類?"></a>18 異常的分類?</h4></li><li><p>Fault(缺陷): 是一種可被更正的異常，而且一旦更正了，程序可以不失連續性地繼續執行。返回地址是產生fault的指令。</p></li><li>Trap(陷入): 一種在發生trap的指令執行之後立即被報告的異常，它也允許程序或任務不失連續性地繼續執行，返回地址是產生trap指令之後的那條指令。</li><li><p>Abort(中止):  不總是報告精确異常發生位置的異常，不允許程序或任務繼續執行，是用來報告嚴重錯誤的。</p><h4 id="19-用戶態和內核態的特权級分別是多少"><a href="#19-用戶態和內核態的特权級分別是多少" class="headerlink" title="19 用戶態和內核態的特权級分別是多少?"></a>19 用戶態和內核態的特权級分別是多少?</h4><p>用戶態: 3級。<br>內核態: 0級。</p><h4 id="20-中斷向量表中，每個中斷有几個字節-里面的結構是什么"><a href="#20-中斷向量表中，每個中斷有几個字節-里面的結構是什么" class="headerlink" title="20 中斷向量表中，每個中斷有几個字節?里面的結構是什么?"></a>20 中斷向量表中，每個中斷有几個字節?里面的結構是什么?</h4><p>4個Bytes，低地址兩個Byte放偏移，高地址兩個Byte放段描述符。</p><h4 id="21-中斷異常共同點和不同點"><a href="#21-中斷異常共同點和不同點" class="headerlink" title="21 中斷異常共同點和不同點?"></a>21 中斷異常共同點和不同點?</h4><p>相同點:</p></li><li><p>都是程序執行過程中的強制性轉移，轉移到相應的處理程序。</p></li><li>都是軟件或者硬件發生了某種情形而通知處理器的行為。</li></ul><p>不同點:</p><ul><li>中斷，是CPU所具備的功能。通常因為”硬件而隨機發生。異常，是”軟件”運行過程中的一種開發過程中沒有考慮到的程序錯誤。</li><li>中斷是CPU暫停當前工作，有計劃地去處理其他的事情。中斷的發生一航是可以預知的，處理的過程也是事圥制定好的。處理中斷時程序是正常運行的。異常是CPU遇到了無法響應的工作，而後進入一種非正常狀態。異常的出現表明程序有缺陷。</li><li>中斷是異步的，異常是同步的。</li><li>良性的中斷和trap，只是在正常的工作流之外執行額外的操作，然後繼續沒完成的任務，因此處理程序完了后會返回到原指令流的下一條指令繼續執行。而惡性的fault和abort異常，修复可修复的fault后，會重新執行該指令，而不可修复的fault和abort則不會再返回。</li><li>中斷是由於由前程序無關的中斷信號觸發的，CPU對中斷的響應是被動的，且與CPU模式無關。異常是由CPU控制單元產生的，大部分發生在用戶態。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 操作系統 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> os </tag>
            
            <tag> lab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PerkyPet項目-商業模式評估</title>
      <link href="/2022/11/09/PerkyPet%E9%A0%85%E7%9B%AE-%E5%95%86%E4%B8%9A%E6%A8%A1%E5%BC%8F%E8%AF%84%E4%BC%B0/"/>
      <url>/2022/11/09/PerkyPet%E9%A0%85%E7%9B%AE-%E5%95%86%E4%B8%9A%E6%A8%A1%E5%BC%8F%E8%AF%84%E4%BC%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="一-基本信息"><a href="#一-基本信息" class="headerlink" title="一 基本信息"></a>一 基本信息</h1><h2 id="1-1-度量数值"><a href="#1-1-度量数值" class="headerlink" title="1.1 度量数值"></a>1.1 度量数值</h2><p>总体评估：<strong>加分项7项，减分项5项，共12项</strong>。<br>SWOT分析：客户界面的<strong>所有评分项都进行了打分，并详细地阐明了理由</strong>。<br>引用的调研报告和新闻：<strong>23篇</strong>。<br>更新过的商业模式画布中新增或修改过的模板要点占二阶段画布模板要点总数的<strong>17%左右</strong>。</p><h2 id="1-2-文档简介"><a href="#1-2-文档简介" class="headerlink" title="1.2 文档简介"></a>1.2 文档简介</h2><p>本次报告，我们认真地对本项目的商业模式环境进行了分析，仔细的评估了我们的商业模式，从战略角度審视自身商业模式的运作环境，探討了商业模式环境、評估商业模式、藍海战略三个领域，实现了对我们的商业画布的更细致的分析与各项的评估，最终完成了对于商业画布的更新与完善。下面將逐一描述三种评估方式的解讀和更新过的商业模式。</p><h1 id="二-商业模式环境"><a href="#二-商业模式环境" class="headerlink" title="二 商业模式环境"></a>二 商业模式环境</h1><h2 id="2-1-市场影响力"><a href="#2-1-市场影响力" class="headerlink" title="2.1 市场影响力"></a>2.1 市场影响力</h2><h3 id="2-1-1-市場分类"><a href="#2-1-1-市場分类" class="headerlink" title="2.1.1 市場分类"></a>2.1.1 市場分类</h3><p><strong>主要问题1:哪些是最重要的客户群体?</strong><br><strong>解析:在商业模式畫布的客戶细分中，PerkyPet的客戶群体有宠物飼養者、專业兽医、资深博主、宠物店和宠物用品供应商，哪一部分是最重要的客戶群体?</strong><br><strong>回答:</strong><br><strong>  </strong>客戶群体总体可分为核心用户群和主流用户群，核心用户是最为忠诚，最不容易流失的用户，他们给產品的页献最大，产品也能比较好的满足他们的需求，他们会使用产品的大部分主要功能，同时还会帶动吸引其他客戶來使用產品。在PerkyPet的客戶群体中，專业兽医和宠物店便是这样的核心用戶群体，他們是组成產品一站式服務的重要部分，也是吸引其他客戶的基本要素，只要保證这兩个群体数量足夠，覆盖面足夠廣，宠物飼養者和博主自然会选择PerkyPet，此后與宠物用品供应商的合成洽談也自然水到渠成。因此我們必須保證兽医的待遇以及線下推廣时與尽可能多的宠物店达成合作。<br>  从新聞1和2中可以看到，我們的強力竞争对手波奇宠物先由线上开始發展，主要靠“量重价轻”的宠粮盈利，然而国际大牌宠粮能给毛利率也很有限，品牌方能给到各渠道方的分成較低。近年海运费用也越来越高，僅靠这部分已不足以撑起一家上市公司。而客戶粘性一般是靠較低的售价形成的，一旦提高售价，用戶会很快流失。因此，波奇宠物也嘗試拓展線下維度，只是由於疫情並不順利。鑒于此，我們便要先牢牢把控住線下市場和客戶群体，若主流客戶群体的服務都是經由我們的核心用戶群体—医生和宠物店完成的，他們便不会輕易地轉投其他竞爭对手。構建好完善的線下服務后，線上服務的開展便会順利很多。</p><blockquote><p>调研&amp;新闻 1：<br>2021年5月，波奇宠物在上海静安开出了第一家线下体验店。房凯当时表示，出生于线上的波奇宠物此次拓展线下维度，是构建宠物赛道生态闭环战略的一部分，“今后，公司将真正做到线上线下双管齐下，为波奇用户提供更完整的服务体验，全面关爱宠物生活。”<br>截至2021年5月3日美股收盘，波奇宠物每股报4.91美元。<br>疫情的反复似乎让“线下”这条路走得不是很顺利。9月16日，《宠业光年》在大众点评上搜索波奇宠物（静安大融城旗舰店）发现，仅有128条评论。其他相关门店则显示“暂无营业时间”，评论区也为空白。<br>随后，波奇宠物股价持续走低。<br>2021年12月20日，波奇宠物甚至因股价30个交易日内低于1美元面临退市风险。<br>—-新浪财经:过起紧日子的波奇宠物终于减亏，但还不能缓口气</p><p>调研&amp;新闻 2：<br>2022财年，波奇的服务收入占比提升至4.14%，另95.86%来自商品销售。其中，又有59.32%的销售营收来自站外。据其2020年发布的招股书，2019年，波奇来自三方平台的营收占比高达71.4%。<br>鉴于此，外界对波奇的评价也停留在“以店养店”、“线上宠物屈臣氏”的印象中。换言之，波奇赚取的更多是“经销商差价”，流量成本则落入了综合电商的口袋。<br>—-宠物经济困局：光热闹不赚钱的千亿市场</p></blockquote><p><strong>主要問题2:增長潜力最大的群体?</strong><br><strong>解析:哪⼀部分的客户是可积极发展商业化的目标群体？</strong><br><strong>回答:</strong><br>  从調研3中可以看到，19-30岁的青年人是養宠消费者的主力軍，隨着这一代00后逐漸步入社会擁有消费能力，經常在社交媒体接觸到可愛宠物，沉迷”擼宠”文化的他們天然與家宠有着亲切感，很容易对可愛的宠物失去扺抗力。此外，沉重的社会压力與城市營造的孤獨感通常也会令單身的人們希望有只宠物作伴，已經組建家庭的也大概率會希望添加宠物作為家庭成员，無論从哪个方面看，養宠人这一消费群体都必然是會高速增長的，可以积极發展。<br>  另一方面，疫情使得線下門店盈利難度上升，我們也要抓紧这个机会與線下宠物店和宠物医院达成合作，利用線上推廣的优勢把他們拉入PerkyPet的服務体系中，不需要很大代价便能換來營业额的增長期望，相信他們也很願意合作。</p><blockquote><p>调研&amp;新闻 3：<br>随着社交网络等数字技术的崛起,线上线下融合等新商业模式涌现,消费主体、消费偏好、消费形态也经历了一场迭代进化,作为消费生力军的90后、00后崛起,跃上了消费的潮头浪尖。据调研显示，<strong>目前二线及以上城市的主要养宠人群仍旧以19-30岁的青年人为主占比68%，其中女性占比80%。</strong><br>电商平台是目前宠物主首选宠物食品购买渠道，其中90%以上的宠物主表示通过淘宝、京东等传统综合电商平台进行产品采购。<br>根据2022年调研数据显示，17%的门店处于亏损状态与2021年持平，亏损10%以上的门店占比升高3%，盈利0%-5%的门店占比升高4%，整体来看，门店盈利水平分布变化不大。<br>2022年,门店盈利影响因素变化较大，<strong>新冠疫情反复是影响近一年门店盈利的主要原因占比54%</strong>，线上渠道分流导致市场份额降低是第二大影响因素占比51%。盈利能力较强的门店仅占12%，常态化疫情下如何做好线上线下协同发展值得关注。<br><img src="https://s2.loli.net/2022/11/30/hLXTk4IQSu7PwAm.png" alt="image.png"><img src="https://s2.loli.net/2022/11/30/Ba1LYwPu4s3i867.png" alt="image (1).png"><br>—-亚宠研究院:《宠物行业蓝皮书：2022中国宠物行业发展报告》</p></blockquote><h3 id="2-1-2-需求和訴求"><a href="#2-1-2-需求和訴求" class="headerlink" title="2.1.2 需求和訴求"></a>2.1.2 需求和訴求</h3><p><strong>主要问题1:客戶需要什么?</strong><br><strong>解析:客户想通过我们的產品解决什么问题？</strong><br><strong>回答:</strong><br><strong> </strong> 一个集资訊獲取、寵物咨詢、飼養体驗、寵物交易、线下服务、同城互助為一体的一站式服務平台，为用户提供优质的个性化服务。PerkyPet能為養宠人解決有關宠物的一切问题，能提供調研4中大部分宠物主需要的產品和服務，我們與宠物用品供应商的直接合作保證了用品的安全和健康，社区功能也直接滿足了用戶的分享欲、和他人互动與日常記錄的需求。PerkyPet还能解決新聞5中導致飼養者弃宠的原因:不熟悉養宠方法，不了解宠物習性，若是由于经济和家庭原因导致養宠人不得不弃養，也能通过我們產品的寵物交易,同城互助等服務找到解決途徑，最大程度減少直接弃養城市的情況發生。</p><blockquote><p>调研&amp;新闻 4：<br>  根据调研数据显示，80%以上的宠物主表示<strong>维持宠物日常生活、保障宠物健康是购买产品/服务的主要动因</strong>；提升宠物生活品质挤身消费动因前三名，说明人宠亲密关系升级，宠物主愿意为实现精致养宠而买单。<br>  宠物清洁用品的需求增加。为保障宠物的安全和健康，天然、安全的成分是宠物主购买相关产品时考虑的首要原因，更多洗护用品品牌着力于天然可食用、低敏、皮毛修复、亮泽蓬松等兼顾安全与功能性的产品研发。此外，不少国内外定位于“专业宠物洗护”的品牌根据宠物个体在毛发、皮肤特质等方面的差异，对洗护产品进行精细化区分推出了更具个性化的宠物洗护产品。<br>  私域流量凸显:社群、微信等私域流量不论在门店客户拓展还是维系方面都起到了重要作用。此外，超过20%的消费者表示倾向在微信群/小程序/社群等购买产品，该比例仅低于综合电商平台，私域流量作为新兴渠道发展迅猛。<br>—-亚宠研究院:《宠物行业蓝皮书：2022中国宠物行业发展报告》</p><p>调研&amp;新闻 5：<br>  为何养了宠物以后又会狠心遗弃它们？记者采访了多名弃养宠物者发现，他们弃养宠物的原因五花八门，除了经济能力受限外，有的是嫌弃宠物不省心，还有的是家人反对便将宠物丢弃了。<br>小梅是陕西西安一家服装店的售货员，今年4月，她将养了两年多的比熊犬丢弃了。“实在养不起了，那几天它一直拉肚子，以前就去过医院，治病得花五六百元，我真的没那么多钱。”小梅说，前年开始生意就不好做，衣服卖不出去，工资一降再降，自己都难养活，就别提狗了。<br>  由于找不到领养人，小梅最后将宠物遗弃在一家流浪动物救助站外，希望工作人员能将小狗收留。<br>  北京某医院保健科一位工作人员向记者分析，弃养宠物的原因多种多样，首要原因就是经济状况。养宠物不仅耗费时间，而且需要不小的经济投入，如非名贵品种，或者是成年了，想卖上好价钱并不容易。<br>  其次是不少人对养宠物这件事认识不足。有些人缺乏经验，养宠物的观念还停留在只要让宠物吃饱就行的阶段，但养了以后发现，狗会“拆家”、猫会“跑酷”，不让人省心。<br>—-宠物被遗弃现象频发给社会增添负担！</p></blockquote><p><strong>主要问题2:哪些需求在增加?</strong><br><strong>解析:我們哪一个需求呈现增长的趋势?</strong><br><strong>回答:</strong><br>  因為養宠人呈現增長的趋势，因此有关宠物服务，宠物和用品交易，養宠教學的需求都必定会增加，这是顯而易見的趋势。而没有社交，人会孤独，没有良好社交氛围，人会失常。而我们很多人恰恰要么孤独，要么处在不好的社交氛围，而宠物是个非常有治愈力的社交对象。这也是为什么城市越大，养宠者越多，按说他们已经忙碌到没有时间养宠物了。宠物创造了极佳的社交话题，也以此让宠物主成了社交的参与者，并在参与中获得了满足。</p><h3 id="2-1-3-市場問题"><a href="#2-1-3-市場問题" class="headerlink" title="2.1.3 市場問题"></a>2.1.3 市場問题</h3><p><strong>主要问题1:影响客戶环境的关鍵问题有哪些?</strong><br><strong>解析:有哪些问题影响了宠物市場?</strong><br><strong>回答:</strong><br><strong> </strong> 就像在电商平台上購买東西遇到問题后，會去找店家一樣，養宠人也會傾向于选择能提供一站式服務的平台購买宠物和用品，这是我們的优勢，使用PerkyPet的無論老手或小白都能根據專属定制的教程快速熟悉新寵物並上手，医生能直接通过平台內的档案數據了解宠物的具体情況，平台推荐的商品和飼養方案也都是最契合宠物且有保障的，这都是調研6中客戶關注的問题。多数其他的竞爭对手都沒有注重这方面的因素。<br>  客戶家庭环境和自身條件也是一大因素，比如强烈的孤独感导致了老年人对宠物陪伴的需求度显著增加，老人的选择通常会是易養体質好的猫狗鳥雀，不太注重外觀品种。单身人群想从宠物身上获取温暖和陪伴就多数会选择善解人意性格好的，時空間和金錢不充裕的學生等等又會有不同的偏好。<br>  客戶的选择还会受当地法律和周边影响，比如許多城市陸續颁布的大型犬禁令，或是居住地周边缺少可以讓宠物溜达的場所，抑或是飼養某些宠物要辦的手續繁瑣，都会影响客戶的选择。<br>  最终，客戶便傾向于能為他提供幫助解決这些問题的平台，因此我們便要努力做好一站式服務。</p><blockquote><p>调研&amp;新闻 6：<br>相较发达国家的宠物经济，中国目前的宠物市场正处于起步阶段，与宠物相关的行业、周边，已经成为一个独立的产业，市场细分也越来越精细。<br>随着科学养宠的观念逐渐被人们接受，宠物主对宠物的健康成长更加重视，宠物零食的市场需求增大，人均可支配收入的增多也让消费者为宠物消费的支付意愿升高，营养均衡、品牌知名将成为宠物食品新的消费趋势，越来越多的宠物主关注宠物食品的营养配比以及品牌知名度。<br>在宠物食品用品供给侧和需求侧的双向发展下，资本开始关注到宠物领域。2015年开始，资本加大力度进入宠物行业，并且发展领域涵盖了上游活体交易、中游食品用品和下游的电商网红等各个层面。<br>—-2022-2023年中国宠物行业发展趋势分析</p><p>调研&amp;新闻 7：<br>单位和个人饲养犬只，应当按照规定定期免疫接种狂犬病疫苗，凭动物诊疗机构出具的免疫证明向所在地养犬登记机关申请登记。<br>携带犬只出户的，应当按照规定佩戴犬牌并采取系犬绳等措施，防止犬只伤人、疫病传播。<br>街道办事处、乡级人民政府组织协调居民委员会、村民委员会，做好本辖区流浪犬、猫的控制和处置，防止疫病传播。<br>县级人民政府和乡级人民政府、街道办事处应当结合本地实际，做好农村地区饲养犬只的防疫管理工作。<br>饲养犬只防疫管理的具体办法，由省、自治区、直辖市制定。<br>—-中华人民共和国动物防疫法第三十条</p></blockquote><p><strong>主要问题2:哪些改变正在發生?</strong><br><strong>解析:現在的宠物行业正在發生哪些改变?</strong><br><strong>回答:</strong><br>  傳統宠物店大多不能提供足夠精細化的服務，商品在电商面前也缺少竞爭力，不少人購买宠物后便鲜少再光顧，傳统宠物店的盈利逐漸下滑，这一情況在疫情發生后尤為嚴重，在市場一直擴大的情況下是不合理的。<br><strong>主要问题3:市場將走向何处?</strong><br><strong>解析:宠物行业的未來应該是怎样的?</strong><br><strong>回答:</strong><br><strong>  </strong>未來宠物行业必然是朝着我們的目标—一站式服務平台發展的。線下宠物店宠物医院等與線上平台結合，向客戶提供覆盖上中下游的精细化服務，全方位把握市場，輔以虚擬化和智能化技术解決客戶需求。从新聞8可見易宠科技已經在这條路上取得了不小的成果。</p><blockquote><p>调研&amp;新闻 8：<br>在易宠科技规划的蓝图上：每只宠物的数据都会汇聚在云端，为养宠家庭提供宠物的性格分析、医疗教育等服务；线下门店可以直接与养宠家庭实现云端交互，实现数字运营；品牌商家可以根据用户偏好，对门店进行精准投放……上游工厂、品牌商家、线下门店、宠物家庭实现互联互通，借助大数据智能化开展互动。<br>“我们累计投入了超1亿元用于技术研发、升级。”朱江发说，目前，易宠科技的系统与软件均为自身原创，并拥有专利、软著超过100项。如此高的研发投入强度，让易宠科技成为行业首家国家高新技术企业。<br>易宠科技还组建了大数据、人工智能团队，并开发上线了不少应用。如今，易宠科技已能为线下门店提供定制化服务。<br>以一家名为“小尾巴宠物”的传统宠物店为例，该店在转型方向上存在疑惑。得知需求后，易宠科技通过大数据，对重庆各个区块的消费等级、同行分布、人流状态、养宠环境作出分析。同时，结合“小尾巴宠物”未来门店定位，易宠科技为其寻找了合适的开店地址，并定制了产品方向、营销方案等。如今，在易宠科技的助力下，“小尾巴宠物”已在成都成功开了5家门店。<br>“未来，易宠科技将依托产业链、供应链，结合数据和算法，强化线上线下一体化解决方案，打造一个宠物数字化经济平台，构建更好的宠物行业城市生态平台。”肖宇说。<br>—-易宠科技：深耕宠物行业成龙头</p></blockquote><h3 id="2-1-4-切換成本"><a href="#2-1-4-切換成本" class="headerlink" title="2.1.4 切換成本"></a>2.1.4 切換成本</h3><p><strong>主要问题1:哪些東西將客戶捆綁在一家供应商和他的服務上?</strong><br><strong>解析:有哪些服务是我们可以提供给客户而其他產品提供不了的？</strong><br><strong>回答:</strong><br><strong>  </strong>毫而疑問是我們的一站式服務体系以及云端体驗功能。<br><strong>主要问题2:哪些切換成本阻止客戶轉投竞爭对手?</strong><br><strong>解析:用户如果不使用我们的产品，而去使用其他的平台 ，他会失去什么？</strong><br><strong>回答:</strong><br>  如果是宠物主，他將要花费额外的精力于學習養宠、飼養寵物與处理各种意外情況上，同時还要自己承擔操作失誤的风險，並且無法與廣大宠物主進得PK等特色交流活动，無法结识同城的好友。如果是宠物店，他將失去一个佷好的推廣引流平台，失去平台結合大数據專門定制的營銷方案，被排济于PerkyPet体系外。如果是一位宠物博主，他會失去一个用戶愛好属性相近，粘性极大的平台，失去向尽可能多的同好展示自己的机會。如果是一位医生，將會失去源源不斷的自己感興趣的客源，失去科普專业知識的机會，失去获取更多知名度、收入。<br><strong>主要问题3:客户容易找到并采购类似的服务吗?</strong><br><strong>解析:现在市场上有和我们提供相似的服务的平台吗？</strong><br><strong>回答:</strong><br>  若是能提拱有關宠物服務的軟件，那确实有不少，但目前卻沒有一個像我們一樣提供線上線下結合的一站式服務平台。<br><strong>主要问题4:品牌有多重要？</strong><br><strong>解析：竞争市场上有巨头式的知名平台吗？我们会打造怎样的品牌？</strong><br><strong>回答:</strong><br><strong> </strong> 在宠物市場做大做強的品牌有不少，比如波奇宠物和易宠科技，但他們都有各自的缺点，而且仍不算是巨头式的知名平台，多数人不经过搜索一般对他們不具備印象。我們的目地是要超越他們打造PerkyPet知名品牌，吸引更多、更多元化的⽤户群体，使人們一旦提起養宠便会先想到我们。</p><h3 id="2-1-5-收入吸引力"><a href="#2-1-5-收入吸引力" class="headerlink" title="2.1.5 收入吸引力"></a>2.1.5 收入吸引力</h3><p><strong>主要问题1:客户真正愿意花钱买的是什么?</strong><br><strong>解析:我们提供的服务中客户愿意为什么服务付费?</strong><br><strong>回答:</strong><br><strong>  </strong>有关宠物必須的用品和服務，客戶都挺愿意付费的，就像調研9中所示宠物用品規模在不斷擴大，其中不少人願意購买智能化宠物用品和玩具，產品趋向高端化。結合調研10可見大部分人都願意為实現精緻養宠而买单，这代表只要我們提供的服務足夠好，客戶便会很樂意付费。而社交娛樂的板块则会有較多的免费用戶。</p><blockquote><p>调研&amp;新闻 9：<br>数据显示，中国宠物用品市场规模不断扩大，预计2022年中国宠物用品市场将达369亿元，同比增长13.2%。艾媒咨询分析师认为，在宠物经济的推动下，宠物用品各细分领域不断兴起。随着宠物企业的研发、生产能力不断增强，各类具有宠物特色的产品将成为带动宠物用品市场发展的增量，2025年宠物用品市场规模将达484亿元。<br><img src="https://s2.loli.net/2022/11/30/2LnbNwxUtH7j6lK.png" alt="image (2).png"><br>数据显示，2022年1-5月京东智能宠物玩具购买量同比增长80%，智能饮水机购买量同比增长84%，智能喂食器购买量同比增长115%，智能猫砂盆搜索量同比增长267%。艾媒咨询分析师认为，数字化、智能化升级已成为中国宠物用品行业未来的发展趋势，小米、美的、海尔等科技领域巨头跨界入局宠物用品行业，也给智能用品品类带来新的增长点。<br>—-2018-2025年中国宠物用品市场规模及预测</p><p>调研&amp;新闻 10：<br>根据调研数据显示，80%以上的宠物主表示<strong>维持宠物日常生活、保障宠物健康是购买产品/服务的主要动因</strong>；提升宠物生活品质挤身消费动因前三名，说明人宠亲密关系升级，宠物主愿意为实现精致养宠而买单。<br><img src="https://s2.loli.net/2022/11/30/hbDHLalqx1tfoEX.png" alt="image (3).png"><br>—-亚宠研究院:《宠物行业蓝皮书：2022中国宠物行业发展报告》</p></blockquote><p><strong>主要问题2:利潤中最大的一块从哪里獲得?</strong><br><strong>解析:我們哪一部分的收入來源的利潤是最大的?</strong><br><strong>回答:</strong><br><strong>  </strong>在聯合宠物店和宠物医院為宠物提供的服務，以及商品銷售上，我們都不是直接交易的一方，收入只能靠平台抽取的费用，雖然累积起來是十分可觀的收入，不过收益率最大的还是会员制度以及養宠体驗中的特定功能和飾品，会员的一次性和連續付费能快速地為我們提供收入。<br><strong>主要问题3:客户能够轻易找到更便宜的产品和服务吗?</strong><br><strong>解析:我們的服務的收费在宠物市場上有竞争力嗎?</strong><br><strong>回答:</strong><br><strong>  </strong>当我们與市場上越多的宠物店、宠物医院、宠物用品供应商达成合作后，我們可掌握的定价权便越大，客戶便不能寻找到更便宜的產品和服務。即便能找到，可能也会是一些品质不佳的產品或不合規的服務，需要承擔很大的风險。</p><h2 id="2-2-行业影响力"><a href="#2-2-行业影响力" class="headerlink" title="2.2 行业影响力"></a>2.2 行业影响力</h2><h3 id="2-2-1-供应商和价值鏈上的其他厂商"><a href="#2-2-1-供应商和价值鏈上的其他厂商" class="headerlink" title="2.2.1 供应商和价值鏈上的其他厂商"></a>2.2.1 供应商和价值鏈上的其他厂商</h3><p><strong>主要问题1:誰是你行业价值鏈中的關鍵玩家?</strong><br><strong>解析:在我們產品提供的服務中，哪些參與者最重要?</strong><br><strong>回答:</strong><br><strong>  </strong>宠物店和專业医生，他們是我們的核心客戶，只要牢牢把控住，就不愁獲取主流客戶群，同時他們各自能獨立运營，是傳統宠物行业的關鍵參與者。<br><strong>主要问题2:你的商业模式有多大程度上依賴于其他的这些玩家?</strong><br><strong>解析:我們的服務有多依赖于上面的这些參與者?</strong><br><strong>回答:</strong><br>  宠物店和医生是宠物行业的關鍵參與者，也是我們一站式服務的基石，我們很大程度上依赖于他們提供的服務，他們的利潤也是最大的。但隨着我們的合作方覆盖越廣，主流客戶群体便会越多，这些參與者更会反过來对我們形成依赖，尤其是在当下实体经济不好做的情況下，这一进程会更快，最终达成相互合作互相依赖。<br><strong>主要问题3:有边緣玩家在涌現嗎?</strong><br><strong>解析:会不会有边綠參與者崛起與我們竞争?</strong><br><strong>回答:</strong><br>  在我們的项目全面鋪開后，我們的一站式服务覆盖面广，应用能力强，边缘参与者难以竞爭，他們只能從更精細化的方面開展更特色的服務，但最后应該也會成為我們项目的一环，因為无论是从用户粘性还是滿足客戶需要还是从技术上来讲，我们都有独有的优势，一旦占领了这个市场之后，就几乎不会有行业的边缘参与者崛起。<br><strong>主要问题4:哪个的利潤最高?</strong><br><strong>回答:</strong><br><strong>  </strong>我們的核心用戶群宠物店和專业医生利潤最高。</p><h3 id="2-2-2-利益相关者"><a href="#2-2-2-利益相关者" class="headerlink" title="2.2.2 利益相关者"></a>2.2.2 利益相关者</h3><p><strong>主要问题1:哪些利益相关者会影响你的商业模式?</strong><br><strong>回答:</strong><br>  我們大数据智能推斷给出的定价和优惠策略不可避免地会讓宠物店、医院、供应商賺取的利潤單价变少，他们可能會認為这觸给到了他們的利益而扺觸合作，我們需要给出詳細的策略原因和方案以及期望以說服他們。<br><strong>主要问题2:股東的影响力如何?员工呢?</strong><br><strong>回答:</strong><br><strong>  </strong>我們不会讓股東对產品运營有过多的影响力，產品的运營方向和策略由员工结合人工智能計劃给出，股東的投资用于前期補貼吸引客戶和宣傳上。员工則具備重要性，我們需要大量优質的业務员、开發團队和服務團隊來開展项目以及維持服務的正常运轉。</p><h3 id="2-2-3-現有-竞争对手"><a href="#2-2-3-現有-竞争对手" class="headerlink" title="2.2.3 (現有)竞争对手"></a>2.2.3 (現有)竞争对手</h3><p><strong>主要问题1:誰是我們的竞爭对手?他們的主流產品和服務是什么?</strong><br><strong>解析:在宠物市場中，誰會與我們的业務產生冲突，是我們的直接竞争对手，為什么?</strong><br><strong>回答:</strong><br>  傳統宠物行业的參與者一般不會與我們的业務產生冲突，與我們是合作互利的模式。我們的竞争对手是同样整合资源並提供一站式服務的平台，現在市面前还沒有出現和我們的產品理念完全重合的平台，但有不少在某些服務，比如宠物交易、宠物看病、宠物社区、宠物物品商城等方面產生冲突的產品，他們是我們的直接竞争对手。<br><strong>主要问题2:他们的竞爭优势和劣势是什么?</strong><br><strong>解析:他們在哪方面做的比較完善值的我們學習，有哪方面不足，是我們要抓住的突破口?</strong><br><strong>回答:</strong><br>  我們的竞争对手中，有專注于宠物社区的，比如宠物王国;有做宠物电商的，比如波奇宠物和易宠科技;有提供科學養宠方式的如小佩宠物，还有許多其他不同领域的產品。<br>  他們的优势在于都抓住了養宠人的需求進行發展，在細分领域做大做強，做宠物电商的甚至都上市融资了，做到了行业龙头的水平。我們也必須貼合用戶需求，要比对手們更能解決他們的痛点，才能穏步發展。<br>  他們的劣势在于提供的服務都比較单一，且太多都專攻線上，許多服務沒有太大的优势，沒有讓用戶產生粘性的理由，用戶在養宠的每個环節都有許多不同的选择，不能用一个產品解決所有問题，用戶活跃度不高的情況下整个环境難以把控。宠物王国、小佩宠物等宠物科養社区雖然有数十萬的下載量，但內容卻甚少，新的动态要过挺長的时间才会出現，可見活跃度不大。波奇宠物等企业也開始重視起線下布局，因為線上銷售宠物用品，用戶也可以有許多的选择，各大电商平台不僅流量大，在客戶心目中也比較值得信赖，他們很容易通过优惠和定价权搶走客源，这些都導致了縱然是千亿市場，可大家都賺不到錢。事实證明只有做一站式服務吸引客戶，令用戶產生粘性，帶來的流量使自己有能力把控整個市場才是最终方案。</p><blockquote><p>调研&amp;新闻 11：<br>  今年4月，国内最大的“宠物生态平台”波奇宠物收到美国纽交所信函，称其在30个交易日期间、总市值与股东权益均低于5000万美元，若不能在收到函件后的18个月内符合持续上市标准，则面临退市可能。<br>  公开资料显示，2019年，中国养宠家庭的渗透率为22.8%，美国、英国、日本的渗透率则为68.9%、45%与26.8%。2020年，Chewy在美国宠物电商的市占率超过50%。反观国内，即使身为行业龙头，波奇在中国宠物线上销售平台的市占率也只有1.9%。而中国消费者也未形成在专业电商购物的习惯。<br>  为了实现营收多元化，波奇还曾仿照北美宠物电商巨头Chewy推出过会员订阅服务，即先预存一定金额、每月按需求定制购买宠物产品。参照Chewy的商业模式，其“自动订阅服务”是收入端最核心的增长引擎，但波奇在这方面成效甚微。<br>线上渠道之外，波奇还追随美国宠物零售商巨头Petco的脚步，试图拓展线下渠道。2021年5月，波奇在上海静安开出了自己的第一家直营门店，然而，疫情的反复让这条路走得并不顺利。<br>—-宠物经济困局：光热闹不赚钱的千亿市场</p></blockquote><p><strong>主要问题3:他们的成本结構如何?</strong><br><strong>解析:竞争对手需要支出的成本有哪些?收入來源是什么?</strong><br><strong>回答:</strong><br>  相比于做線下业務，做線上业務不需要付出店舖租金、設備费用、商品费用等，理論上只需要平台的开發維護费以及保持公司正常运行即可，例如調研12中开發宠物王国的企业，參保人数只有三人，注册资本100萬，项目卻能一直在运行。他們的收入來源主要是靠訂閱制度以及对提供的服務的中間抽成，並且在宠物经济快速扩张的同时，宠物行业也成融资市场的热门赛道，不少企业可以獲得投资並用在研發或擴展線下业務上。</p><blockquote><p>调研&amp;新闻 12：<br>企业名称:南京一宠科技有限公司<br>成立日期:2019-07-04<br>注册资本:100萬元<br><img src="https://s2.loli.net/2022/11/30/aOqFyMd96DIe8Cs.png" alt="image (4).png"><br><img src="https://s2.loli.net/2022/11/30/cjvoIVPJi3F7C1O.png" alt="image (5).png"><br>—-愛企查</p><p>调研&amp;新闻 13：<br>2022年中国宠物行业部分融资事件:<br><img src="https://s2.loli.net/2022/11/30/SIvbih1KMzxuTyW.png" alt="image (6).png"><br>—-2023-2029年中国宠物行业市场深度分析及未来趋势预测报告</p></blockquote><p><strong>主要问题4:他們对我們的客戶群体、收益來源和利潤有多大影响?</strong><br><strong>回答:</strong><br>  他們初期會在业務冲突的领域與我們争搶客源，但隨着我們业務的展開以及更多人体驗到我們服務的便利性，相信越來越多用戶會轉投我們並產生粘性，因此在项目初期影响比較大，需要投入比較多的资源才能發展起來。</p><h3 id="2-2-4-新进入者-挑战者"><a href="#2-2-4-新进入者-挑战者" class="headerlink" title="2.2.4 新进入者(挑战者)"></a>2.2.4 新进入者(挑战者)</h3><p>目前市面上並沒有新的與我們业務類型几乎一樣的竞争者，或者說我們就是新进入者。</p><h3 id="2-2-5-替代產品和服务"><a href="#2-2-5-替代產品和服务" class="headerlink" title="2.2.5 替代產品和服务"></a>2.2.5 替代產品和服务</h3><p>替代的產品和服務有很多，客戶可以線下找宠物店和宠物医院，这些都是傳統宠物行业一直存在的，也可以使用其他的平台。可是相比于集成了一切的我們，客戶要付出的時間，金錢，甚至試錯成本都要更高，事实上我們才是他們替代这些產品和服務的选择，他們會在我們这一”替代產品”上產生很高的用戶粘性。</p><h2 id="2-3-关鍵趋势"><a href="#2-3-关鍵趋势" class="headerlink" title="2.3 关鍵趋势"></a>2.3 关鍵趋势</h2><h3 id="2-3-1-技术趋势"><a href="#2-3-1-技术趋势" class="headerlink" title="2.3.1 技术趋势"></a>2.3.1 技术趋势</h3><p><strong>主要问题1:你的市场内外，主要的技术趋势是什么？</strong><br><strong>回答:</strong><br><strong>  在宠物市場，主要的技术趋势总结便是自研化、綠色化、智能化、电子化、高端化、定制化。</strong></p><blockquote><p>调研&amp;新闻 14：<br>  随着消费者消费需求的提升，宠物用品、食品持续朝多元化方向发展。宠物食品在现阶段不再局限于简单的饱腹作用，对宠物的神经系统、免疫系统、骨骼关节等也有修护和促进作用，功能性的宠物食品越来越精细化、多样化。<br><img src="https://s2.loli.net/2022/11/30/JGTeXZ95hkrj7cC.png" alt="image (7).png"><br>—-宠物产品数智能化升级将是行业未来发展的新增长点</p><p>调研&amp;新闻 15：<br>宠物行业发展趋势：<br>1.健康驱动功能性产品细分<br>2.小宠经济兴起<br>3.消费趋向高端<br>4.国潮品牌逆袭<br>5.私域流量凸显<br>6.门店线上布局<br>—-宠物行业蓝皮书：2022中国宠物行业发展报告</p></blockquote><p><strong>主要问题2:哪些新興技术是正在逐步采用的？</strong><br><strong>解析:PerkyPet有采用什么新技术嗎?</strong><br><strong>回答:</strong><br>  我們的養寵体驗功能設想就是結合虛擬現实和人工智能技术，讓用戶能全方位真实地感受到養不同宠物的樂趣，同時又不用付出太多的成本，不用考慮宠物會帶來的麻烦。但短时間內難以实現。</p><h3 id="2-3-2-行业管理趋势"><a href="#2-3-2-行业管理趋势" class="headerlink" title="2.3.2 行业管理趋势"></a>2.3.2 行业管理趋势</h3><p><strong>主要问题1:哪些管理趋势会影响你的市場和客戶需求？</strong><br><strong>回答:</strong><br>  对市場和客戶需求影响最大的应該是各大城市制訂的有關宠物飼養的法規，这直接關係到養某些宠物是否被允許以及條件是否苛刻。<br>  对宠物市場服務和消费的監管，比如像調研16，遇到消费問题時維权是否容易是影响市場的因素之一。<br>  目前，宠物及宠物食品行业的法律法规及产业政策较少，国家相关部门正在研究和起草相关法规，整个行业正在逐步向规范化方向发展，近年来也出台了不少法規，这可能會影响我們商品上架的选择。</p><blockquote><p>调研&amp;新闻 16：<br>宠物消费市场存在较多消费问题，有五成消费者都遇到过問题:<br><img src="https://s2.loli.net/2022/11/30/jY6VoR9uxfrFgIO.jpg" alt="image (8).png"><br>缺乏行业标准成为宠物主进行消费维权时最大的阻碍:<br><img src="https://s2.loli.net/2022/11/30/hvQZJtnsfCrORVa.jpg" alt="image (9).png"><br>—-广州市宠物消费调查报告</p><p>调研&amp;新闻 17：<br>中国宠物经济行业相关政策汇总一览表:<br><img src="https://s2.loli.net/2022/11/30/8qDSrVGXa1eA3mU.png" alt="image (10).png"><br><img src="https://s2.loli.net/2022/11/30/oX138FwSa7OCryV.png" alt="image (11).png"><br>—-2022年中国宠物经济行业市场前景预测及投资研究报告</p></blockquote><h3 id="2-3-3-社会和文化趋势"><a href="#2-3-3-社会和文化趋势" class="headerlink" title="2.3.3 社会和文化趋势"></a>2.3.3 社会和文化趋势</h3><p><strong>主要问题1:描述关键社会趋势。文化或社会价值观上的哪些变化会影响你的商业模式?</strong><br><strong>回答:</strong><br><strong>      </strong>萌宠文化、丁克一族、生物平等。随着自媒体不断发展，人们可以在网上接触到各种各样的宠物，可爱的宠物形象深入人心，这会大大提高消费者的购买宠物的意愿。同时，丁克文化的流行也让丁克家庭对宠物的需求大大增加，宠物代替了小孩成为家庭的一份子。此外，生物平等观念也在深入人心，越来越多的宠物饲养者致力于科学饲养、精细饲养，我们的软件恰好能提供这些服务。</p><h3 id="2-3-4-社会经济趋势"><a href="#2-3-4-社会经济趋势" class="headerlink" title="2.3.4 社会经济趋势"></a>2.3.4 社会经济趋势</h3><p><strong>主要问题1:关键的人口统计学趋势有哪些?</strong><br><strong>回答：</strong><br>2022年中国宠物家庭规模即将破亿，20%的渗透率虽仅为欧美市场的1/3，但宠主实体消费水平已与其他国家水平相当。在国民宠主消费力带动下，中国宠物实体市场规模达1158亿。<br>在用户层面，多元养宠逐渐成为常态，有31%的宠主饲养2种以上宠物，即户均养宠1.4类，其中，猫狗双全成为多宠饲养最高选项。<br>从养宠趋势上看，猫狗家庭仍是主力，养宠家庭规模将突破千万量级。具体来说，猫宠家庭增长趋缓，狗宠家庭小幅回落。在年龄结构方面，经过推测，将有1900万猫狗迈入中老年，这些现象也将带来新的养宠需求变化。<br>调研&amp;新闻 18：<br>2022年中国宠物消费者调研<br><img src="https://s2.loli.net/2022/11/30/vudglWRkbz6hnFQ.png" alt="image (12).png"><br><strong>主要问题2:你的市场中收入和财富的分布有哪些特征?</strong><br><strong>回答：</strong><br>不同的人养的宠物种类不一样，选择的饲养方式不一样。农村人养土狗喂剩饭，几乎零成本；城市里的富有家庭养猫狗要打各种疫苗、精细选粮、定期驱虫，收入跨度大。此外，水族异宠饲养成本一般不如猫狗，所以不同宠物种类对应人群的收入也不同。总体来看，穷人富人均可以养宠，收入跨度大，所以市场广阔。<br>调研&amp;新闻 19：需求的变化<br><img src="https://s2.loli.net/2022/11/30/6AGOhIJEvxiYfdl.png" alt="image (13).png"></p><h2 id="2-4-宏觀经济影响"><a href="#2-4-宏觀经济影响" class="headerlink" title="2.4 宏觀经济影响"></a>2.4 宏觀经济影响</h2><h3 id="2-4-1-全球市場情況"><a href="#2-4-1-全球市場情況" class="headerlink" title="2.4.1 全球市場情況"></a>2.4.1 全球市場情況</h3><p><strong>主要问题1:经济处于爆发期吗?描述总体市场情绪GDP增长率是多少?失业率有多高?</strong><br>2022年全球经济总值收缩3.5%以上，全球各国经济当下处于疫情影响后恢复阶段，未来全世界经济复苏步伐将大大放缓，甚至重新陷入衰退。以下对全球经济现状分析。2022年全球经济仅增长3.1%，低于2022年1月发布的4.0%的增长预测。失业率方面，2021年中国城镇失业率为5.1%；16-24岁人口城镇失业率为14.3%；25-59岁人口城镇失业率为4.4%。<br>调研&amp;新闻 20：<br><img src="https://s2.loli.net/2022/11/30/A8D416reBnPNzLo.png" alt="image (14).png"><br><img src="https://s2.loli.net/2022/11/30/jpSDytBrFMAw3nR.png" alt="image (15).png"></p><h3 id="2-4-2-资本市場"><a href="#2-4-2-资本市場" class="headerlink" title="2.4.2 资本市場"></a>2.4.2 资本市場</h3><p><strong>主要问题1:资本市场处于什么状态?在你所处的市场中，获得投资有多容易?</strong><br>鉴于新冠疫情的存在，传统宠物店日趋式微，且线下店由于包含水电人工的成本，价格普遍偏贵，所以宠物及宠物用品线上化购买逐渐成为主流。人们追求方便快捷的生活方式，足不出户地一站式解决宠物问题。所以我们的软件迎合了用户的需求，获得投资比较容易。<br>调研&amp;新闻 21：中国宠物实体商品不同品类渠道分布比例<br><img src="https://s2.loli.net/2022/11/30/tIeRXc2FEUTWf9s.png" alt="image (16).png"><br><strong>主要问题2:我们的软件容易获得融资吗？获取这些投资的成本有多高?</strong><br>容易。养宠者越来越多，然而一体化的宠物平台却寥寥可数，我们的产品恰好填补了这个空缺。我们的软件只要做好规划的每个功能，积累一定的用户数量，严格把控产品质量，吸引融资不会太困难。再加上疫情尚未好转，线上化仍然是大趋势，所以我们的软件具有广阔的发展空间。</p><h3 id="2-4-3-大宗商品和其他资源"><a href="#2-4-3-大宗商品和其他资源" class="headerlink" title="2.4.3 大宗商品和其他资源"></a>2.4.3 大宗商品和其他资源</h3><p><strong>主要问题1:描述你的业务必备的大宗商品和其他资源的当前市场状态</strong><br><strong>回答:</strong><br>主要的人力资源是运营团队、宠物和宠物用品商家、专业兽医，要做好和他们的联系。后期可能会有官方的宠物用品店，实现自产自销，从源头进行把控。运营团队负责软件的日常维护，处理用户的意见，维护社区秩序等。商家，兽医负责维持软件中商城和兽医咨询模块的日常运转。<br><strong>主要问题2:执行你的商业模式所需的资源有多么容易获取?成本如何?价格走向如何?</strong><br>运营团队方面，就是普通的app运营团队，获取难度一般，人力成本较高。商家和兽医要和我们进行签约，招募入驻成本较低，但是对于他们的管理，后期可能成本较高，因为作为第三方，他们的素质和专业水平无法保证，为了维护app的口碑，要有专门的团队对他们进行监督，及时剔除奸商和水平不过关的兽医。对于后期可能会有的官方宠物用品店，我们需要租赁专门的场地，联系好合作方，对合作方的生产过程进行监督，保证官方用品的质量，成本较高，但是这是后期有一定规模时再进行考虑的事，那时候会有充足的启动资金，前期工作只要做好我们的中介工作就可以。</p><h3 id="2-4-4-经济基础設施"><a href="#2-4-4-经济基础設施" class="headerlink" title="2.4.4 经济基础設施"></a>2.4.4 经济基础設施</h3><p><strong>主要问题1:你所处市场的(公共)基础设施有多优良?</strong><br><strong>回答：</strong><br>从新闻中可以得知，国内的互联网基础设施发展速度非常快，我们的软件正是依托于互联网技术的产品，所以我们有者相对良好的发展环境和基础，同时高速革新的技术也可以对我们的产品产⽣推动的效果。国内的视频版权的问题在近几年开始被重视，从以前的盗版横行到现在的有较强的版权意识，国内的销售环境已经有了较大的改善，这也保证了我们的业务能够正常的运行，不会因为盗版资源的横行出现收⼊大规模受损的情况。网络基础设施的快速发展也为我们提供的优质服务有着良好的保障。<br>调研&amp;新闻22：<br>IPv6规模部署广度不断推进，IPv6活跃用户数持续上升；IPv6规模部署深度不断推进，IPv6流量大幅上涨；支持IPv6的网络超过半数，IPv6地址量满足行业发展需求；网络全面支持IPv6，骨干网IPv6网内性能已优于IPv4；移动互联网用户渗透率继续提升，移动互联网流量增速放缓；5G网络建设稳步推进，多主体协同推进态势正加速形成；—-《中国互联网发展报告（2021）》<br><strong>主要问题2:个人和企业的税费有多高?对商业组织的公共服务有多好?</strong><br><strong>回答：</strong><br>和世界其他发达国家相比，我国生产税的比例是比较高的。我国税收侧重于流转税而在所得税上的弱化是企业生产税负较重的原因之⼀，因此也导致互联网企业的资金负担加重，而对个⼈税费影响较小。<br>调研&amp;新闻23：<br>和世界其他发达国家相⽐，我国⽣产税的⽐例是⽐较⾼的。 2014 年，中国⽣产税⽐例为15.64%，⽐瑞⼠2.6%的⽔平⾼出13个百分点，和⽇本8.41%、美国6.6%也存在较⼤差距。也就是说，中国企业每⽣产⼀单位的产出需要⽀付更多的税⾦，在原料价格、⼈⼒成本和其他成本不变的情况下，企业的利润空间被压缩，能够⽤于后期⽣产发展或股东分红的部分有限。从⻓远来看对于企业⾃身发展是不利的，在⾏业内部同全球其他国家的竞争也是缺乏优势的。—-—《中国税收负担究竟有多⾼？》腾讯新闻</p><h1 id="三-評估商业模式"><a href="#三-評估商业模式" class="headerlink" title="三 評估商业模式"></a>三 評估商业模式</h1><h2 id="3-1-总体評估"><a href="#3-1-总体評估" class="headerlink" title="3.1 总体評估"></a>3.1 总体評估</h2><h3 id="3-1-1-商业模式畫布"><a href="#3-1-1-商业模式畫布" class="headerlink" title="3.1.1 商业模式畫布"></a>3.1.1 商业模式畫布</h3><p><img src="https://s2.loli.net/2022/11/30/tHo3PDng6NImUaq.jpg" alt="商业模式画布-修改前.jpg"></p><h3 id="3-1-2-加分项"><a href="#3-1-2-加分项" class="headerlink" title="3.1.2 加分项"></a>3.1.2 加分项</h3><ul><li>客户细分：细分类型多样化，且不同的细分之间存在明显的沟通途径，不同细分之间互惠互利。</li><li>价值主张：产品设计致力于一站化，社区化，创新化。旨在完善客户需求处理的同时，给客户带来具有创新性的体验与优化，符合人性化设计，有助于创造良好的用户群体氛围。</li><li>渠道通路：渠道丰富，线上线下双端结合</li><li>收入来源：收入来源多样化，在创造收入的同时，可以进一步完善用户体验。</li><li>客户关系：按区域、品类、趋好创造社区，有相同或相似的爱好和体验作为连接，客户关系较为紧密。</li><li>关键业务：切合用户的实际需求。</li><li><p>成本结构：成本结构较为稳定可控。</p><h3 id="3-1-3-減分项"><a href="#3-1-3-減分项" class="headerlink" title="3.1.3 減分项"></a>3.1.3 減分项</h3></li><li><p>客户细分：目标群体比较确定，难以吸引新的用户类型加入。</p></li><li>价值主张：宠物榜单功能易形成不必要的攀比，最坏的情况可能导致宠物受到不当行为的侵害。</li><li>核心资源：部分核心资源不可控，且有风险。</li><li>重要合作：同类产品合作较难达成，部分合作方质量难以保证。</li><li>成本结构：前期投入过大，且缺少对于用户本身的投入。<h2 id="3-2-SWOT分析"><a href="#3-2-SWOT分析" class="headerlink" title="3.2 SWOT分析"></a>3.2 SWOT分析</h2><h3 id="3-2-1-核心评估"><a href="#3-2-1-核心评估" class="headerlink" title="3.2.1 核心评估"></a>3.2.1 核心评估</h3>经过分析，我们认为<strong>客户界面</strong>是该商业模式的核心，具体论述过程如下：<br>首先，从本<strong>商业模式的特点</strong>来看，PerkyPet聚焦于为⼀切有饲养宠物或了解宠物的想法的⽤户提供服务，构建⼀个集资讯获取、宠物咨询、饲养体验、宠物交易、线下服务、同城互助为⼀体的⼀站式服务平台。因此，本平台的价值主张、成本收入、关键业务的出发点和落脚点都是用户，我们平台的目标是创造一个一站化、创新式的宠物平台，而这些业务的落实，无不需要依托于用户的强连接关系。只有实现客户群体多元化，客户关系的紧密化，渠道通路对客户的透明化，才能保证本商业模式成本收入、基础设施的稳定，才能实现将本商业模式的价值主张从高向低的渗透。一站化是基于用户群体的一站化，是让用户群体感受到切实的便利，并愿意参与到社区建设、同城互助中的一站化。同时，要想做好本平台相较于其他同类型平台的创新，必须依靠用户群体的强连接关系，得到用户群体对于我们创新功能的反馈，我们为用户提供透明且优质的渠道内容，用户为我们提供改进的意见与建议，从而达成产品与用户之间互惠互利的共生关系。<br>其次，从本<strong>商业模式的外部环境</strong>来看，当今的市场环境并不缺少线下宠物门户服务，也并不缺少对于宠物市场术业有专攻的线上平台，真正缺少的，是一个专注于宠物市场，并将线上销售、线上咨询、线上社区与线下门店集成起来的一站式宠物平台。根据调研&amp;新闻11可以看出，“2020年，Chewy在美国宠物电商的市占率超过50%。反观国内，即使身为行业龙头，波奇在中国宠物线上销售平台的市占率也只有1.9%。”究其原因，还是中国宠物市场上线上社区平台与线上销售平台之间的割裂。中国的宠物饲养户，其主要使用的宠物社区，并非专业的宠物社区平台，而多是BiliBili、微博话题、贴吧社区等流量平台，而国内的宠物电商平台，也大多缺少一个环境良好且生态茂盛的用户社区。所以，本商业模式在当今国内市场的突破口，就是在做好一个用户社区的基础上，基于用户社区的使用体验报告和产品评估分析，推送给用户以最优质、最具性价比的宠物用品，在此基础上，形成渠道通路和客户群体相互依赖的一体化宠物社区平台。所以，本商业模式的核心，即在客户界面这一集合中，达到销售与交流的谐和。<br>最后，从本<strong>商业模式的总体评估</strong>来看，本商业模式最大的加分项是客户细分的多样化和客户关系的紧密化。我们的商业模式客户细分按照用户使用软件的方式，分为宠物饲养者、专业兽医、资深博主、宠物店和宠物用品品牌供应商，每种客户细分有明确的交流途径，如：宠物饲养者可以通过咨询功能联系专业兽医对症下药；资深博主在社区中心发布宠物饲养中需要注意的要点，给予饲养者指导；同城社区在用户进行研讨后，推荐该地区最优秀的宠物线下门店给用户；在社区中进行宠物用品使用体验报告后，择选不同价位相对具有性价比的商品，吸引相对应的品牌供应商入驻。最终依靠紧密的客户关系，促进成本结构、收入结构的优化，并形成良好的客户内互助链，从而反哺客户关系的维持。<br>综上所述，客户界面作为专注于客户关系、客户细分与渠道通路之间连通性的画布元素的集合，被我们认定为我们提出的商业模式的核心。</li></ul><h3 id="3-2-2-S-amp-W分析"><a href="#3-2-2-S-amp-W分析" class="headerlink" title="3.2.2 S&amp;W分析"></a>3.2.2 S&amp;W分析</h3><p><img src="https://s2.loli.net/2022/11/30/HX3gualsYVB6wvE.jpg" alt="S&amp;W评分表.jpg"></p><h4 id="打分理由："><a href="#打分理由：" class="headerlink" title="打分理由："></a>打分理由：</h4><ol><li>我们的客户流失度很低。我们为所有宠物饲养者提供了一个高度集成的一站式宠物平台，所有宠物饲养者不仅可以获得所有有关宠物饲养的一手资讯，还可以与宠物博主进行交流，亦或是在线咨询专业兽医，同时可以获取基于社区评分的宠物用品的电商链接。我们为客户提供的完整且高度集成的一站式平台，可以给客户带来相较于同类产品最舒适的服务。同时，我们的免费的基础服务，涵盖了绝大部分我们平台的内容，没有强制收费，并且我们的会员服务也极具性价比，所以我们可以维持客户流失度在一个较低的水平。</li><li>我们的客户被很好地分类。我们按客户使用软件的方式，分为宠物饲养者、专业兽医、资深博主、宠物店和宠物用品品牌供应商；按客户的消费习惯，分为免费用户、普通物料消费用户、宠物购买用户和会员用户。我们会为不同的客户群体提供不同类型的服务，同时结合他们爱宠的信息发出相对应的推送。从而使得不同的客户群体都能获得较为优质且有针对性的服务。</li><li>我们可以做到不断地获取新的客户。在服务方面，我们免费提供宠物信息咨询、宠物用品最优推荐、宠物社区等内容，并为每一位付费用户提供专业兽医咨询、专业宠物饲养员讲解、宠物用品折扣等一系列的定制化服务，这些都为我们产品良好的口碑打下基础。在宣传方面，我们不仅联合流量平台进行引流，还将在多个自媒体平台上运营平台账号，不断地将我们平台的服务以可视化的方式输送给新的用户；同时，与我们平台进行深度合作的线下门店也会为我们APP进行宣传。因此，我们具备一定的不断获取新客户的能力。</li><li>我们的渠道很有效率。首先，我们采用线上线下相结合的方式，线上联系知名博主和资深宠物医师吸引既存客户，并与流量平台合作达成引流；线下探访各地知名宠物门店，达成深度合作，扩充客户群体。线上线下相结合，扩展了我们渠道的广度。其次，我们的渠道会联系宠物用品品牌供应商、知名博主、宠物医师等不同类型的渠道用户，力图为客户群体提供完整、流畅、优质的一体化服务，延伸了我们渠道的深度。最后，我们的渠道是有规划地开展的，在不同的阶段，对不同地区、不同消费习惯、不同需求的客户进行拓展，并安排相对应的渠道，达到有针对性的服务，保证了我们渠道的层层递进。因此，我们的渠道是很有效率的。</li><li>我们的渠道有很好的效果。通过我们设计的合作伙伴渠道和⾃身渠道，我们的产品可以有效地在知名度、评价、购买、传递以及售后五个不同的阶段和我们的客户建⽴联系。我们线上线下相结合的方式，对于我们一体化社区的建设和同城平台的搭建有着至关重要的作用。</li><li>我们渠道连接客户的能力很强。我们的渠道和客户始终是相互依存、相互促进的关系。在购买宠物前，我们联系的宠物博主将会基于客户最权威、最详细的指导；在购买宠物和宠物用品后，我们也会有专门的客服保证客户和商家之间联系的连续且顺畅；在宠物出现疑难杂症时，我们会提供最好的咨询专业医师的机会。因此，我们的渠道始终和客户保持着强联系模式，而我们的客户提供的评价与建议，也将利于我们不断完善渠道通路。</li><li>我们的客户可以较为容易地看到我们的渠道通路。我们的客户在不同的阶段都可以直接地与我们的渠道通路进行对接，在平台内部，客户可以很轻松的找到专业的宠物资讯和咨询渠道；在平台外，客户也可以在线上线下看到我们为了推广并维护社区做出的努力。这一切都源于我们的渠道通路本身便是面向客户并依赖客户的。</li><li>我们的渠道整合度较高。我们平台作为一个一体化的宠物平台，其渠道通路都在该平台通过“社区”的方式进行整合和连接。在社区中，客户可以认识到我们完整的渠道通路，从线上线下宣发，到线上线下合作，都在社区中根据客户不同的需求进行整合推送。</li><li>我们的渠道可以产生较为良好的规模经济。虽然我们前期联系各方渠道商的成本较高，对于不同渠道商的评价准则也较难制定，但当我们的客户基数不断地扩大后，我们的成本可以平摊到每一个单位上，客户也会为我们平台提供各渠道通路的评价。通过对于客户评价和趋好的分析，我们可以以更低的成本去选择更优质的渠道，从而实现良好的规模经济。</li><li>我们的渠道很好地匹配了我们的客户群体。我们的渠道是为我们的客户群体设计，不同的客户群体也是我们不同的渠道不可或缺的一部分，所以，我们的渠道和客户群体有良好的匹配关系。</li><li>我们的客户关系较强。在我们的一站式平台上，客户可以在社区中交流自己的养宠经验、分享自己的萌宠日常，客户与客户的交流不仅可以给客户本身带来良好的体验，而且可以为社区提供充足的分析数据，从而更好地提升我们的服务，树立更好的口碑，吸引更多的客户。从而实现客户内的紧密关联带动客户外的关联一起运转，并不断扩大我们客户的关联范围，加固客户之间的关系。</li><li>我们的关系质量可以正确地匹配客户群体。对于不同的客户群体，我们进行的较为细致的划分，对于每一类客户群体，我们都有相对应的定制化服务。在我们的社区平台上，专业宠物医师和知名博主可以收获相应的知名度和信誉，普通的宠物饲养者可以享受良好的社区氛围和集成式的宠物服务。不过我们的社区同样给了不同的客户群体以跨层面分享的机会，但总而言之，我们的关系质量可以正确地匹配客户群体。</li><li>我们的客户切换成本不算高。作为一个一体化的社区性质平台，我们平台的免费用户相较于付费用户占的比例较大，同时，我们平台的推荐并不能完全覆盖所有养宠家庭的需求，我们的推荐力图给客户提供最优秀的选择，但有时我们或许无法和最合适的品牌供应商达成完全一致的合作，这时与其将客户局限在我们平台上，我们也更愿意让客户在我们平台上了解到信息后，选择自己更加倾向的消费方式。这样虽然使得客户切换成本降低，但是提升了客户使用我们平台的舒适度，从而更好地塑造我们的品牌形象。当然，在我们的一体化平台的建设不断完善后，我们可以使客户在享受到我们一站式平台便利性后，难以切换到其他同类型的平台上。</li><li>我们的品牌是较强的。我们重视我们产品的⼝碑的积累，品牌也是我们重视的地⽅，我们重视用户需求、重视产品的各方面体验细节，从而打造出强大的品牌效益，让⽤户⼀听到我们就会想到这是⼀家重视⽤户想法、 重视细节的公司。</li></ol><h3 id="3-2-3-威胁分析"><a href="#3-2-3-威胁分析" class="headerlink" title="3.2.3 威胁分析"></a>3.2.3 威胁分析</h3><p><img src="https://s2.loli.net/2022/11/30/b2SpcXJQ1VN4IFi.jpg" alt="O&amp;T评分表.jpg"></p><h4 id="打分理由：-1"><a href="#打分理由：-1" class="headerlink" title="打分理由："></a>打分理由：</h4><ol><li>我们的市场分为三类：第一，家里养宠的用户；第二，暂时没条件养但是后续有购买计划，目前先在网上了解各方面知识的；第三，云养宠用户，即不打算购入宠物，只打算在网上刷一刷可爱动物的帖子和视频的。其中第一种人群为主要市场，考虑到已有宠物的家庭比较多，对宠物购买的需求有限，但同时宠物配套用品又需要频繁购买，所以市场不会太快饱和。</li><li>现在市场上同类型的产业有一些，但是大多数功能不齐全，要么只有商城功能（京东），要么只有社区功能（小红书），要么各种功能都有一些但是部分功能不完善（宠物王国），而且京东小红书的相关功能并不纯粹，用户刷宠物的时候往往还会刷到一些该用户感兴趣的别的领域的内容，而PerkyPet是功能齐全的一站式宠物平台，专注于宠物领域，所以我们的竞争对手有，但是竞争力不强。</li><li>如上所说，我们的竞争对手大多数无法做到实现纯粹的一站式宠物平台，所以用户体验过我们的服务之后大概率不会转投竞争对手。</li><li>在相当一段时间内不会变得白热化。因为这方面市场比较空缺，很少有别的软件可以做到一站式服务。目前大多数人养宠的过程大致为：线上或线下联系卖家购买宠物，淘宝京东购置宠物用品，百度、小红书、贴吧等平台学习饲养知识。而以上的过程在PerkyPet中都可以一站式得到解决。</li><li>竞争对手在一定程度上会威胁我们的渠道。因为我们平台的商家和博主在其他平台也大概率会有账号，我们平台创立的初期人气还没积累起来的时候，相同商家或博主的销量和流量肯定不如他们别的平台账号，但是过一段时间有人气了就会好很多。</li><li>我们的渠道不会变得和客户不相关。为了给客户良好、便捷、一站式的饲养体验，我们联系合作伙伴入驻平台（博主、兽医、宠物店等）。我们在微博、贴吧、B站等有广泛用户基础的平台上创建平台的相关话题以及官号，是为了吸引更多客户。平台的智能客服和在线人工客服也保证了消费者与商品供应商之间联系的顺畅，并确保用户的隐私安全、退货要求的正常处理以及后续用品复购的导向。</li><li>我们和客户的关系不会恶化。恶化和客户关系的风险大部分存在于交易纠纷，我们从签约开始就会考察商家的商品质量和售后态度，并且设有专门的官方客服团队，在产生交易纠纷时消费者可以申请客服介入，客服会根据实际情况公平公正地解决问题，尽量满足客户的诉求。同时对于长期差评多纠纷多的商家，平台也会酌情勒令商家退出平台。</li></ol><h3 id="3-2-4-机会分析"><a href="#3-2-4-机会分析" class="headerlink" title="3.2.4 机会分析"></a>3.2.4 机会分析</h3><p><img src="https://s2.loli.net/2022/11/30/IslPkvDbpN4xtWV.jpg" alt="机会评分.jpg"></p><h4 id="打分理由：-2"><a href="#打分理由：-2" class="headerlink" title="打分理由："></a>打分理由：</h4><ol><li>增长的市场会带来更多种类的客户，同时也会带来更多种类的渠道通路。作为一个一站式的宠物平台，我们需要根据市场需求的增加开发更多更完善的功能，并吸引更多的客户群体加入我们平台，并结合新增长的市场，为已经和我们高度融合的客户群体提供更优质、更符合市场规律的服务。所以，我们的产品有较大机会从增长的市场中获利。</li><li>我们能够服务新的客户群体。我们的平台本身集成了一切与宠物相关的功能，是面向所有已经饲养了宠物和有意愿饲养宠物的客户的，甚至无饲养宠物的意愿，但是对于宠物很感兴趣的群体也可以在我们平台的社区内获得较为良好的体验。所以我们的平台所涉及的客户群体是广泛的，但是，由于我们是一个定向的做好宠物社区的平台，我们也难以兼顾到其他领域的新的客户群体。我们能做的，是针对所有对宠物相关内容有一定倾向的客户，提供尽可能完整且全面的服务。</li><li>我们有能力通过更细致的客户分类来更好地服务客户。我们对于不同类型的客户提供不同的服务，对于不同类型的宠物，我们当然将给予不同的服务内容，让不同的宠物饲养家庭都能得到优质的服务。在我们对于客户群体进行更细致的分类后，我们也可以更有针对性地提供相关推送，我们合作的专业宠物人士也可以提供更加对症下药的建议，从而为更细致的客户群体提供更优质的服务。</li><li>考虑到我们的宠物平台是基于现实世界而诞生的线上社区，我们应该将线上线下相结合的方式贯彻到我们的每一个渠道通路中。在线上，我们联合多方流量平台，对可能存在的潜在用户进行地毯式的信息轰炸；在线下，我们将我们的宠物门店合作方尽可能多地覆盖到不同的城市，形成规模效应。最终达到提升我们渠道的效益和收益的目的。</li><li>我们有能力很好地整合我们的渠道。虽然我们的渠道划分非常明晰，但为了完善客户的体验，我们提供的服务是一条龙式的，即从宣传开始，到客户实际体验我们的付费服务，再到付费服务后的售后阶段，我们通过紧密对接的客服服务，将每一个环节的渠道都关联起来，在后面的渠道阶段，同样可以溯源到前面的渠道阶段可能出现的服务上的问题，从而有效地整合我们的渠道。</li><li>我们很难找到补充性的新合作伙伴。作为一个一站式宠物平台，我们在设计之初就尽可能多地与渠道商讨论了可能给我们提供的渠道，从而使得我们的功能更加完善。所以除非市场需求发生了较大的变化，或出现了较大的市场基于，否则想要在运营过程中找到补充性的新合作伙伴，是较为困难的事。</li><li>我们平台实质上并非作为直接服务客户的单位，我们更多地是作为一个第三方性质的中介进行客户与渠道的对接。比如，在客户选择了付费项目后，我们为客户提供专业宠物人士的联系方式或宠物品牌的折扣途径，之后，我们将监视双方的交流过程，确保我们的渠道商给予我们的客户尽可能优秀的服务。如果我们平台加强直接服务客户的力度，那样成本的增加远大于从中获得的收益，所以我们有一定难度通过直接服务客户来提高收益率。</li><li>我们可以更好地匹配渠道和用户群体。当前我们能够做到的，是针对不同用户的付费情况，提供相对应的服务，但我们最终的目标，是针对每个用户的宠物情况，结合其付费情况，提供有针对性的服务。因此，我们还有很大的改进渠道和用户群体匹配合适度的机会。</li><li>我们可以更好地提升客户跟进的效果。我们的平台可以很容易使用户产生黏性，作为一站式宠物平台，PerkyPet致力于打造所有的宠物相关的功能，优化用户的使用体验，同时我们的运营团队也会对入驻的商家进行监督，对社区发布的内容进行筛选，打造和谐的交易环境和社区环境。</li><li>我们与客户的关系非常紧密。我们非常注重用户的使用体验，为每个用户定制化服务，有专业的客服团队处理用户的意见，用户和商家发生交易纠纷时也可以申请客服介入。同时对于社区发布的内容，我们也有团队进行审核，及时删除违规信息，为客户营造一个良好的社区环境。</li><li>定制化是有很大的改进空间的。我们会根据每个用户的宠物档案，为客户量身定制推荐适合的饲料和宠物用品，宠物生病时精确推送擅长该领域的医师，在社区给用户推送其可能喜欢的内容。而这些功能的实现需要公司的运营团队进行大数据算法设计，来保证推送的准确度。</li><li>我们有一定的方法来防止用户切换。首先我们有宠物档案，用户为了确保档案不丢失，一般不会选择切换。其次我们的服务具有针对性，对于每个用户的每个宠物，我们都有相关的饲养建议，也会定期提醒喂食、洗澡、驱虫等，良好的服务有助于用户黏性的形成。此外，互助有爱的社区环境也会促使用户选择PerkyPet，用户可以在社区模块分享自己饲养宠物的趣闻趣事、寻找志同道合的宠物同好、交流宠物饲养过程中遇到的问题和心得，萌宠榜排行靠前的宠物也会获得更多的曝光量。</li><li>我们没有识别并“炒掉”没有利润的客户。这些客户仍可以使用平台的大部分基础功能，尤其是我们的社区功能很需要日常能活跃的用户，这些用户的浏览、点赞、评论对我们都是有价值的，一方面可以提升博主的创作热情，另一方面也有助于后台的大数据分析。没有利润的客户只是目前没有利润，未来也是有可能为我们带来价值的，我们要做的就是尽可能留住这些用户，让他们对平台有一个良好的印象，从而在未来更有可能在平台中消费。此外，出于口碑考虑，也不能剔除这些用户，否则会让外界觉得我们唯利是图。</li><li>我们不需要让某些客户关系变得可以自动维护。我们的实质是个第三方中介平台，和客户的关系会随着交易的终止而终止。大多数情况下，用户都在自己浏览和使用平台，需要联系平台的时候很少，基本上只会在交易出现纠纷或者对平台提出意见的时候才会联系人工客服，所以我们不需要让某些客户关系变得可以自动维护。</li></ol><h1 id="四-藍海战略"><a href="#四-藍海战略" class="headerlink" title="四 藍海战略"></a>四 藍海战略</h1><h2 id="4-1为什么选择客户影响这一点探究蓝海战略？"><a href="#4-1为什么选择客户影响这一点探究蓝海战略？" class="headerlink" title="4.1为什么选择客户影响这一点探究蓝海战略？"></a>4.1为什么选择客户影响这一点探究蓝海战略？</h2><p>在我们的商业模式种采取蓝海战略的主要目的是要通过寻求差异化，创造新优势，避免在同质化的饱和市场中做大量的无用消耗性竞争，在先前少有涉足且具有潜力的地方与本行业其他竞争者拉开差距，问题在于，哪些方面，什么样的差异化才是有意义的?结合上文的分析论述，我们选择从成本影响，价值主张，客户影响三个方面中选择客户影响作为我们蓝海战略的主要落脚点，理由如下。<br>从<strong>商业模式环境</strong>来看。我们的市场影响力所面向的客户群体类型较为丰富，有宠物飼養者、專业兽医、资深博主、宠物店和宠物用品供应商，不同的客户群体有不同的独特诉求，而作为一个平台化产品，我们的所有关键业务咨询获取、宠物咨询、饲养体验、宠物交易、线下服务、同城互助，也都是为了把握住每个用户群体的痛点而提供的。而在行业影响力上，我们行业供应商（宠物用品生产商）和价值链的关键参与者（线下宠物店，宠物医生）既是我们平台的核心资源重要组成部分，同时也是我们的目标服务客户。行业关键趋势是我们蓝海战略具体如何实施的一个关键点，产品的革新发展都基于对未来行业趋势的敏锐嗅觉，而如今宠物行业呈现的趋势就是”<strong>自研化、綠色化、智能化、电子化、高端化、定制化“。</strong>具体怎样做到智能、定制、高端，核心需求就是以客户为本，想用户之所想，精准把握用户需求的细节，给用户被服务感，社区融入感这些独特体验，方能和竞争者之间建立起护城河式的独有优势。此外，鉴于当前全球市场经济环境的放缓，消费的低迷，如何处理客户群体对我来说有新的挑战，但更多是机遇，线下宠物商店/宠物医院处于危机下发展的需要，更加可能投向我们平台的怀抱，提高自身在当地的曝光度，获客量，建立起互利关系。<br>从<strong>商业模式的评估</strong>来看，我们的核心优势在于客户方面，我们的客户流失率低，渠道连结客户能力强，渠道良好匹配客户群体，且能够产生规模经济，在所以客户影响应该是我们始终一以贯之的主要创新与改进方向。尽管在客户方面我们有一定的优势，但仍有一些威胁需要注意，宠物经济目前可能会较快的饱和，同时我们对渠道的掌控力还不够，竞争对手会对此产生威胁。我们在客户影响上还有一些可以把握住的机会需要抓好，如在增长市场获利，进一部将渠道与客户群体匹配，将客户与我们的关系连接的更加紧密。</p><h2 id="4-2针对客户影响的蓝海战略的行动框架"><a href="#4-2针对客户影响的蓝海战略的行动框架" class="headerlink" title="4.2针对客户影响的蓝海战略的行动框架"></a>4.2针对客户影响的蓝海战略的行动框架</h2><h3 id="客户群体"><a href="#客户群体" class="headerlink" title="客户群体"></a><img src="https://s2.loli.net/2022/11/30/EVRtwlioJxj5u1B.png" alt="蓝海战略.png">客户群体</h3><p>在3.1.3中，我们认为PerkyPet平台的目标群体比较确定，难以吸引新的用户类型加入，因此我们对宠物市场中的人群进一步细化分析。同时，根据2.1.2的分析，目前市场上的潜在宠物饲养着数量较大，等待我们去发掘，于是在客户群体方面，我们<strong>新增“云养宠”用户</strong>，这部分用户从最初的“宠物饲养者”中区别出来，他们往往喜欢动物，但由于时间精力，财力，或是精力的原因，还没有开始实际养宠，这部分用户同样可以从我们社区中浏览他人分享的宠物日常、趣图中获得乐趣，尽管他们不会成为平台的重要收入来源，但仍然可以为我们贡献社区活跃度，同时，他们通过PerkyPet平台的模拟养宠功能，可以获得对某种感兴趣宠物的饲养知识，未来很可能转化为真正的饲养着，成为平台的核心客户。对这部分客户的强调实际上<strong>强化</strong>了我们<strong>一站式服务</strong>的理念，即便是尚未开始养宠的人，也能从平台获取有用的信息。<br>在平台具有一定规模后，我们希望一定程度上<strong>削减资深博主</strong>在社区中的<strong>影响力</strong>，不像微博那样设置“大V”以强化大博主和普通用户之间的区别，我们希望平台用户的发言地位能够相对平等，主要以内容质量的好坏自然产生热度，而非平台刻意干预。</p><h3 id="客户关系"><a href="#客户关系" class="headerlink" title="客户关系"></a>客户关系</h3><p>客户关系方面我们<strong>增加私人服务，</strong>在2.3.1中我们发现，当下行业技术趋势呈现”自研化、綠色化、智能化、电子化、高端化、定制化“的趋势，对此我们提供如下业务，用户可以向平台提供宠物类型，健康状况，饮食状况，护理计划，日程安排等，平台可以为客户定制化的提供日常饲养建议，宠物食量、饮食结构规划，喂食时间安排，定期护理提醒等细致服务，这一服务是我们加值服务中定制化的体现。由于这一服务可以渗透到用户养宠日常的方方面面，因此可以在不花费太多额外成本的同时大大提高用户粘性。</p><h3 id="渠道通路"><a href="#渠道通路" class="headerlink" title="渠道通路"></a>渠道通路</h3><p>渠道通路方面我们将最初版本中的线上合作渠道拆分为线上在流量平台投放的广告业务，以及自营的其他平台账号。<br>计划在社区有一定规模时，<strong>削减流量平台广告</strong>，此时社区已有足够的宠物圈内知名度、影响力，适度削减在其他流量平台（微博，小红书，知乎等）的引流渠道也无妨，可以<strong>降低一定的成本</strong>。<br>并且我们计划在此时<strong>新增线上自媒体运营</strong>，因为社区有了较为丰富的内容，我们可以在多平台运营账号，分享有趣、专业的内容，由于宠物类话题本身具有娱乐性，传播度会比较好，多平台账号的运营可以进一步引流和塑造社区形象，账号运营开销比流量平台广告开销更低，塑造品牌效果更好。</p><h3 id="收入来源"><a href="#收入来源" class="headerlink" title="收入来源"></a>收入来源</h3><p>收入来源方面我们<strong>新增</strong>了<strong>周边产品</strong>，<strong>店家推广</strong>，<strong>付费咨询</strong>三项，周边产品并非主要业务，周边载体也主要是价格较低的小商品，或实用宠物用品，生产方面也主要依赖代工，主要目的是为了通过周边强化品牌符号，塑造品牌形象，提高用户粘性。<br>根据2.2.1，2.2.2的分析我们知道，宠物店和专业医生是我们商业链条上的关键玩家，需要牢牢把握住这部分客户，因此，我们新增的收入来源需要能够实现和他们互利共赢。店家推广面向与我们平台合作的线下实体宠物店，通过一定的推广费用，我们可以为这些宠物店在同城搜索中提供较高的曝光度。付费咨询面向专业宠物医生，平台为其提供收费咨询渠道，从中抽成，优秀专业的兽医会在本平台有良好的客户评价，为自己的宠物医院引流，以此提高专业宠物医生使用本平台的意愿，<strong>提高社区交流</strong>活跃度。</p><h1 id="五-更新过的商业模式畫布"><a href="#五-更新过的商业模式畫布" class="headerlink" title="五 更新过的商业模式畫布"></a>五 更新过的商业模式畫布</h1><p>蓝色标签为新增项，黑色为删除项<br><img src="https://s2.loli.net/2022/11/30/wkZrPKtlYOiC5TX.png" alt="更新画布.png"></p><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>我们新的商业模式以一站式宠物服务为中心，进一步优化了商业模式画布的结构，细致化我们的主要业务，客户群体，丰富了收入来源，削减了成本结构。平台模式比原先的可行性和竞争力都更强。<br>在客户群体上我们进行进一步细分，注意到相对边缘的群体，即“云养宠”用户，他们一般不被传统服务者所注意到，但这部分用户在未来很有可能在我们平台的帮助和引导下真正开始养宠，转化为核心用户，在上个版本中，我们尽管已经提出了模拟养宠这一关键业务，但并没有将这一业务的主要目标在客户细分中提出。<br>在客户关系上面，除了做一个用户自发创造共享的社区，内容生产者、接收者间的管道，商家和消费者间的桥梁，我们还会做为客户定制化、私人化服务的提供者。<br>由此我们在关键业务中新增定制化饲养这一项，除了重视渠道的价值，我们更要注意每一个人的价值，这样才能更好得顺应这个时代服务向“定制化”“精品化”发展的趋势。<br>渠道通路方面我们在适量减少流量平台广告的同时新增自媒体运营渠道，在有一定社群规模的情况下，运营多个平台账号相较于传统广告成本更低，也能更好塑造我们的品牌影响。<br>收入来源上我们在明确渠道收费和会员收费为核心的前提下，细化和丰富出了周边产品，店家推广，付费咨询几项次要收入来源。<br>因为一些小规模自营产品的加工，我们在重要合作方面需要新增代工厂这一项。另外，我们认为云服务属于当下许多互联网产品构建的基础，云服务商属于一个常规合作对象，不必特别加在我们的重要合作中，故删除该项。</p><h3 id="变化要点"><a href="#变化要点" class="headerlink" title="变化要点"></a>变化要点</h3><h4 id="新增："><a href="#新增：" class="headerlink" title="新增："></a>新增：</h4><p>客户群体：“云养宠”用户<br>客户关系：私人服务<br>渠道通路：线上自媒体运营<br>关键业务：定制化饲养<br>收入来源：周边产品、店家推广、付费咨询<br>重要合作：周边代工厂</p><h4 id="删减："><a href="#删减：" class="headerlink" title="删减："></a>删减：</h4><p>重要合作：云服务商</p><h3 id="依赖关系"><a href="#依赖关系" class="headerlink" title="依赖关系"></a>依赖关系</h3><ul><li>新增<strong>“云养宠”用户</strong>主要是体现出了我们<strong>一站式服务</strong>的价值主张，同时也是<strong>宠物饲养者</strong>的潜在转化用户</li><li>新增<strong>私人服务</strong>是我们<strong>定制化</strong>的价值主张的体现</li><li><strong>私人服务</strong>主要以<strong>定制化饲养</strong>这一关键业务提供给用户</li><li>削减<strong>流量平台广告</strong>，节省<strong>广告推广</strong>的成本结构</li><li>新增<strong>线上自媒体运营</strong>，部分代替<strong>流量平台广告</strong>的宣传作用，会有一定的<strong>运营消耗</strong></li><li>新增<strong>周边产品</strong>这一收入来源，相应的增加<strong>周边代工厂</strong>这一重要合作。 </li><li>新增<strong>店家推广</strong>、<strong>付费咨询</strong>两个收入来源，在这部分收入上平台和宠物店、宠物医生是互利关系，因此可以减少专门去吸引宠物店、宠物医生入驻平台花费的成本，实现<strong>成本缩减</strong>的价值主张</li></ul>]]></content>
      
      
      <categories>
          
          <category> 煩人作業 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求與商業模式創新 </tag>
            
            <tag> PerkyPet </tag>
            
            <tag> 項目 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PerkyPet項目-項目启動文檔</title>
      <link href="/2022/10/10/PerkyPet%E9%A0%85%E7%9B%AE-%E9%A0%85%E7%9B%AE%E5%90%AF%E5%8B%95%E6%96%87%E6%AA%94/"/>
      <url>/2022/10/10/PerkyPet%E9%A0%85%E7%9B%AE-%E9%A0%85%E7%9B%AE%E5%90%AF%E5%8B%95%E6%96%87%E6%AA%94/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="一-基本信息"><a href="#一-基本信息" class="headerlink" title="一.基本信息"></a>一.基本信息</h2><h3 id="1-项目题目"><a href="#1-项目题目" class="headerlink" title="1.项目题目:"></a>1.项目题目:</h3><p>PerkyPet——一站式宠物平台</p><h3 id="2-度量数值"><a href="#2-度量数值" class="headerlink" title="2.度量数值:"></a>2.度量数值:</h3><ul><li>总要点数：44</li><li>平均要点数：5<h2 id="二-项目介绍"><a href="#二-项目介绍" class="headerlink" title="二.项目介绍:"></a>二.项目介绍:</h2>PerkyPet聚焦于為一切有飼養寵物或了解寵物的想法的用戶提供服务，构建一个集资訊獲取、寵物咨詢、飼養体驗、寵物交易、线下服务、同城互助為一体的一站式服務平台，为用户提供优质的个性化服务。处于迷茫中的小白可以通过平台一鍵獲取对应寵物的手把手飼養教程，注意事项等信息;对寵物物种或品种猶豫不決的用戶可以通过平台的体驗工具先進行全方位的模擬飼養以充分了解对应寵物的特性，避免实际饲养时可能出现的种种问题;專业的內容博主與持職业资格證書的医師也可獲得一個分享知识、服务客户、创造收入的工作平台;各大寵物店可與本軟件达成合作以獲得宣傳，吸引客戶，同时本軟件也提供各种寵物用品的销售渠道以及完善的售后保障，在交易过程中通过交易全程监督等措施保证交易可靠及隐私安全，全力保障交易公平和透明，在运輸过程保證寵物健康舒适。同时，我们会尤其注意社区环境氛围引导、和公众一起共同建立和谐、健康、完善的互联网宠物社区环境。<h2 id="三-商业模式画布与要点介绍"><a href="#三-商业模式画布与要点介绍" class="headerlink" title="三.商业模式画布与要点介绍"></a>三.商业模式画布与要点介绍</h2><img src="https://s2.loli.net/2022/11/29/RXY675EJ1h2Zmxb.jpg" alt="商业模式画布——PerkyPet.jpg"><h3 id="1-客户细分"><a href="#1-客户细分" class="headerlink" title="1. 客户细分"></a>1. 客户细分</h3></li></ul><ol><li>按照客户使用该软件平台的方式来分:</li></ol><ul><li>寵物飼養者：有養寵傾向，正在養竉的小白或愛好者，可以<strong>通过平台獲取资訊，學習知識，交流經驗，求助專业人士</strong>;可以通过我们精心设计的多样化的<strong>在线模拟宠物饲养</strong>學習、适应養寵、評价相应寵物與自己的契合度，比如常见的猫狗，用戶可以通过在线模拟教程瞭解相应品种的喜惡、作息飲食排泄习慣、活潑程度，可以上手實踐照顧方法;对于饲养难度较高，注意细节较多的鱼虫、爬宠、鼠类宠物，这一功能会对用户起到更大的帮助。用戶也可通过平台<strong>購买養寵工具</strong>、<strong>预約医療清洁</strong>、<strong>预約疫苗</strong>、<strong>辦理各种證件</strong>，忙碌时还能通过平台<strong>同城請人上門</strong>代為照顧寵物等等。</li><li>專业兽医：有經驗，持有效兽医职业资格证书的人士可以入駐平台，也可挂靠自己的診所，我們为他们提供了一个平台<strong>分享寵物養育與基本衛生救助知识</strong>，也可以為用戶進行<strong>一对一答疑</strong>，或者為自己的診所吸引客戶。</li><li>资深博主：拥有一定社区影响力<strong>内容产出</strong>者，最好在 bilibili，小红书，抖音等平台有一定的粉丝基础，在社区分享宠物养育经验，宠物日常等内容。主要目的是扩大平台影响力，打下用户基础，提高社区活跃度，丰富用户产出内容。</li><li>寵物店：认定为有<strong>合规营业能力的线下宠物店</strong>，可通过入驻平台提高自身曝光度，吸引同城客户，客户线上购买宠物，预约宠物服务。</li><li>宠物用品品牌供应商：生产宠物饲料，玩具等各种用品等供应商，平台以及平台博主可帮助其提供品牌推广，同时为宠物饲养者提供透明的<strong>价格信息渠道</strong>，相对<strong>优惠的购买渠道</strong>。</li></ul><ol><li>按照客户的消费习惯来分:</li></ol><ul><li>免费用户：没有在此平台消费的明显的意愿，但是希望通过平台分享自己饲养的宠物的日常生活，或是希望在平台的社区功能中浏览他人分享的养宠经历，学习养宠知识，交流养宠心得，咨询宠物问题。此部分用户群体在长时间使用此平台后，有较大的几率成为一部分付费群体。</li><li>普通物料消费用户：有一定的在此平台购买宠物饲料、药物、玩具、住所等一系列宠物物料的倾向，我们为他们提供一个集成式的宠物物料购买途径，针对其正在饲养的宠物类型以及其在一定时期内在此平台的消费水平，提供相应的第三方宠物用品品牌供应商的商品信息；同时，我们也会为他们提供咨询专业宠物医师的渠道，他们仅需要支付少量的咨询费，便可以得到入驻该平台的兽医的反馈、建议与医治。</li><li>宠物购买用户：在此平台浏览了大量的自己未饲养宠物类别的相关资讯，有较强烈的在此平台购买宠物的意愿。我们为此类用户提供详实的宠物信息、饲养宠物需要事先了解的注意要点，并在商城系统中提供经过我们严格筛选后的商家的购买与联系方式，保证交易过程的公平、交易信息的透明、交易售后的完备。此外，通过我们提供的专为宠物饲养新人服务的体验工具，用户可以在模拟饲养的过程中全方位地体验宠物饲养细节，以确认自己是否适合饲养该类型的宠物，尽可能的减少用户在购买完后，后悔饲养该类宠物的情况的发生。</li><li>会员用户：已经养成了在此平台消费购物的习惯，并购买了月卡制/终生制会员的用户，我们将为此类用户提供商品折扣、一对一咨询等服务，服务等级与会员等级相关。<h3 id="2-价值主张"><a href="#2-价值主张" class="headerlink" title="2. 价值主张"></a>2. 价值主张</h3></li></ul><ol><li>一站式服务</li></ol><p>PerkyPet将宠物饲养要点、宠物与物料购买、售后服务、宠物医治问询等众多与宠物饲养相关的内容集成为一体，致力于打造一个为用户解决一切与宠物相关问题的一站式服务平台，最终形成一个高度社区化、一体化的一流宠物平台。</p><ol><li>便利性</li></ol><p>用户可以在社区中随时随地获取宠物的相关资讯；也可以在PerkyPet线上就诊、或是通过该平台的同城交流模块获取自己所居住区域口碑较好的宠物线下门店/宠物医院。从而为用户提供最大化的便利化服务。</p><ol><li>定制化</li></ol><p>在支付一定费用或成为会员后，用户可以享受专业的宠物博主和宠物医师的一对一服务，从而使用一种更加专业的方式解决所饲养宠物出现的部分难以解决的问题。</p><ol><li>社区交流</li></ol><p>用户可以在社区模块分享自己饲养宠物的趣闻趣事、寻找志同道合的宠物同好、交流宠物饲养过程中遇到的问题和心得。同时，用户在社区内分享的内容也可以设置为所有人可见，用户在浏览社区广场时可以点赞、评论他人分享的内容，最后会在统计点赞数、内容质量等一系列要素后，形成萌宠榜，记录最受欢迎的宠物排行。通过这种方式，PerkyPet帮助用户营造一种互助友爱的社区环境，进而增加平台日活、提高用户黏性、打造平台品牌效应。</p><ol><li>成本缩减</li></ol><p>在用户层面，PerkyPet力图为养宠爱好者提供最好的宠物与物料购买渠道，尽量为用户提供性价比最高的商家信息，从而帮助用户实现成本缩减。在平台层面，我们作为第三方平台提供商家与客户之间的交互，从而缩减了平台原料生产、保存的成本。</p><ol><li>创新性</li></ol><p>与市面上的同类型产品不同，PerkyPet为用户<strong>提供了宠物的体验功能，用户可以在购买宠物前，通过体验模块事先了解宠物的生活习性、饲养要点，从而判断自己是否适合饲养该类型的宠物</strong>；同时，该功能还可以为希望饲养、但暂时无法提供完备的硬件条件的用户提供模拟饲养宠物的良好体验，从而扩大了用户群体。通过推广这样一个创新型功能，塑造出别具一格的品牌形象。</p><h3 id="3-渠道通路"><a href="#3-渠道通路" class="headerlink" title="3.渠道通路"></a>3.渠道通路</h3><ol><li>自身渠道：</li></ol><ul><li>知名度推广阶段：平台建设初期，通过搭建线上线下两支销售团队，力图扩大平台的知名度。<ul><li><strong>线上销售团队负责联系知名博主和资深宠物医师</strong>，吸引在宠物市场上有较大影响力的个人、团队以及专业的知识产出者入驻平台，平台方给予他们一定额度的签约费，邀请他们在平台上持续发表推文，相对应的，受邀请的知名宠物博主通过自己在其他平台的账号吸引粉丝使用本平台，从而在线上层面扩充用户群体。</li><li><strong>线下团队负责在各城市的宠物店、宠物医院等物色口碑较好的线下门店</strong>，按照从超一线城市到一线省会城市，再到二线、三线城市的顺序（在此阶段应该放弃四线、五线城市，待用户群体逐渐稳固后再开始拓展在四线、五线城市的业务），与各城市的线下门店达成合作，PerkyPet在同城互助模块为来自不同城市的用户提供相应地区的线下门店推荐。通过这种方式，可以完善本平台的服务层面的完整性，从而提高PerkyPet的使用价值。</li></ul></li><li>线上销售阶段：在平台完成知名度推广阶段后，平台的重心转向巩固用户群体并发展新生代用户上。<ul><li>在微博、贴吧、B站等有广泛用户基础的平台上创建平台的相关话题以及官号，向此类平台输送PerkyPet的推广信息。</li><li>在各大应用商店提高本平台在榜单上的排名，进而提高在应用商店以及各搜索引擎中关键词搜索的优先级，达到导流的目的。</li><li>在用户运营层面，通过使用PerkyPet的用户带动身边同样饲养宠物的潜在客户加入，有相识相知的用户群体的加入有利于社区文化的发展。</li><li>吸引更多的第三方宠物与宠物用品品牌供应商入驻平台商城，使用户在本平台购买宠物用品时可以享受到在其他平台难以享受的折扣，从而吸引平台的免费用户和非本平台用户在此平台消费，达到巩固用户基础从目的。</li></ul></li><li>售后服务阶段：PerkyPet将为用户提供购买后与饲养中两个层面的售后服务。<ul><li>购买后：当用户在PerkyPet购买商品后，本平台将通过智能客服和在线人工客服保证消费者与商品供应商之间联系的顺畅，并确保用户的隐私安全、退货要求的正常处理以及后续用品复购的导向。</li><li>饲养中：当用户在饲养宠物时出现了一些难以解决的问题时，PerkyPet将为用户提供专业宠物博主与宠物医师的咨询服务，同时为用户提供其所在城市优秀线下宠物门店的联系方式。</li></ul></li></ul><ol><li>线下合作渠道：线下团队與寵物店达成合作后，应建立相互宣傳引流的关係，对于愿意进一步深度合作的門店，可以拓展出统一标淮化的业務，如寵物清洗、習慣培養等等，而平台也會展示达成合作的商家的詳細信息，並根據用戶的位置、需求、消费水平作出智能推荐，寵物店也可以选择从我們的渠道進货，以达到更统一化的标准。與本平台达成合作的寵物医院、診所可以选择接入我們的系統，实时更新可做项目的數據，如健康檢查的预約情怳，疫曲剩餘量，並開放预約接口，供平台智能計算后向用戶提供便捷的寵物就医服務。医師在閒暇時还可在平台上答疑或發布资訊，吸引顧客。平台會不定期会放出專属的优惠券以达成双向引流。</li><li><p>线上合作渠道：寵物用品的供应商、品牌方，各大平台知名的寵物博主。</p><h3 id="4-收入來源"><a href="#4-收入來源" class="headerlink" title="4.收入來源"></a>4.收入來源</h3></li><li><p>廣告收费：APP加載页、资訊內容等部分可以设置广告推广位置，合作方與品牌方可支付一定推廣费以使它們的門店或產品位于更顯眼、更频繁出現的位置；平台也可以通过社区博主广告接单当中获取一定收益。</p></li><li>渠道收费：本平台商城可以接入合作方的产品进行销售，通过提供交易平台和推广收取一定的渠道服务费。</li><li>会员收费：用户群体可分为普通用户，会员用户，深度会员。普通用户大多仅仅使用本平台的社区、资讯功能，消费意愿低。付费购买会员资格的用户基本有一定的消费欲望，会在本平台进行一些专业咨询，线下预约，产品购买的消费，对于这些用户我们可以提供一定的消费优惠券。更进一步的深度会员需更高的开通价格，这一类用户除了对于宠物的必要性消费外，可能会更加深度参与到社区当中，这些用户会享有一些增加其社区体验的服务，如虚拟宠物定制造型、宠物pk榜助力，定制个人主页等。</li></ol><h3 id="5-客户关系"><a href="#5-客户关系" class="headerlink" title="5. 客户关系"></a>5. 客户关系</h3><ol><li>社区:让用户可以交流知识和经验，分常寵物日常。用戶可以制作寵物的成長历程、3D形象、声音集锦，还可以<strong>參加宠物魅力比拼，刷排行榜，提高用户的社区参与度</strong>。到过線下門店的用戶也可發表評价與流程以幫助其他用戶作选择。同时，也能帮助平台本身更好的了解用户的需求。專业人士及博主的文章则会集成到其他專栏里，與生活社区区分开來。</li><li>內容推荐:根據用戶設置好的信息，經常浏覽的內容，从而对其感兴趣的内容进行预测，推算其購买欲望，綜合作出內容、商品、服務、門店推荐，並智能化地给出优惠誘導用戶消费，在用戶使用一段時間后，精化其感兴趣内容的推荐，留住用户。</li><li><p>自助服务:用户可以充值内部的虚拟货币，从而購买付费虛擬內容或者支持其他用户所发布的优质内容，用户可以随时随地管理修改自己的用户信息，未經平台鎖定(如已產生价值或收錄進專栏的情況)的已發布內容</p><h3 id="6-核心资源"><a href="#6-核心资源" class="headerlink" title="6. 核心资源"></a>6. 核心资源</h3></li><li><p>实物资源：官方网站、移动端APP</p></li><li>知识资产：品牌、社区用户产出内容（UGC）</li><li>人力资源：销售团队、软件工程师团队、法务部门、专业宠物饲养人士、公司战略发展决策团队</li><li>金融资产：用于雇佣关键人员的可分配的公司股票期权池、充足的流动现金、巨大的信贷额度</li><li><p>渠道合作：与宠物用品品牌的长期合作；线下宠物店、宠物医院的入驻</p><h3 id="7-关键业务"><a href="#7-关键业务" class="headerlink" title="7. 关键业务"></a>7. 关键业务</h3></li><li><p>社区平台：为用户提供一个可以分享养宠经验、萌宠日常以及交流养宠心得的社区化平台</p></li><li>同城服务：为用户提供其所在城市信誉较好的线下宠物门店的相关信息，同城的用户也可以进行一定程度的互助</li><li>专业咨询：为用户提供宠物博主以及宠物医师的联系途径</li><li>资讯推送：为用户提供宠物饲养中需要注意的要点的资讯，提供介绍宠物的性格与生活习性的推文</li><li>模拟饲养：为用户提供模拟宠物饲养日常以及在日常生活中常见问题的模拟服务，用户可以在该模拟饲养功能中体验自己是否适合饲养该类型宠物，或是单纯地获得云养宠的快乐</li><li>线上购物：为用户提供购买宠物与宠物用品的交易平台</li><li><p>线下服务：为用户提供线下宠物店的搜寻，并可线上预约洗护、寄养、训练等服务。</p><h3 id="8-重要合作"><a href="#8-重要合作" class="headerlink" title="8. 重要合作"></a>8. 重要合作</h3></li><li><p>非竞争者</p></li></ol><ul><li>线下宠物门店：与线下门店建立合作，我们给用户推荐同城的优质线下门店，通过app为这些线下店引流，相应的，线下门店为我们提供广告位和宣传。</li><li>流量平台：和B站、抖音、小红书等流量平台合作，实现为平台宣传引流</li><li>第三方宠物用品品牌：我们为该类型品牌提供销售渠道，从而完善平台的使用价值</li><li>高影响力宠物达人：包括知名宠物博主、专业宠物医师等，我们签约他们为我们的平台提供咨询服务，他们为我们平台引流</li><li>云服务商：提供服务器，存储用户数据</li></ul><ol><li>竞争者</li></ol><ul><li><p>提供的服务重合的其他宠物服务平台:利用自己的獨特优勢與較大的平台(E宠、人人宠、波奇宠物等)进行合作，可以推出聯名商品進行相互引流，也可以互相利用平台強项提供更优質的服務，擠佔其他小平台的生存空間，供日后進行收購、人才吸取等操作。</p><h3 id="9-成本结构"><a href="#9-成本结构" class="headerlink" title="9. 成本结构"></a>9. 成本结构</h3><p>固定成本：</p></li><li><p>App开发、运维人工成本</p></li><li>签约医師和長期內容提供者的人工成本</li><li>品牌供应商的长期合作</li><li>服务器租用以及其他硬件维护成本</li><li>办公场地租用费</li><li>社区环境维护、客户服务人员成本</li></ul><p>可变成本：</p><ul><li>先期流量引导，社区建设，面向线下宠物店、宠物医院的平台推广。<h2 id="四-关键要点关联"><a href="#四-关键要点关联" class="headerlink" title="四.关键要点关联"></a>四.关键要点关联</h2><h3 id="1-重要合作-gt-核心资源"><a href="#1-重要合作-gt-核心资源" class="headerlink" title="1.重要合作-&gt;核心资源"></a>1.重要合作-&gt;核心资源</h3>由于PerkyPet是一个平台化产品，故许多核心资源必然离不开与各方面的合作，通过合作实现互利共赢降低成本的目的。例如与众多宠物用品品牌的合作，通过我们专门化的宠物社区为这些品牌、供应商提供一定的推广，换来供应商在我们平台相对优惠的销售价格，吸引用户在本平台购买宠物饲养的日常用品；与知名博主们的合作，可以提高我们的社区活跃度，待社区平台成熟也可以为宠物博主反过来带来流量；与宠物店、宠物医院、专业人士的合作可以为我们的社区提供专业科学的宠物相关内容，同时为饲养者提供了解本地线下宠物服务的渠道。</li></ul><h3 id="2-客户细分-gt-价值主张"><a href="#2-客户细分-gt-价值主张" class="headerlink" title="2.客户细分-&gt;价值主张"></a>2.客户细分-&gt;价值主张</h3><p>什么样的客户，平台需要提供什么样的价值，两者是对应的关系。<br>对于<strong>核心用户—宠物的饲养者</strong>，我们为其提供1.内容丰富的<strong>社区</strong>，可以了解到饲养宠物的专业知识，分享宠物的趣味日常 2.宠物的<strong>模拟饲养</strong>，在这个过程中了解不同宠物的习性，饲养要点 3.宠物<strong>产品的优惠购买渠道</strong> 4.<strong>线下宠物服务</strong>的信息获取与预约；<br>对于<strong>内容博主</strong>，我们可以为其提供流量，帮助其进行一些产品合作，实现流量变现；<br>对于<strong>宠物用品品牌</strong>，我们为其提供产品<strong>推广曝光</strong>；<br>对于<strong>线下宠物店、医院，</strong>可与为其提供<strong>线上信息及服务渠道</strong>，吸引同城用户。</p><h3 id="3-核心资源-gt-成本结构"><a href="#3-核心资源-gt-成本结构" class="headerlink" title="3.核心资源-&gt;成本结构"></a>3.核心资源-&gt;成本结构</h3><p>平台的很多核心资源需要成本的支撑。整个平台的开发需要支付软件工程师费用；平台的长期运营需要支付服务器费用，运维人员工资；平台与内容提供者、宠物用品品牌、线下实体店的签约合作需要相关费用；用户社区的建立维护需要从其他平台引流，要向其他流量平台支付推广费用。</p><h3 id="4-客户细分-gt-收入来源"><a href="#4-客户细分-gt-收入来源" class="headerlink" title="4.客户细分-&gt;收入来源"></a>4.客户细分-&gt;收入来源</h3><p>不同客户群体对应不同收入来源。对于宠物饲养者来说，本平台要诱导他们充值vip并且购买宠物或宠物用品，从而创造营收；对于宠物店和宠物用品供应商，收取推广费，抽取交易成交额。</p><h3 id="5-价值主张-gt-成本结构"><a href="#5-价值主张-gt-成本结构" class="headerlink" title="5.价值主张-&gt;成本结构"></a>5.价值主张-&gt;成本结构</h3><p>要形成服务首先要有app的开发和维护成本，前期还要在别的平台投入推广费用，为了提供宠物线上就医和本地的宠物服务，要和专业兽医和各地宠物店签约，形成合作。优质内容创作者要提供创作激励，为平台引流。另外，为了提供更好的服务，办公场地租赁，人员雇用都需要付出一定成本。</p><h3 id="6-客户细分-gt-渠道通路"><a href="#6-客户细分-gt-渠道通路" class="headerlink" title="6.客户细分-&gt;渠道通路"></a>6.客户细分-&gt;渠道通路</h3><p>平台建立初期需要在别的平台推广，可以邀请宠物领域的博主试用软件（最好能让他们长期入驻，在我们的软件中同步更新他们其他平台的内容），写推广帖子或者做推广视频，也可以投放广告，吸引宠物饲养者加入。对于商家和兽医，可以由平台联系，邀请入驻，和他们签订长期合同。最终博主、兽医以及一部分用户提供优质宠物创作和科普知识，进而吸引更多用户使用平台并付费。</p><h3 id="7-客户关系-gt-关键业务"><a href="#7-客户关系-gt-关键业务" class="headerlink" title="7.客户关系-&gt;关键业务"></a>7.客户关系-&gt;关键业务</h3><p>不仅仅要在本app中构建完善的宠物社区服务，还要发展其他平台的运营，用户可以把自己的账户绑定b站、微博、小红书、贴吧等账户，用关联账户带上#PerkyPet#词条发帖可以在app内获得虚拟货币或vip试用或代金券。<br>用户还可以分享自己宠物的动态或虚拟宠物到朋友圈、qq空间，每日首次打卡有奖励，从而刺激平台的推广。</p><h3 id="8-客户细分-gt-重要合作"><a href="#8-客户细分-gt-重要合作" class="headerlink" title="8.客户细分-&gt;重要合作"></a>8.客户细分-&gt;重要合作</h3><p>与第三方的合作要用于优化用户体验。随着用户的增加，要改用更强性能的服务器，优化app的细节，更符合人的操作习惯。平台的兽医必须保证高质量，不能出现乱治病医死宠物的情况，所以必须实名认证，上传相关资质证明。入驻平台的商家必须保证提供高质量货物，差评太多的话，经过平台客服鉴定，平台可以单方面解约，不允许商户继续入驻。</p><h3 id="9-价值主张-gt-关键业务、重要合作"><a href="#9-价值主张-gt-关键业务、重要合作" class="headerlink" title="9.价值主张-&gt;关键业务、重要合作"></a>9.价值主张-&gt;关键业务、重要合作</h3><p>价值主张决定了本平台的关键业务。我们致力于打造一个为用户解决一切与宠物相关问题的一站式服务平台，最终形成一个高度社区化、一体化的一流宠物平台，所以我们的关键业务就是提供一个宠物论坛，让用户了解、购买宠物，并且解决饲养宠物中的一系列问题，给用户提供交流的平台，从多方面增强用户的购买和饲养体验。此外，和同城线下商家、兽医的合作，使用户的问题能够更直接的得到解决。</p><h3 id="10-客户细分-gt-关键业务"><a href="#10-客户细分-gt-关键业务" class="headerlink" title="10.客户细分-&gt;关键业务"></a>10.客户细分-&gt;关键业务</h3><p>不同的客户会使用不同的业务。饲养者在社区和别的玩家交流，在商城购买宠物或宠物用品，咨询兽医相关问题，商家把货物挂在自己的主页售卖，博主要利用资源产出高质量作品，兽医可以收费咨询，为自己的诊所做宣传。</p><h2 id="五-与竞品的关联-amp-区别"><a href="#五-与竞品的关联-amp-区别" class="headerlink" title="五.与竞品的关联&amp;区别"></a>五.与竞品的关联&amp;区别</h2><h4 id="1-宠云行："><a href="#1-宠云行：" class="headerlink" title="1.宠云行："></a>1.宠云行：</h4><p>核心业务：<strong>一是宠云仓 · 智慧化仓配服务：</strong>可提供 B2B 仓配服务、B2C 产品组套和一件代发、大品牌的 CDC/RDC 总仓服务，并具备兽药仓配管理资质、大贸和跨境进出口能力、冷链运作能力，还能开展原材料仓储供应、库存监管和仓单质押、行业发展咨询等业务。<strong>二是宠云家 · 数字化营销服务：</strong>打造覆盖宠物行业零售终端的数字化云商城平台，目前正在邀请包含宠物食品、宠物用品、宠物营养保健品以及宠物服装玩具在内的国际 / 国内精品品牌入驻。<strong>三是宠云鲜 · 原材料供应服务，</strong>希望成为高品质宠物食品的原材料供应商，并与有实力的原材料企业建立战略合作。<strong>四是宠云享 · 供应链金融和数据服务，</strong>团队基于对上下游客户和资金使用场景的理解，定制开发出合适的金融贸易产品，配合有效的系统管理、操作流程和风控机制，再通过宠云仓实现库存监管，由宠云家实现劣后处置，从而形成金融风险管控闭环。 </p><p>关联:宠云行做的是宠物用品的供应链服務，且比我們更專业更完善<br>区別:他不是一个面向一般用戶的平台，且不是一個资訊、線下服務平台<br>总结:宠云行與我們並非強烈的競爭关係，相反我們可以达成合作，好好利用它的供应鏈與服務</p><h4 id="2-波奇寵物"><a href="#2-波奇寵物" class="headerlink" title="2.波奇寵物:"></a>2.波奇寵物:</h4><p>成立于2008年，经过14年的沉淀，已打破行业壁垒，以全新的养宠理念，实现涵盖生产制造、医药研发、活体繁殖、自有品牌、波奇会员、线下门店、人员培训等全产业链布局，成为国内领先的宠物综合服务平台。<br>波奇商城:为狗狗、猫猫、水族精选了上万款宠物必备用品，涵盖猫粮、狗粮、鱼虾龟粮、宠物零食玩具、宠物日用洗护、宠物保健医疗、宠物用品周边等。<br>波奇社区:1．专业问答:宠物名医在线答疑，贴心守护宠物健康;2.万人测评:品质宠粮万人试用，真实分享放心选择;3.搞笑视频:猫狗视频搞笑专区，精彩纷呈搞笑不断;4．奇趣GIF:海量猫狗GIF图片，能传能存又能斗图;5．有奖活动:精彩不停福利不断，劲爆大奖拿到手软;6．阳光公益:领养救助实时资讯，我们一起让爱回家</p><p>关联:波奇寵物同样有有趣的社区、且是全產业鏈布局的宠物綜合服務平台<br>区別:波奇寵物並無”養寵体驗”这类能幫助用戶作出養寵決定、适应養寵、手把手教學、虛擬寵物展示的工具，且並沒有與很多線下門店和医院达成合成，它的社区雖然功能完善，但並無大的特点，無法吸引人長時間活跃。<br>总结:波奇宠物是一個強力的競爭对手，它的自有品牌、生產制制、医藥研發、線下門店是很大的威脅，他的社区功能也比較完善。然而我們有的特点也是它所不具備的，因此尽量嘗試达成合作。</p>]]></content>
      
      
      <categories>
          
          <category> 煩人作業 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求與商業模式創新 </tag>
            
            <tag> PerkyPet </tag>
            
            <tag> 項目 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>庫存管理系統(ERP)-詳細設計文檔</title>
      <link href="/2022/06/28/%E5%BA%AB%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1(ERP)-%E8%A9%B3%E7%B4%B0%E8%A8%AD%E8%A8%88%E6%96%87%E6%AA%94/"/>
      <url>/2022/06/28/%E5%BA%AB%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1(ERP)-%E8%A9%B3%E7%B4%B0%E8%A8%AD%E8%A8%88%E6%96%87%E6%AA%94/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-引言"><a href="#1-引言" class="headerlink" title="1. 引言"></a>1. 引言</h3><h4 id="1-1-编制目的"><a href="#1-1-编制目的" class="headerlink" title="1.1 编制目的"></a>1.1 编制目的</h4><p>本文档在体系结构概要设计的基础上，对ERP系统进行详细设计说明，以便用户和项目开发人员了解产品的详细设计与实现，为开发人员提供开发参考书。本报告的预期读者为开发人员、总经理、项目经理、财务人员、销售人员、人力资源人员、库存管理人员等。</p><h4 id="1-2-项目背景"><a href="#1-2-项目背景" class="headerlink" title="1.2 项目背景"></a>1.2 项目背景</h4><p>（1）项目名称：ERP<br>（2）开发者：洪子贤、曾光、朱磊、孙思涵<br>（3）用户：某著名开关品牌的南京地区总代理</p><h3 id="2-总体设计"><a href="#2-总体设计" class="headerlink" title="2. 总体设计"></a>2. 总体设计</h3><h4 id="2-1-需求概述："><a href="#2-1-需求概述：" class="headerlink" title="2.1 需求概述："></a>2.1 需求概述：</h4><p>功能需求：<br>（1）账户管理：财务人员可以对客户的账户进行管理。<br>（2）制定收款、付款、工资单：财务人员可以制定收款、付款、工资单并由总经理审核。<br>（3）查看销售明细表、经营历程表、经营情况表：财务人员和总经理可以查看销售明细表、经营历程表和经营情况表。<br>（4）员工管理：人力资源人员可以对员工进行新建、查看等操作。<br>（5）员工打卡：员工可以在登录系统后进行打卡，人力资源人员可以查看打卡信息。<br>（6）薪酬规则制定：人力资源人员可以制定薪酬规则。<br>（7）促销策略制定：总经理可以制定促销策略。<br>非功能需求：<br>（1）数据需求：用户输入的信息需要及时更新到数据库并与数据库保持类型的一致<br>（2）性能需求：用户名、密码和表中数据有相应的精度要求。对于响应时间、更新处理时间和数据的转换及传送时间有相应的时间限制。<br>（3）运行需求：用户界面在用户操作后发出相应的响应。软件接口和硬件接口提供限制。</p><h4 id="2-2-软件结构："><a href="#2-2-软件结构：" class="headerlink" title="2.2 软件结构："></a>2.2 软件结构：</h4><p>ERP系统的软件结构<br><img src="https://s2.loli.net/2022/12/07/bTP9dKXRAjwWNMl.png" alt="用户界面跳转.jpg"><br>ERP系统的物理体系结构<br><img src="https://s2.loli.net/2022/12/07/RXjyFA5z9T1IDEd.png" alt="部署图.jpg"></p><h3 id="3-模块描述"><a href="#3-模块描述" class="headerlink" title="3. 模块描述"></a>3. 模块描述</h3><h4 id="3-1-模块基本信息"><a href="#3-1-模块基本信息" class="headerlink" title="3.1 模块基本信息"></a>3.1 模块基本信息</h4><div class="table-container"><table><thead><tr><th><strong>名称</strong></th><th><strong>编号</strong></th><th><strong>所在文件</strong></th><th><strong>所在包</strong></th></tr></thead><tbody><tr><td>账户管理模块</td><td>1.1</td><td>../controller/CustomerController</td><td>web.controller</td></tr><tr><td>制定收款单模块</td><td>1.2</td><td>../controller/BankController</td><td>web.controller</td></tr><tr><td>制定付款单模块</td><td>1.3</td><td>../controller/PaymentController</td><td>web.controller</td></tr><tr><td>制定工资单模块</td><td>1.4</td><td>../controller/SalaryController</td><td>web.controller</td></tr><tr><td>查看销售明细表</td><td>1.5</td><td>../controller/SearchSheetController</td><td>web.controller</td></tr><tr><td>查看经营历程表</td><td>1.6</td><td>../controller/SearchSheetController</td><td>web.controller</td></tr><tr><td>查看经营情况表</td><td>1.7</td><td>../controller/SearchSheetController</td><td>web.controller</td></tr><tr><td>员工管理</td><td>2.1</td><td>../controller/HumanresourceController</td><td>web.controller</td></tr><tr><td>员工打卡</td><td>2.2</td><td>../controller/HumanresourceController</td><td>web.controller</td></tr><tr><td>薪酬规则制定</td><td>2.3</td><td>../controller/HumanresourceController</td><td>web.controller</td></tr><tr><td>促销策略模块</td><td>3.1</td><td>../controller/HumanresourceController</td><td>web.controller</td></tr></tbody></table></div><h4 id="3-2-算法描述"><a href="#3-2-算法描述" class="headerlink" title="3.2 算法描述"></a>3.2 算法描述</h4><p>促销策略算法如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">void</span> <span class="title function_">makeDiscount</span>(<span class="params">DiscountPO discountPO</span>) &#123;</span><br><span class="line">  <span class="title class_">BigDecimal</span> discount = discountPO.<span class="title function_">getDiscount</span>();</span><br><span class="line">  <span class="title class_">BigDecimal</span> voucherAmount = discountPO.<span class="title function_">getVoucherAmount</span>();</span><br><span class="line">  <span class="title class_">Integer</span> level = discountPO.<span class="title function_">getCustomerLevel</span>();</span><br><span class="line">  <span class="title class_">List</span>&lt;<span class="title class_">DiscountPO</span>&gt; listLess = discountDao.<span class="title function_">getLessL</span>(level);</span><br><span class="line">  <span class="title class_">List</span>&lt;<span class="title class_">DiscountPO</span>&gt; listLarger = discountDao.<span class="title function_">getLargerL</span>(level);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(listLess != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="title class_">DiscountPO</span> i : listLess) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i.<span class="title function_">getDiscount</span>().<span class="title function_">compareTo</span>(discount) == -<span class="number">1</span>) &#123;</span><br><span class="line">        voucherAmount = i.<span class="title function_">getVoucherAmount</span>();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (i.<span class="title function_">getVoucherAmount</span>().<span class="title function_">compareTo</span>(voucherAmount) == <span class="number">1</span>) &#123;</span><br><span class="line">        voucherAmount = i.<span class="title function_">getVoucherAmount</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(listLarger != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="title class_">DiscountPO</span> i : listLarger) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i.<span class="title function_">getDiscount</span>().<span class="title function_">compareTo</span>(discount) == <span class="number">1</span>) &#123;</span><br><span class="line">        discount = i.<span class="title function_">getDiscount</span>();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (i.<span class="title function_">getVoucherAmount</span>().<span class="title function_">compareTo</span>(voucherAmount) == -<span class="number">1</span>) &#123;</span><br><span class="line">        voucherAmount = i.<span class="title function_">getVoucherAmount</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  discountPO.<span class="title function_">setDiscount</span>(discount);</span><br><span class="line">  discountPO.<span class="title function_">setVoucherAmount</span>(voucherAmount);</span><br><span class="line">  <span class="keyword">if</span>(discountDao.<span class="title function_">getByLevel</span>(level) != <span class="literal">null</span>) &#123;</span><br><span class="line">    discountDao.<span class="title function_">updateByLevel</span>(discountPO);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    discountDao.<span class="title function_">createDiscount</span>(discountPO);</span><br><span class="line">  &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">void</span> <span class="title function_">makeDiscount</span>(<span class="params">DiscountPO discountPO</span>) &#123;</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Integer</span>&gt; list = discountDao.<span class="title function_">getBagId</span>();</span><br><span class="line">        <span class="title class_">Integer</span> tempId = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="title class_">Integer</span> i : list) &#123;</span><br><span class="line">            <span class="title class_">List</span>&lt;<span class="title class_">String</span>&gt; list1 = discountDao.<span class="title function_">getBagInfo</span>(i);</span><br><span class="line">            <span class="keyword">if</span> (list1 != <span class="literal">null</span> &amp;&amp; bagContent != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (list1.<span class="title function_">containsAll</span>(bagContent) &amp;&amp; bagContent.<span class="title function_">containsAll</span>(list1)) &#123;</span><br><span class="line">                    tempId = i;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tempId != <span class="number">0</span>) &#123;</span><br><span class="line">            discountPO.<span class="title function_">setId</span>(tempId);</span><br><span class="line">            discountDao.<span class="title function_">updateById</span>(discountPO);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            discountDao.<span class="title function_">createDiscount</span>(discountPO);</span><br><span class="line">            <span class="title class_">Integer</span> id = discountDao.<span class="title function_">getLatest</span>();</span><br><span class="line">            <span class="keyword">for</span> (<span class="title class_">String</span> i : bagContent) &#123;</span><br><span class="line">                discountDao.<span class="title function_">addBagContent</span>(id, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">void</span> <span class="title function_">makeDiscount</span>(<span class="params">DiscountPO discountPO</span>) &#123;</span><br><span class="line">        <span class="title class_">BigDecimal</span> discount = discountPO.<span class="title function_">getDiscount</span>();</span><br><span class="line">        <span class="title class_">BigDecimal</span> voucher = discountPO.<span class="title function_">getVoucherAmount</span>();</span><br><span class="line">        <span class="title class_">BigDecimal</span> amount = discountPO.<span class="title function_">getTotalAmount</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">DiscountPO</span>&gt; listLessA = discountDao.<span class="title function_">getLessA</span>(amount);</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">DiscountPO</span>&gt; listLargerA = discountDao.<span class="title function_">getLargerA</span>(amount);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (listLessA != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="title class_">DiscountPO</span> i : listLessA) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i.<span class="title function_">getDiscount</span>().<span class="title function_">compareTo</span>(discount) == -<span class="number">1</span>) &#123;</span><br><span class="line">                    discount = i.<span class="title function_">getDiscount</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i.<span class="title function_">getVoucherAmount</span>() != <span class="literal">null</span> &amp;&amp; i.<span class="title function_">getVoucherAmount</span>().<span class="title function_">compareTo</span>(voucher) == <span class="number">1</span>) &#123;</span><br><span class="line">                    voucher = i.<span class="title function_">getVoucherAmount</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (listLargerA != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="title class_">DiscountPO</span> i : listLargerA) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i.<span class="title function_">getDiscount</span>().<span class="title function_">compareTo</span>(discount) == <span class="number">1</span>) &#123;</span><br><span class="line">                    discount = i.<span class="title function_">getDiscount</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (voucher != <span class="literal">null</span> &amp;&amp; i.<span class="title function_">getVoucherAmount</span>().<span class="title function_">compareTo</span>(voucher) == -<span class="number">1</span>) &#123;</span><br><span class="line">                    voucher = i.<span class="title function_">getVoucherAmount</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        discountPO.<span class="title function_">setDiscount</span>(discount);</span><br><span class="line">        discountPO.<span class="title function_">setVoucherAmount</span>(voucher);</span><br><span class="line">        <span class="keyword">if</span> (discountDao.<span class="title function_">getByAmount</span>(amount) != <span class="literal">null</span>) &#123;</span><br><span class="line">            discountDao.<span class="title function_">updateByAmount</span>(discountPO);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            discountDao.<span class="title function_">createDiscount</span>(discountPO);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><h4 id="3-3-接口"><a href="#3-3-接口" class="headerlink" title="3.3 接口"></a>3.3 接口</h4><div class="table-container"><table><thead><tr><th>接口</th><th>服务调用方</th><th>服务提供方</th></tr></thead><tbody><tr><td>network.commodity，network.auth,</td></tr></tbody></table></div><p>network.product,<br>network.purchase,<br>network.sale,<br>network.warehouse | 前端views | 后端Controller |<br>| service.CatogoryService<br>service.CustomerService<br>service.ProductService<br>service.PurchaseyService<br>service.SaleService<br>service.SaleReturnService<br>service.UserService<br>service.WarehouseService | 后端controller | 后端serviceImpl |<br>| dao.CategoryDao<br>dao.CustomerDao<br>dao.DiscountDao<br>dao.HumanResourceDao<br>dao.ProductDao<br>dao.PurchaseSheetDao<br>dao.PurchaseReturnsSheetDao<br>dao.SaleSheetDao<br>dao.SaleReturnsSheetDao<br>dao.UserDao<br>dao.WarehouseDao<br>dao.WarehouseInputSheetDao<br>dao.WarehouseOutputSheetDao | 后端serviceImpl | mybatis |</p><h4 id="3-4-性能"><a href="#3-4-性能" class="headerlink" title="3.4 性能"></a>3.4 性能</h4><p>时间特性：<br>（1）响应时间：用户任意操作后5秒内系统给予反馈信息。<br>（2）更新处理时间：由系统运行状态来决定。<br>（3）数据的转换和传送时间：能够在20秒内完成。<br>灵活性：<br>  当需求发生某些变化时，该软件的基本操作、数据结构、运行环境等等基本不会发生变化，只是对系统的数据库的文件和记录进行处理，就可以满足需求。<br><a href="https://blog.csdn.net/qq_44528283/article/details/115638811"></a></p>]]></content>
      
      
      <categories>
          
          <category> 煩人作業 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 項目 </tag>
            
            <tag> 文檔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>庫存管理系統(ERP)-體系结構文檔</title>
      <link href="/2022/05/03/%E5%BA%AB%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1(ERP)-%E9%AB%94%E7%B3%BB%E7%BB%93%E6%A7%8B%E6%96%87%E6%AA%94/"/>
      <url>/2022/05/03/%E5%BA%AB%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1(ERP)-%E9%AB%94%E7%B3%BB%E7%BB%93%E6%A7%8B%E6%96%87%E6%AA%94/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="1-引言"><a href="#1-引言" class="headerlink" title="1. 引言"></a>1. 引言</h3><h4 id="1-1-编制目的"><a href="#1-1-编制目的" class="headerlink" title="1.1 编制目的"></a>1.1 编制目的</h4><pre><code>    本报告详细完成对企业资源计划系统的概要设计，达到指导详细设计和开发的目的，同时实现和测试人员及用户的沟通。本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。</code></pre><h4 id="1-2-词汇表"><a href="#1-2-词汇表" class="headerlink" title="1.2 词汇表"></a>1.2 词汇表</h4><p>表1 词汇表</p><div class="table-container"><table><thead><tr><th><strong>词汇名称</strong></th><th><strong>词汇含义</strong></th><th><strong>备注</strong></th></tr></thead><tbody><tr><td>ERP</td><td>企业资源计划系统</td><td>无</td></tr></tbody></table></div><h4 id="1-3-参考资料"><a href="#1-3-参考资料" class="headerlink" title="1.3 参考资料"></a>1.3 参考资料</h4><p>用例文档<br>需求规格说明</p><h3 id="2-产品概述"><a href="#2-产品概述" class="headerlink" title="2. 产品概述"></a>2. 产品概述</h3><pre><code>    一民营企业专业从事灯具开关行业，随着公司规模扩大，企业业务量、办公场所、员工数都发生增长，为适应新的环境，提高工作效率和用户满意度， 该公司需要该ERP系统辅助公司管理。该系统主要包括库存管理、销售管理、财务管理、人事管理和企业经营管理。 </code></pre><h3 id="3-逻辑视角"><a href="#3-逻辑视角" class="headerlink" title="3. 逻辑视角"></a>3. 逻辑视角</h3><pre><code>    企业资源计划系统中，选择了分层体系结构风格，将系统分为3层（展示层、业务逻辑层、数据层）能够很好地示意整个高层抽象。展示层包含GUI页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的逻辑视角和逻辑设计方案如图1和图2所示。</code></pre><p>图1 分层体系结构的逻辑视角<br><img src="https://s2.loli.net/2022/12/07/pLRcykCYXuV9dna.png" alt="逻辑视角.png"><br>图2 分层体系结构的逻辑设计方案<br><img src="https://s2.loli.net/2022/12/07/ls9AdSYGZ7CanMx.png" alt="分层体系结构逻辑设计方案.jpg"></p><h3 id="4-组合视角"><a href="#4-组合视角" class="headerlink" title="4. 组合视角"></a>4. 组合视角</h3><h4 id="4-1-开发包图"><a href="#4-1-开发包图" class="headerlink" title="4.1 开发包图"></a>4.1 开发包图</h4><pre><code>    企业资源计划系统客户端开发包图如图3所示，服务器端开发包图如图4所示。</code></pre><p>图3 企业资源计划系统客户端开发包图<br><img src="https://s2.loli.net/2022/12/07/cPF1seQgbztHD6L.png" alt="客户端开发包图.jpg"><br>图4 企业资源计划系统服务器端开发包图<br><img src="https://s2.loli.net/2022/12/07/ZGginEIzLCmVr5O.png" alt="服务端开发包图.jpg"></p><h4 id="4-2-运行时进程"><a href="#4-2-运行时进程" class="headerlink" title="4.2 运行时进程"></a>4.2 运行时进程</h4><pre><code>    在企业资源计划系统中，会有多个客户端进程和一个服务器进程，其进程图如图5所示。结合部署图，客户端进程是在客户端机器上运行，服务器端进程在服务器端机器上运行。</code></pre><p><img src="https://s2.loli.net/2022/12/07/cJ1zNbPlkyutDHi.png" alt="进程图.jpg"></p><h4 id="4-3-物理部署"><a href="#4-3-物理部署" class="headerlink" title="4.3 物理部署"></a>4.3 物理部署</h4><pre><code>    企业资源计划系统中客户端构件是放在客户端机器上，服务器端构件是放在服务器端机器上,</code></pre><p>图5 部署图<br><img src="https://s2.loli.net/2022/12/07/5b6ZSxYXRVfF3Wc.png" alt="部署图.jpg"></p><h3 id="5-接口视角"><a href="#5-接口视角" class="headerlink" title="5. 接口视角"></a>5. 接口视角</h3><h4 id="5-1-模块的职责"><a href="#5-1-模块的职责" class="headerlink" title="5.1 模块的职责"></a>5.1 模块的职责</h4><pre><code>    客户端模块和服务器端模块视图分别如图6和图7所示。客户端各层和服务器端各层的职责分别如表4和表5所示。</code></pre><p>图6 客户端模块视图<br><img src="https://s2.loli.net/2022/12/07/IFec8HW3KYCO9Ut.png" alt="客户端模块.png"><br>图7 服务端模块视图<br><img src="https://s2.loli.net/2022/12/07/KskVcmyg67NjI4r.png" alt="服务器端模块视图.jpg"><br>表4 客户端各层的职责</p><div class="table-container"><table><thead><tr><th><strong>层</strong></th><th><strong>职责</strong></th></tr></thead><tbody><tr><td>启动模块</td><td>负责初始化网络通信机制，启动用户界面</td></tr><tr><td>用户界面层</td><td>基于窗口的连锁商店客户端用户界面</td></tr><tr><td>客户端网络模块</td><td>通过HTTP连接后端服务</td></tr></tbody></table></div><p>表5 服务器端各层的职责</p><div class="table-container"><table><thead><tr><th><strong>层</strong></th><th><strong>职责</strong></th></tr></thead><tbody><tr><td>启动模块</td><td>负责初始化网络通信机制，启动用户界面</td></tr><tr><td>业务逻辑层</td><td>对于用户界面的输入进行响应并进行业务处理逻辑</td></tr><tr><td>数据层</td><td>负责数据的持久化及数据访问接口</td></tr><tr><td>服务器端网络模块</td><td>通过HTTP连接前端页面</td></tr></tbody></table></div><pre><code>    每一层只是使用下方直接接触的层。层与层之间仅仅是通过接口的调用来完成的。层之间调用的接口如表6所示。</code></pre><p>表6 层之间调用的接口</p><div class="table-container"><table><thead><tr><th>接口</th><th>服务调用方</th><th>服务提供方</th></tr></thead><tbody><tr><td>network.commodity，network.auth,</td></tr></tbody></table></div><p>network.product,<br>network.purchase,<br>network.sale,<br>network.warehouse | 前端views | 后端Controller |<br>| service.CatogoryService<br>service.CustomerService<br>service.ProductService<br>service.PurchaseyService<br>service.SaleService<br>service.SaleReturnService<br>service.UserService<br>service.WarehouseService | 后端controller | 后端serviceImpl |<br>| dao.CategoryDao<br>dao.CustomerDao<br>dao.DiscountDao<br>dao.HumanResourceDao<br>dao.ProductDao<br>dao.PurchaseSheetDao<br>dao.PurchaseReturnsSheetDao<br>dao.SaleSheetDao<br>dao.SaleReturnsSheetDao<br>dao.UserDao<br>dao.WarehouseDao<br>dao.WarehouseInputSheetDao<br>dao.WarehouseOutputSheetDao | 后端serviceImpl | mybatis |</p><h3 id="5-2各层面的分解"><a href="#5-2各层面的分解" class="headerlink" title="5.2各层面的分解"></a>5.2各层面的分解</h3><h4 id="5-2-用户界面层的分解"><a href="#5-2-用户界面层的分解" class="headerlink" title="5.2 用户界面层的分解"></a>5.2 用户界面层的分解</h4><pre><code>    根据要求，系统存在18个用户界面：登录界面、总经理主界面、库存管理员主界面、入库界面、出库界面、库存分析界面、销售员主界面、进货界面、销售界面、退货界面、财务人员主界面、单据管理界面、销售明细界面、人力资源界面、赠品管理界面、数据同步界面、调整产品界面、调整用户界面。界面跳转如图8所示。</code></pre><p>图8 用户界面跳转<br><img src="https://s2.loli.net/2022/12/07/HqY9AeyOV6oPuxn.png" alt="用户界面跳转.jpg"><br>    服务器端和客户端的用户界面设计接口是一致的，只是具体的页面不一样。用户界面类如表7所示。</p><h5 id="5-2-1界面模块职责与需接口"><a href="#5-2-1界面模块职责与需接口" class="headerlink" title="5.2.1界面模块职责与需接口"></a>5.2.1界面模块职责与需接口</h5><p>表7 用户界面类</p><div class="table-container"><table><thead><tr><th><strong>类名</strong></th><th><strong>职责</strong></th><th><strong>需接口</strong></th></tr></thead><tbody><tr><td>auth.login</td><td>用于获取用户的賬号、密碼、登录状态和对应角色</td><td>network.auth</td></tr><tr><td>auth.register</td><td>用于注册新的用户</td><td>network.auth</td></tr><tr><td>humanResource.staffManagement</td><td>用于总经理和人力资源管理帳号在調整用戶界面时向数据庫插入新创建的用戶的接口</td><td>network.humanResource</td></tr><tr><td>humanResource.checkIn</td><td>用于员工的打卡</td><td>network.humanResource</td></tr><tr><td>humanResource.staffCheck</td><td>用于人力资源人员查询所有员工的打卡情况</td><td>network.humanResource</td></tr><tr><td>humanResource.SalaryStrategy</td><td>用于人力资源人员制定并获取工资单</td><td>network.humanResource</td></tr><tr><td>commodity.CommodityClassification</td><td>用于实现商品分类管理</td><td>network.commodity</td></tr><tr><td>commodity.CommodityManagement</td><td>用于管理商品并获取、控制数据库中的商品信息</td><td>network.commodity</td></tr><tr><td>discount.MakeDiscount</td><td>用于总经理制定销售策略</td><td>network.discount</td></tr><tr><td>approval.Approval</td><td>用于总经理审批单据</td><td>network.approval</td></tr></tbody></table></div><h5 id="5-2-2-用户界面模块设计原理"><a href="#5-2-2-用户界面模块设计原理" class="headerlink" title="5.2.2 用户界面模块设计原理"></a>5.2.2 用户界面模块设计原理</h5><pre><code>使用vue框架实现</code></pre><h4 id="5-3-业务逻辑层的分解"><a href="#5-3-业务逻辑层的分解" class="headerlink" title="5.3 业务逻辑层的分解"></a>5.3 业务逻辑层的分解</h4><pre><code>    业务逻辑层包括多个针对界面的业务逻辑处理对象。例如，User对象负责处理登录界面的业务逻辑；Sales对象负责处理销售界面的业务逻辑。</code></pre><h5 id="5-3-1业务层模块的职责"><a href="#5-3-1业务层模块的职责" class="headerlink" title="5.3.1业务层模块的职责"></a>5.3.1业务层模块的职责</h5><pre><code>    业务逻辑层模块的职责如表11所示。</code></pre><p>表11 业务逻辑层模块的职责</p><div class="table-container"><table><thead><tr><th><strong>模块</strong></th><th><strong>职责</strong></th></tr></thead><tbody><tr><td>BankServiceImpl</td><td>负责银行账户相关服务</td></tr><tr><td>CategoryServiceImpl</td><td>负责商品分类</td></tr><tr><td>CustomerServiceImpl</td><td>负责客户服务</td></tr><tr><td>DiscountServiceImpl</td><td>负责折扣策略相关服务</td></tr><tr><td>HumanresourceServiceImpl</td><td>负责人力资源相关服务</td></tr><tr><td>PaymentServiceImpl</td><td>负责付款服务</td></tr><tr><td>ProductServiceImpl</td><td>负责商品管理服务</td></tr><tr><td>PurchaseReturnsServiceImpl</td><td>负责进货退货服务</td></tr><tr><td>PurchaseServiceImpl</td><td>负责进货服务</td></tr><tr><td>SalaryServiceImpl</td><td>负责工资管理相关服务</td></tr><tr><td>SaleReturnsServiceImpl</td><td>负责销售退货服务</td></tr><tr><td>SaleServiceImpl</td><td>负责销售服务</td></tr><tr><td>SearchSheetServiceImpl</td><td>负责查看表单服务</td></tr><tr><td>UserServiceImpl</td><td>用户管理服务</td></tr><tr><td>WarehouseServiceImpl</td><td>库存管理服务</td></tr></tbody></table></div><h5 id="5-3-2-业务逻辑层模块的接口规范与需接口"><a href="#5-3-2-业务逻辑层模块的接口规范与需接口" class="headerlink" title="5.3.2 业务逻辑层模块的接口规范与需接口"></a>5.3.2 业务逻辑层模块的接口规范与需接口</h5><pre><code>    DiscountImpl、HumanresourceImpl和SearchSheetImpl模块的接口规范分别如下表所示。</code></pre><p>表12 DiscountImpl模块的接口规范<br>提供的服务（供接口）</p><div class="table-container"><table><thead><tr><th>DiscountServiceImpl.setDiscount</th><th>语法</th><th>public void setDiscount(DiscountVO discountVO)</th></tr></thead><tbody><tr><td></td><td>前置条件</td><td></td></tr><tr><td></td><td>后置条件</td><td>存储销售策略并能够在销售时使用</td></tr><tr><td>DiscountServiceImpl.deleteDiscount</td><td>语法</td><td>public void deleteDiscount(Integer id)</td></tr><tr><td></td><td>前置条件</td><td></td></tr><tr><td></td><td>后置条件</td><td>删除促销策略</td></tr><tr><td>DiscountServiceImpl.findAll</td><td>语法</td><td>public List<DiscountVO> findAll()</td></tr><tr><td></td><td>前置条件</td><td></td></tr><tr><td></td><td>后置条件</td><td>查找并显示所有促销策略</td></tr><tr><td>DiscountServiceImpl.chooseDiscount</td><td>语法</td><td>public List<BigDecimal> chooseDiscount(Integer level, List<SaleSheetContentPO> saleContent, BigDecimal totalAmount)</td></tr><tr><td></td><td>前置条件</td><td>已经创建一个销售单</td></tr><tr><td></td><td>后置条件</td><td>给出已有促销策略中折扣最大的促销策略</td></tr><tr><td>DiscountStrategy1.makeDiscount</td><td>语法</td><td>public void makeDiscount(DiscountPO discountPO)</td></tr><tr><td></td><td>前置条件</td><td></td></tr><tr><td></td><td>后置条件</td><td>能够在存储中获取以级别划分的促销策略</td></tr><tr><td>DiscountStrategy2.makeDiscount</td><td>语法</td><td>public void makeDiscount(DiscountPO discountPO)</td></tr><tr><td></td><td>前置条件</td><td>创建过组合包</td></tr><tr><td></td><td>后置条件</td><td>能够在存储中获取以组合包划分的促销策略</td></tr><tr><td>DiscountStrategy2.setBagContent</td><td>语法</td><td>void setBagContent(List<BagVO> list)</td></tr><tr><td></td><td>前置条件</td><td></td></tr><tr><td></td><td>后置条件</td><td>能够在指定促销策略时获取组合包</td></tr></tbody></table></div><p>需要的服务（需接口）</p><div class="table-container"><table><thead><tr><th><strong>服务名</strong></th><th><strong>服务</strong></th></tr></thead><tbody><tr><td>DiscountDao.getLatest()</td><td>获取最近的促销策略</td></tr><tr><td>DiscountDao.createDiscount(DiscountPO discountPO)</td><td>创建促销策略</td></tr><tr><td>DiscountDao.deleteDiscount(Integer id)</td><td>删除指定促销策略</td></tr><tr><td>DiscountDao.getAll()</td><td>获取所有促销策略信息</td></tr><tr><td>DiscountDao.getByLevel(Integer level)</td><td>获取指定等级的折扣情况</td></tr><tr><td>DiscountDao.getLessL(Integer level)</td><td>获取低于指定级别的折扣情况</td></tr><tr><td>DiscountDao.getLargerL(Integer level)</td><td>获取高于指定级别的折扣情况</td></tr><tr><td>DiscountDao.updateByLevel(DiscountPO discountPO)</td><td>按级别更新</td></tr><tr><td>DiscountDao.getBagId()</td><td>获取所有组合包id</td></tr><tr><td>DiscountDao.getBagInfo(Integer id)</td><td>获取指定id下的组合包信息</td></tr><tr><td>DiscountDao.updateById(DiscountPO discountPO)</td><td>按id更新</td></tr><tr><td>DiscountDao.addBagContent(Integer id, String pid)</td><td>添加组合包内容</td></tr><tr><td>DiscountDao.getById(Integer id)</td><td>获取指定id的促销策略情况</td></tr><tr><td>DiscountDao.getByAmount(BigDemical amount)</td><td>获取某一价位的折扣情况</td></tr><tr><td>DiscountDao.getLessA(BigDemical amount)</td><td>获取低于指定价位的折扣情况</td></tr><tr><td>DiscountDao.getLargerA(BigDemical amount)</td><td>获取高于指定价位的折扣情况</td></tr><tr><td>DiscountDao.getMax(BigDemical amount)</td><td>获取最大折扣</td></tr><tr><td>DiscountDao.updateByAmount(DiscountPO discountPO)</td><td>按价位更新</td></tr></tbody></table></div><p>表13 HumanresourceImpl模块的接口规范</p><div class="table-container"><table><thead><tr><th>提供的服务（供接口）</th><th></th><th></th></tr></thead><tbody><tr><td>HumanresourceServiceImpl.createCheck</td><td>语法</td><td>public void createCheck(CheckVO checkVO)</td></tr><tr><td></td><td>前置条件</td><td>员工进入系统</td></tr><tr><td></td><td>后置条件</td><td>人力资源人员可以查看打卡信息</td></tr><tr><td>HumanresourceServiceImpl.showDateChecks</td><td>语法</td><td>public List<CheckPO> showDateChecks(String checktime)</td></tr><tr><td></td><td>前置条件</td><td>存在员工</td></tr><tr><td></td><td>后置条件</td><td>人力资源人员可以查看打卡天数</td></tr><tr><td>HumanresourceServiceImpl.showDateUncheck</td><td>语法</td><td>public List<UncheckPO> showDateUncheck(String checktime)</td></tr><tr><td></td><td>前置条件</td><td>存在员工</td></tr><tr><td></td><td>后置条件</td><td>人力资源人员可以查看未打卡天数</td></tr><tr><td>HumanresourceServiceImpl.showDateRangeCheck</td><td>语法</td><td>public List<DateRangeCheckPO> showDateRangeCheck(String beginDate,String endDate)</td></tr><tr><td></td><td>前置条件</td><td>存在员工</td></tr><tr><td></td><td>后置条件</td><td>人力资源人员可以查看指定时间段内的打卡情况</td></tr><tr><td>HumanresourceServiceImpl.createWorker</td><td>语法</td><td>public void createWorker(WorkerVO workerVO)</td></tr><tr><td></td><td>前置条件</td><td></td></tr><tr><td></td><td>后置条件</td><td>数据库中需要存储有新的员工信息</td></tr><tr><td>HumanresourceServiceImpl.getAllWorkers</td><td>语法</td><td>public List<WorkerPO> getAllWorkers()</td></tr><tr><td></td><td>前置条件</td><td>存在员工</td></tr><tr><td></td><td>后置条件</td><td>人力资源人员可以查看所有员工信息</td></tr><tr><td>HumanresourceServiceImpl.createPostInformance</td><td>语法</td><td>public void createPostInformance(PostInformanceVO postInformanceVO)</td></tr><tr><td></td><td>前置条件</td><td>存在员工</td></tr><tr><td></td><td>后置条件</td><td>创建后可以被查看到岗位信息</td></tr><tr><td>HumanresourceServiceImpl.getAllPosts</td><td>语法</td><td>public List<PostInformancePO> getAllPosts()</td></tr><tr><td></td><td>前置条件</td><td>已经创建过岗位信息</td></tr><tr><td></td><td>后置条件</td><td>人力资源人员可以查看所有岗位信息</td></tr><tr><td>HumanresourceServiceImpl.createSalaryList</td><td>语法</td><td>public void createSalaryList(SalaryListVO salaryListVO)</td></tr><tr><td></td><td>前置条件</td><td>存在员工</td></tr><tr><td></td><td>后置条件</td><td>创建后可以被查看到工资表</td></tr><tr><td>HumanresourceServiceImpl.getSalaryList</td><td>语法</td><td>public SalaryListVO getSalaryList(String name,String role)</td></tr><tr><td></td><td>前置条件</td><td>已经创建过工资表</td></tr><tr><td></td><td>后置条件</td><td>人力资源人员可以查看工资表信息</td></tr><tr><td>HumanresourceServiceImpl.getSalaryStrategy</td><td>语法</td><td>public List<SalaryStrategyVO> getSalaryStrategy(String role)</td></tr><tr><td></td><td>前置条件</td><td></td></tr><tr><td></td><td>后置条件</td><td>人力资源人员可以查看到薪资策略</td></tr><tr><td>需要的服务（需接口）</td><td></td><td></td></tr><tr><td>服务名</td><td>服务</td><td></td></tr><tr><td>HumanresourceDao.createCheck(CheckVO checkVO)</td><td>创建新的打卡</td><td></td></tr><tr><td>HumanresourceDao.showDateChecks(String checktime)</td><td>显示某一天的打卡信息</td><td></td></tr><tr><td>HumanresourceDao.showDateUncheck(String checktime)</td><td>显示某一天的未打卡信息</td><td></td></tr><tr><td>HumanresourceDao.showDateRangeCheck(String beginDate, String endDate)</td><td>显示某个时间段内的打卡信息</td><td></td></tr><tr><td>HumanresourceDao.createWorker(WorkerVO workerVO)</td><td>创建员工</td><td></td></tr><tr><td>HumanresourceDao.getAllWorkers()</td><td>获取所有员工信息</td><td></td></tr><tr><td>HumanresourceDao.createPostInformance(PostInformanceVO postInformanceVO)</td><td>创建岗位信息</td><td></td></tr><tr><td>HumanresourceDao.getAllPosts()</td><td>获取所有岗位信息</td><td></td></tr><tr><td>HumanresourceDao.createSalaryList(SalaryListVO salaryListVO)</td><td>创建薪资表</td><td></td></tr><tr><td>HumanresourceDao.getSalaryList(String name, String role)</td><td>获取薪资表</td><td></td></tr><tr><td>HumanresourceDao.createSalaryStrategy(SalaryStrategyVO salaryStrategyVO)</td><td>创建薪资计算方式</td><td></td></tr><tr><td>HumanresourceDao.getSalaryStrategy(String role)</td><td>获取某一职位的薪资计算方式</td></tr></tbody></table></div><p>表14 SearchSheetImpl模块的接口规范</p><div class="table-container"><table><thead><tr><th>提供的服务（供接口）</th><th></th><th></th></tr></thead><tbody><tr><td>SearchSheetServiceImpl.getAllSalesmen</td><td>语法</td><td>public List<UserVO> getAllSalesmen()</td></tr><tr><td></td><td>前置条件</td><td>存在销售员</td></tr><tr><td></td><td>后置条件</td><td>可以查看所有销售员信息</td></tr><tr><td>SearchSheetServiceImpl.getSalesDetails</td><td>语法</td><td>public List<SalesDetailVO> getSalesDetails(SalesSearchVO salesSearchVO)</td></tr><tr><td></td><td>前置条件</td><td>存在销售单</td></tr><tr><td></td><td>后置条件</td><td>可以查看销售单的详细信息</td></tr><tr><td>SearchSheetServiceImpl.getSalesSheetReturn</td><td>语法</td><td>public List<SaleReturnsSheetVO> getSalesSheetReturn(SalesSearchVO salesSearchVO)</td></tr><tr><td></td><td>前置条件</td><td>存在销售退货单</td></tr><tr><td></td><td>后置条件</td><td>可以查看销售退货单的详细信息</td></tr><tr><td>SearchSheetServiceImpl.getPurchaseSheet</td><td>语法</td><td>public List<PurchaseSheetVO> getPurchaseSheet(SearchSheetVO searchSheetVO)</td></tr><tr><td></td><td>前置条件</td><td>存在进货单</td></tr><tr><td></td><td>后置条件</td><td>可以查看进货单的详细信息</td></tr><tr><td>SearchSheetServiceImpl.getPurchaseSheetReturn</td><td>语法</td><td>public List<PurchaseReturnsSheetVO> getPurchaseSheetReturn(SearchSheetVO searchSheetVO)</td></tr><tr><td></td><td>前置条件</td><td>存在进货退货单</td></tr><tr><td></td><td>后置条件</td><td>可以查看进货退货单的详细信息</td></tr><tr><td>需要的服务（需接口）</td><td>服务</td><td></td></tr><tr><td>CollectionSheetDao.getLatest()</td><td>获取最新表</td><td></td></tr><tr><td>CollectionSheetDao.save(CollectionSheetPO tosave)</td><td>保存表</td><td></td></tr><tr><td>CollectionSheetDao.saveBatch(List<CollectionSheetContentPO> collectionSheetContent)</td><td>保存一个批次的表</td><td></td></tr><tr><td>CollectionSheetDao.findAll()</td><td>查找所有表</td><td></td></tr><tr><td>CollectionSheetDao.findAllByState(PaymentSheetState state)</td><td>根据状态查找表</td><td></td></tr><tr><td>CollectionSheetDao.findContentByCollectionSheetId(String collectionSheetId)</td><td>根据id查找表的内容</td><td></td></tr><tr><td>CollectionSheetDao.findOneById(String collectionSheetId)</td><td>根据id查找到对应的表</td><td></td></tr><tr><td>CollectionSheetDao.updateState(String collectionSheetId, PaymentSheetState state)</td><td>更新表的状态</td><td></td></tr><tr><td>SearchSheetDao.getAllSalesmen()</td><td>获取所有销售员信息</td><td></td></tr><tr><td>SearchSheetDao.getSalesDetails(Date beginTime, Date endTime, @Param(“productName”)List<String> productName, @Param(“customer”) List<String> customer, @Param(“salesman”)List<String> salesmen)</td><td>获取销售的详细信息</td><td></td></tr><tr><td>SearchSheetDao.getPurchaseSheet(Date beginTime, Date endTime, @Param(“customer”) List<String> customer)</td><td>获取进货表</td><td></td></tr><tr><td>SearchSheetDao.getPurchaseSheetReturn(Date beginTime, Date endTime)</td><td>获取进货退货表</td></tr></tbody></table></div><h4 id="5-4-数据层的分解"><a href="#5-4-数据层的分解" class="headerlink" title="5.4 数据层的分解"></a>5.4 数据层的分解</h4><pre><code>    数据层主要给业务逻辑层提供数据访问服务，包括对于持久化数据的增、删、改、查。Sales业务逻辑需要的服务由SalesDataService接口提供。持久化数据的保存可能存在多种形式：Txt文件、序列化文件、数据库等</code></pre><h5 id="5-4-1-数据层模块的职责"><a href="#5-4-1-数据层模块的职责" class="headerlink" title="5.4.1 数据层模块的职责"></a>5.4.1 数据层模块的职责</h5><pre><code>    数据层模块的职责如表15所示。</code></pre><p>表15 销售模块数据层模块的职责</p><div class="table-container"><table><thead><tr><th><strong>模块</strong></th><th><strong>职责</strong></th></tr></thead><tbody><tr><td>BankDao</td><td>管理账户数据</td></tr><tr><td>CategoryDao</td><td>管理商品分类</td></tr><tr><td>CollectionSheetDao</td><td>管理整体表单类数据</td></tr><tr><td>CustomerDao</td><td>管理客户数据</td></tr><tr><td>DiscountDao</td><td>管理折扣数据</td></tr><tr><td>HumanresourceDao</td><td>管理人力资源数据</td></tr><tr><td>PaymentSheetDao</td><td>管理付款单数据</td></tr><tr><td>ProductDao</td><td>管理商品数据</td></tr><tr><td>PurchaseReturnsSheetDao</td><td>管理进货退货数据</td></tr><tr><td>PurchaseSheetDao</td><td>管理进货数据</td></tr><tr><td>SalarySheetDao</td><td>管理工资单数据</td></tr><tr><td>SaleReturnsSheetDao</td><td>管理销售退货数据</td></tr><tr><td>SaleSheetDao</td><td>管理销售数据</td></tr><tr><td>UserDao</td><td>管理用户数据</td></tr><tr><td>WarehouseDao</td><td>管理库存数据</td></tr><tr><td>WarehouseInputSheetDao</td><td>管理入库数据</td></tr><tr><td>WarehouseOutputSheetDao</td><td>管理出库数据</td></tr></tbody></table></div><h5 id="5-4-2-数据层模块的接口规范"><a href="#5-4-2-数据层模块的接口规范" class="headerlink" title="5.4.2 数据层模块的接口规范"></a>5.4.2 数据层模块的接口规范</h5><pre><code>    数据层模块的接口的增删查改职责较为类似，以销售单接口规范为例如表16所示。</code></pre><p>表16 销售模块数据层模块的接口规范 </p><div class="table-container"><table><thead><tr><th>提供的服务（供接口）</th><th></th><th></th></tr></thead><tbody><tr><td>SaleSheetDao.getLatestSheet</td><td>语法</td><td>SaleSheetPO getLatestSheet()</td></tr><tr><td></td><td>前置条件</td><td>无</td></tr><tr><td></td><td>后置条件</td><td><em>获取最近一条销售单</em></td></tr><tr><td>SaleSheetDao.saveSheet</td><td>语法</td><td>int saveSheet(SaleSheetPO toSave)</td></tr><tr><td></td><td>前置条件</td><td>同样ID的po在Mapper中不存在</td></tr><tr><td></td><td>后置条件</td><td><em>存入一条销售单记录</em></td></tr><tr><td>SaleSheetDao.saveBatchSheetContent</td><td>语法</td><td>int saveBatchSheetContent(List<SaleSheetContentPO> saleSheetContent);</td></tr><tr><td></td><td>前置条件</td><td>在数据库中不存在同样ID</td></tr><tr><td></td><td>后置条件</td><td><em>把销售单上的具体内容存入数据库</em></td></tr><tr><td>SSaleSheetDao.findAllSheet</td><td>语法</td><td>List<SaleSheetPO> findAllSheet()</td></tr><tr><td></td><td>前置条件</td><td></td></tr><tr><td></td><td>后置条件</td><td><em>查找所有销售单</em></td></tr><tr><td>SaleSheetDao.findAllByState</td><td>语法</td><td>List<SaleSheetPO> findAllByState(SaleSheetState state);</td></tr><tr><td></td><td>前置条件</td><td>无</td></tr><tr><td></td><td>后置条件</td><td><em>根据狀態找銷售货單</em></td></tr><tr><td>SaleSheetDao.findSheetById</td><td>语法</td><td>SaleSheetPO findSheetById(String id);</td></tr><tr><td></td><td>前置条件</td><td>无</td></tr><tr><td></td><td>后置条件</td><td><em>查找指定id的销售单</em></td></tr><tr><td>SaleSheetDao.findContentBySheetId</td><td>语法</td><td>List<SaleSheetContentPO> findContentBySheetId(String sheetId);</td></tr><tr><td></td><td>前置条件</td><td>无</td></tr><tr><td></td><td>后置条件</td><td><em>查找指定销售单下具体的商品内容</em></td></tr><tr><td>SaleSheetDao.updateSheetState</td><td>语法</td><td>int updateSheetState(String sheetId, SaleSheetState state);</td></tr><tr><td></td><td>前置条件</td><td>无</td></tr><tr><td></td><td>后置条件</td><td><em>更新指定销售单的状态</em></td></tr><tr><td>SaleSheetDao.updateSheetStateOnPrev</td><td>语法</td><td>int updateSheetStateOnPrev(String sheetId, SaleSheetState prev, SaleSheetState state);</td></tr><tr><td></td><td>前置条件</td><td>无</td></tr><tr><td></td><td>后置条件</td><td><em>根据当前状态更新销售单状态</em></td></tr><tr><td>SaleSheetDao.getMaxAmountCustomerOfSalesmanByTime</td><td>语法</td><td>CustomerPurchaseAmountPO getMaxAmountCustomerOfSalesmanByTime(String salesman, Date beginTime,Date endTime);</td></tr><tr><td></td><td>前置条件</td><td>无</td></tr><tr><td></td><td>后置条件</td><td><em>获取某个销售人员某段时间内消费总金额最大的客户(不考虑退货情况,销售单不需要审批通过,如果这样的客户有多个，仅保留一个</em></td></tr></tbody></table></div><p>表17 库存模块数据层模块的接口规范</p><h3 id="6-信息视角"><a href="#6-信息视角" class="headerlink" title="6. 信息视角"></a>6. 信息视角</h3><h4 id="6-1-数据持久化对象"><a href="#6-1-数据持久化对象" class="headerlink" title="6.1 数据持久化对象"></a>6.1 数据持久化对象</h4><p>BankPO:包含账户的编号、名称、账户号、金额<br>CategoryPO：包含商品分类的编号，分类名，父分类ID，是否为叶节点，商品数量，下一商品index<br>CheckPO:包含打卡信息，有员工姓名，员工职位，签到时间，<br>CollectionSheetContentPO：包含收款表的自增ID、收款单ID、银行账户、金额、备注<br>CollectionSheetPO：包含进货单单据编号，供应商ID，操作员，备注，总额合计、单据状态、创建时间<br>CustomerPO：包含客户编号、级别、分类、姓名、号码、地址、邮编、邮箱、应收应付、默认业务员<br>CustomerPurchaseAmountPO：包含客户付款数据的客户、总金额<br>DateRangeCheckPO：签到数据，包含员工姓名、员工职位、签到次数<br>DiscountPO：折扣数据，包含编号、策略类型、客户级别、总价、折扣、代金券总额、创建时间<br>PaymentSheetContentPO：付款单内容，包含自增ID，id，银行账户，金额，备注<br>PaymentSheetPO：付款单，单据编号、供应商id，操作员，备注，总额，单据状态，创建时间<br>PostInformancePO：工资信息，包含姓名、基本工资、岗位工资、职位、薪资计算方法、薪资发放方式、税收<br>ProductPO：商品数据，包含商品id，商品名，分类ID，商品型号，商品数量，进价，零售价，最近进价，最近零售价<br>PurchaseReturnsSheetContentPO：进货退货内容，包含自增id，单据id，商品id，数量，单价，总金额，备注<br>PurchaseReturnsSheetPO：进货退货单据，包含单据号，关联进货单、操作员、备注、总额、状态、创建时间<br>PurchaseSheetContentPO：进货单内容，包含包含自增id，单据id，商品id，数量，单价，总金额，备注<br>PurchaseSheetPO：进货单据，包含单据号、操作员、备注、总额、状态、创建时间<br>SalaryListPO：工资单，包含姓名、基本工资、岗位工资、职位、薪资计算方法、薪资发放方式、税收<br>SalarySheetContentPO：工资单内容，包含自增id，单据id，姓名，税前工资，个税，保险，公积金，实发工资、银行账户、备注<br>SalarySheetPO：工资单，包含单据号，操作员，备注，总额，单据状态，创建时间<br>SalaryStrategyPO：工资发放策略，包含职位，基本工资，岗位工资，回扣，回扣比率<br>SaleReturnsSheetContentPO：销售退货单内容，包含自增id,单据id，商品id，数量，单价，总额，备注<br>SaleReturnsSheetPO：销售退货单，包含单据编号，关联销售单，操作员，备注，折让，代金券总额，单据状态，创建时间<br>SaleSheetContentPO：销售单内容，包含自增id,单据id，商品id，数量，单价，总额，备注<br>SaleSheetPO：销售单，包含单据编号，操作员，备注，折让，代金券总额，单据状态，创建时间<br>Staff：员工，包含姓名，性别，生日，电话，职位，级别，工资卡<br>StaffWagelnfoPO：员工工资，包含id,姓名，工资，银行<br>UncheckPO：未签到人员，包含姓名，职位<br>User：用户，包含ID，姓名，密码，身份<br>WarehouselnputSheetContentPO：入库单内容，包含列表id，单据编号，商品id，商品数量，单价，出厂日期，备注<br>WarehouselnputSheetPO：入库单，包含单据编号，批次，操作员，操作时间，关联进货单据，单据状态<br>WarehouselODetailPO：出入库细节，包含操作类型，单据id，商品名，分类名，商品数量，单价，总价，创建时间<br>WarehouseOutputSheetContentPO：出库单内容，包含列表id，单据编号，商品id，商品数量，单价，出厂日期，备注<br>WarehouseOutputSheetPO：出库单，包含单据编号，批次，操作员，操作时间，关联进货单据，单据状态<br>WarehousePO：库存数据，包含id，商品编号，数量，进价，批次，出厂日期</p><h4 id="6-2-Excel持久化格式"><a href="#6-2-Excel持久化格式" class="headerlink" title="6.2 Excel持久化格式"></a>6.2 Excel持久化格式</h4><pre><code>    Excel数据保持格式以SaleSheetContent.xlsx例。每行分别对应商品名称、型号、数量、单价、总价、时间。如下所示：</code></pre><p>小米手机    lalalala    400    2000    800000    2022-05-23T15:46:12.000+00:00</p><h4 id="6-3-数据库表"><a href="#6-3-数据库表" class="headerlink" title="6.3 数据库表"></a>6.3 数据库表</h4><pre><code>数据库中包含的所有表</code></pre><p><img src="https://s2.loli.net/2022/12/07/qPISLeTsfOyrjC8.jpg" alt="数据库中包含的所有表.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> 煩人作業 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 項目 </tag>
            
            <tag> 文檔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++概述</title>
      <link href="/2022/04/12/C++%E6%A6%82%E8%BF%B0/"/>
      <url>/2022/04/12/C++%E6%A6%82%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note yellow icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>程序員是應該被相信的!<br>與可能出現的錯誤相比，更重要的是能做甚麼好的事情</p></div></div><h2 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h2><p>C++是一種高級程序設計語言，它是由Bjarne Stroustrup在C語言的基礎上開發而成的。C++擁有豐富的數據類型和運算符，支持面向對象程序設計，提供了強大的抽象能力和擴展性。C++可以用于開發各種應用程序，包括桌面應用程序、遊戲、科學計算和物聯網等領域。C++ 是 C 的超集，很多的C中的库都被C++兼容了<br>最簡單的c++程序:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;Hello, World!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>這段代碼的功能是：首先包含iostream標頭文件，然後定義main函數，並在函數中通過std::cout語句向標準輸出設備輸出”Hello, World!”字符串。最後通過return 0;語句退出函數并結束程序。</p><h2 id="程序語句"><a href="#程序語句" class="headerlink" title="程序語句"></a>程序語句</h2><p>程序语句包含表达式语句、IO语句和控制流语句</p><h3 id="條件結構"><a href="#條件結構" class="headerlink" title="條件結構"></a>條件結構</h3><ol><li>if-else</li><li>switch：break(enum 枚举类型)</li></ol><ul><li>整形常量表达式:5、const、enum、define(对于compiler是固定的)</li><li>值不重复</li><li>次序任意(特指case)</li><li>switch可以和enum结合使用，将具体数值解耦</li><li>switch的进一步进一步优化可以尝试使用打表<span class="bubble-content">(表驅動)</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;"> 表驅動是一種軟件設計模式，它將程序的控制流和業務逻辑與數據存儲分離，通過表格的形式來描述程序的控制流和業務逻辑。這種模式可以使程序更易于維護和修改，提高程序的靈活性和可擴展性。表驅動的實現常常需要用到查表法和分支語句等技術。</span></span>的方法</li></ul><ol><li><code>表达式1?表达式2:表达式3</code></li></ol><h3 id="循環結構"><a href="#循環結構" class="headerlink" title="循環結構"></a>循環結構</h3><ol><li>while</li><li>do-while</li><li>for</li><li>break和continue</li></ol><h3 id="命名空間"><a href="#命名空間" class="headerlink" title="命名空間"></a>命名空間</h3><p>作用:進一步解決了全局變量/函數的名冲突</p><ul><li>別名</li><li>全局</li><li>開放</li><li>可嵌套</li><li>可重載</li></ul><p>兩種形式:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">namespce L&#123;</span><br><span class="line">  <span class="type">int</span> k;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.declaration:</span></span><br><span class="line"><span class="keyword">using</span> L::K;</span><br><span class="line"><span class="keyword">using</span> L::f;</span><br><span class="line"></span><br><span class="line">k=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">f</span>(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.directive:全局应用</span></span><br><span class="line"><span class="keyword">using</span> namespce L;</span><br><span class="line">k=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">f</span>(<span class="number">6</span>);</span><br></pre></td></tr></table></figure></p><h2 id="表逹式"><a href="#表逹式" class="headerlink" title="表逹式"></a>表逹式</h2><ol><li>C++中的表逹式由<code>operand</code>、<code>operator</code>和<code>others</code>組成</li><li>可以大致分為以下几種:</li></ol><ul><li>算术(a++,++a(-a))</li><li>關係和邏輯(&amp;&amp;, ||)</li><li>賦值(=)</li><li>逗號(就是連續運算)</li><li>字位運算符<code>(~,&amp;,|,^)</code></li></ul><div class="tip bell"><p>操作符可以重載以實現多態 </p></div><ol><li>求值會受到的制約有:</li></ol><ul><li>优先級</li><li>結合性</li><li>類型轉換約定(強制類型轉換:coresion，casting)</li><li>求值次序:受到編譯器影響</li><li>副作用</li></ul><h3 id="基本運算符"><a href="#基本運算符" class="headerlink" title="基本運算符"></a>基本運算符</h3><div class="table-container"><table><thead><tr><th>运算符</th><th>名称</th><th>作用</th></tr></thead><tbody><tr><td><code>&lt;&lt;</code></td><td>插入运算符</td><td>将后面的插入流中去，也可以被理解为重定向运算符</td></tr><tr><td><code>&gt;&gt;</code></td><td>取出运算符</td><td>按顺序读入参数，以空格为分隔符</td></tr><tr><td><code>~</code></td><td>取反运算符</td><td>按位取反</td></tr><tr><td><code>*</code></td><td>指针运算符</td><td>取出指针所对应的内存地址中的值</td></tr><tr><td><code>sizeof</code></td><td>求字节数运算符</td><td>返回该变量或者数据结构占据的字节数</td></tr><tr><td><code>-&gt;</code></td><td>指向成员运算符</td><td>用于拿到成员中变量</td></tr></tbody></table></div><p>還有二元運算符和逗號運算符</p><h3 id="賦值表逹式"><a href="#賦值表逹式" class="headerlink" title="賦值表逹式"></a>賦值表逹式</h3><ol><li>C++为左值表达式</li><li>左值 = 右值表达式<br>左值:可以出现在赋值表达式左部的表达式，具有存放数据的空间。<br>类型不同时，先计算右值表达式的值，然后转换为左值表达式，之后赋值</li><li>C++11中出现了右值表达式，int &amp;&amp; x = 1</li></ol><h3 id="條件表逹式"><a href="#條件表逹式" class="headerlink" title="條件表逹式"></a>條件表逹式</h3><ol><li><code>&lt;exp1&gt;?&lt;exp2&gt;:&lt;exp3&gt;</code></li><li>唯一的三目运算符,不允许进行重载</li><li>如果<code>&lt;exp2&gt;</code>和<code>&lt;exp3&gt;</code>的值类型相同且均为左值，则该条件运算符表达式为左值表达式。</li><li>可以嵌套(满足就近原则</li></ol><h2 id="數據"><a href="#數據" class="headerlink" title="數據"></a>數據</h2><p>数据的组成:名、值、地址、类型、性质</p><h3 id="數據類型"><a href="#數據類型" class="headerlink" title="數據類型"></a>數據類型</h3><ol><li>基本類型: 都属於Built-in的類型</li></ol><ul><li>整型 int(shor int, int ,long int)</li><li>字符型 char</li><li>浮點型 float(float,double,long double)</li><li>布尔型 bool</li></ul><ol><li>派生類型</li></ol><ul><li>指針類型 *</li><li>枚舉類型 enum</li><li>數組類型 <code>[]</code></li><li>結構體類型 struct</li><li>公用體類型 union</li><li>類類型 class</li></ul><ol><li>空類型 void<br>数据类型是第一层的封装，包括了Value Set和Operation</li></ol><h3 id="抽象數據類型ADT"><a href="#抽象數據類型ADT" class="headerlink" title="抽象數據類型ADT"></a>抽象數據類型ADT</h3><p>抽象數據類型（Abstract Data Type, ADT）是一種程序設計中的概念，它定義了一組數據類型的通用操作，而不關心其具體實現細節。抽象數據類型旨在提供一種抽象的、統一的方式來描述和操作數據結構，並隔離數據的實現細節和使用方式。<br>抽象數據類型的主要特徵有：</p><ul><li>定義了一組通用的、高層次的數據操作，如增加、刪除、查找等。</li><li>封裝了數據的實現細節，只提供外部可以訪問的接口。</li><li>提供了一種統一的、模塊化的方式來描述數據結構，方便程序的設計和維護。<br>抽象數據類型在程序設計中非常重要，它可以減少程序代碼的耦合度，提高程序的可讀性和可維護性，方便對數據的操作和管理。抽象數據類型的具體實現可以通過各種數據結構來完成，如陣列、鏈表、樹、圖等。<br>類型系統:</li></ul><ol><li>强/弱:是指类型严格与否，弱类型允许进行隐式转换</li><li>静/动:静是指在编译之前就已经确定类型，而动是指在编译过程中确定类型。</li></ol><h3 id="typedef關鍵字"><a href="#typedef關鍵字" class="headerlink" title="typedef關鍵字"></a>typedef關鍵字</h3><ol><li>用来为已有的类型定义一个同义词(别名)</li><li>格式:<code>typedef [原本类型][同义词/别名]</code></li><li>提高程序可移植性(应用的价值所在)</li></ol><ul><li>16位系统:typedef int INT16</li><li>32位系统:typedef short INT16</li></ul><ol><li>是为了已有类型定义别名，而不是定义新的类型</li></ol><h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><ol><li>整型表示:0開頭(8進制)、0x開头(16進制)等</li><li>浮點數表示:十進制和指數形式等</li><li>字符常量(字符串常量結尾<code>\0</code>)</li><li>符號常量(#define NUM 1)</li><li>枚舉常量</li></ol><h3 id="變量"><a href="#變量" class="headerlink" title="變量"></a>變量</h3><ol><li>局部變量<br>在函數局部等地方生存</li><li>全局變量<br>從定義位置到程序結束都是有效的</li><li>自動變量<br>如果不用static声明变量类型，编译器对它们是动态地分配储存空间的</li><li>指針變量</li></ol><ul><li>int <code>*</code>pointer;定义</li><li>&amp;取地址运算符</li><li><code>*</code>间接访问运算符:访问地址上的函数值。</li></ul><ol><li>作用域</li></ol><ul><li>文件作用域</li><li>函数作用域</li><li>块作用域</li><li>函数原型作用域</li></ul><h2 id="函數"><a href="#函數" class="headerlink" title="函數"></a>函數</h2><ol><li>一个函数就是一个功能</li><li>函数包括:</li></ol><ul><li>系统函数(库函数)</li><li>用户自己定义的函数(无参函数,有参函数)<h3 id="函數的原則"><a href="#函數的原則" class="headerlink" title="函數的原則"></a>函數的原則</h3></li></ul><ol><li>函数不可以被嵌套定义:函数内部不可以再次定义新的函数</li><li>函数可以通过原型完成有默认参数的函数</li><li>函数是先定义后使用，具体是指上下文环境</li><li>Runtime Environment在C++中是使用Stack<h3 id="函數模板"><a href="#函數模板" class="headerlink" title="函數模板"></a>函數模板</h3></li><li><code>template &lt;typename T&gt;</code></li><li>T max(T a,T b, T c){}</li><li>在运行时确定T的类型<h3 id="函數編譯鏈接"><a href="#函數編譯鏈接" class="headerlink" title="函數編譯鏈接"></a>函數編譯鏈接</h3></li><li>只編譯當前模块<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">g</span>()&#123;<span class="comment">//a.cpp</span></span><br><span class="line">  <span class="built_in">f</span>();<span class="comment">//b.cpp</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>编译每个编译单元<code>.cpp</code>时是相互独立的，即每个cpp文件之间是不知道对方的存在的,.cpp编译成<code>.obj</code>后，link时時a.obj才会从b.obj中获得<code>f()</code>函数的信息。</li><li>link时将编译的结果连接成可执行代码，主要是确定各部分的地址,将编译结果中的<code>地址符号全换成实地址</code>(call指令在a.cpp被编译时只是call f的符号，而不知道f确切的地址)<h3 id="重載-Overloading-重寫-Overriding"><a href="#重載-Overloading-重寫-Overriding" class="headerlink" title="重載(Overloading)重寫(Overriding)"></a>重載(Overloading)重寫(Overriding)</h3>overload是C++中的一種語法特性，它允許定義多個同名函數，只要這些函數的參數列表不同，就可以通過自動類型轉換來選擇合適的函數來調用。overload有助于提高程序的代碼可讀性和可維護性，同時也提供了更多的程序寫作選擇。</li></ol><p>例如，下面的代碼定義了三個同名的函數max，分別接收不同數量的參數，這三個函數都可以通過overload特性來調用：<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">max</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">max</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">max</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y, <span class="type">double</span> z)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">max</span>(<span class="built_in">max</span>(x, y), z);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>原則:</p><ol><li>名稱相同，參數不同(函数的参数个数、参数类型、参数顺序至少一个不同)</li><li>返回值不作為區別重載函數的依據</li></ol><p>overriding是一種面向對象編程中的概念，指的是在子類中重寫父類中的方法或函數。這種操作可以使得子類對父類中的方法或函數進行修改和擴展，提高程序的靈活性和可重用性。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例如，假設有一個基礎類Base，包含一個方法Print，代碼如下：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Base::Print&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//接下來我們定義一個子類Derived，繼承自Base類，並重寫了Print方法，代碼如下：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Derived::Print&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h3 id="函數的默認參數"><a href="#函數的默認參數" class="headerlink" title="函數的默認參數"></a>函數的默認參數</h3><ol><li>默认参数的声明:默认参数是严格从右至左的顺序使用的</li></ol><ul><li>在函数原型中给出</li><li>先定义的函数中给出</li><li>不間斷</li><li>在定义中一般不给出默认参数，在调用的时候使用函数原型的时候给出默认参数</li></ul><ol><li>函数默认重载，在面向对象编程中，子类即便修改默认参数，也不生效。</li></ol><h3 id="外部函數-extern"><a href="#外部函數-extern" class="headerlink" title="外部函數 extern"></a>外部函數 extern</h3><ol><li>符号表:Name mangling: extern “C”</li></ol><ul><li>在C++的g中调用C中的f，会在link的时候出问题(因为不在C++ 的符号表中)</li><li>解决方案:在函数名前面加上extern的关键词(这样子编译器就会在编译过程中从外部进行寻找)</li></ul><ol><li>C编译器编译的文件被放置在lib库中，C++不能直接调用，而是需要extern才可以</li><li>符号表：与编译的各个阶段都有交互，存有函数名、地址等信息；编译时会创建一个函数符号表<name,address>，对应的符号后面的地址还没确定(link期决定)，call name根据name找到符号表对应的地址，再执行</li><li>对于c语言来说，编译得到的符号表内函数f在符号表里的name就是f(不存在函数重载)</li><li>对于c++来说，因为有重载，所以f(int)和f(float)在符号表里的name是不同的</li><li>c++对于c语言的函数f会按c++的方式生成函数表中的nameA，但c编译好的函数表内f对应的nameB和nameA不一致，导致c++无法找到该函数</li></ol><h3 id="函數與內存"><a href="#函數與內存" class="headerlink" title="函數與內存"></a>函數與內存</h3><p>函數是使用<code>臨時性存儲空間</code></p><ol><li>空間從上往下分別是:</li></ol><ul><li>code: 每个指令都有对应的单元地址。函数的代码存放的位置是受到限制的</li><li>Data:存放数据(局部变量和全局变量)</li><li>Stack:由系统管理，存放函数</li><li>Heap:可以用程序员进行分配，可以在运行时动态确定，C中使用<code>int *p = (int *)malloc(4)</code>，归还内存<code>free</code>(C++中就不要使用这种方法进行处理，而是使用new和delete)</li></ul><ol><li>RunTime Environment</li><li>每一个函数都有栈空间，被称为frame(active frame是当前运行函数的栈空间)</li><li>棧空間: 是从高地址向低地址生长，栈底:ebp(当前函数的存取指针，即存储或者读取数时的指针基地址)<br>栈顶:esp(当前函数的栈顶指针)，保存:返回地址、调用者的基指针。<span class="bubble-content">過程描述</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">过程描述:调用一个函数时，先将堆栈原先的基址(ebp)入栈，以保存之前任务的信息。然后将栈顶指针的值赋给ebp，将之前的栈顶作为新的基址(栈底)，然后在这个基址上开辟相应的空间用作被调用函数的堆栈。函数返回后，从ebp中可取出之前的esp值，使栈顶恢复函数调用前的位置；再从恢复后的栈顶可弹出之前的EBP值，因为这个值在函数调用前一步被压入堆栈。这样，EBP和ESP就都恢复了调用前的位置，堆栈恢复函数调用前的状态。</span></span><img src="https://s2.loli.net/2022/12/08/7T1UFxKqW3bdJi2.png" alt="棧.png"><h3 id="參數傳递"><a href="#參數傳递" class="headerlink" title="參數傳递"></a>參數傳递</h3></li><li>call by value(值傳递，C、C++支持)<br><img src="https://s2.loli.net/2022/12/08/ao8Cr4mQnTHwsND.png" alt="C++值傳递.png"><details class="folding-tag" yellow><summary> 函數調用過程 </summary>              <div class='content'>              <ol><li>开始调用esp从栈顶向下移动32位，存ret_addr，开辟main函数的栈空间</li><li>然后esp继续向下存ebp_main</li><li>然后ebp到esp处</li><li>然后esp到新的函数空间的栈顶</li><li>函数处理</li><li>esp先返回到ebp</li><li>然后ebp根据ebp_main返回，然后esp加一(向上)</li><li>之后esp回到ret_addr位置即可。<div class="tip bell"><p>为什么ebp和esp之间距离很大，因为我们要对齐，提高内存管理效率</p></div></li></ol>              </div>            </details></li><li>call by reference(引用傳递,C++支持)<br>傳递的是地址，會同時修改對應地址單元中的值<br><img src="https://s2.loli.net/2022/12/08/e6Ds7tEhnzrb3AF.png" alt="C++引用傳递.png"></li><li>call by name<br>指在用到该参数的时候才会计算参数表达式的值，將參數的名稱（即變量名）作為參數傳遞給函數，而不是參數的值，效率較低。</li></ol><h3 id="函數調用過程總結"><a href="#函數調用過程總結" class="headerlink" title="函數調用過程總結"></a>函數調用過程總結</h3><ol><li>加载参数(进栈)</li><li>保存上下文环境</li></ol><ul><li>保存返回地址</li><li>保存调用者基指针</li></ul><ol><li>执行函数</li></ol><ul><li>设置新的基指针</li><li>分配空间(可选)</li><li>执行一些任务</li><li>释放空间(如果分配了的话)</li></ul><ol><li>恢复上下文环境</li></ol><ul><li>加载调用者基指针</li><li>加载返回指针</li></ul><ol><li>继续执行调用者的功能</li></ol><h3 id="內聯函數inline"><a href="#內聯函數inline" class="headerlink" title="內聯函數inline"></a>內聯函數inline</h3><ol><li>目的:</li></ol><ul><li>提高可读性</li><li>提高效率</li><li>解决了两个cost的问题</li></ul><ol><li>对象:使用频率高、简单、小段代码</li><li>实现方法:编译系统将为inline函数创建一段代码，在每次调用时，用相应的代码替换</li><li>限制：</li></ol><ul><li>必须是非递归函数,因为已经加入主体部分了</li><li>由编译系统控制,和编译器是完全相关的</li></ul><ol><li>内联必须和函数体放在一起，而不是和原型放在一起，并且函数体必须出现在调用之前，否则函数可以编译，但是不出现内联。</li></ol><h2 id="輸入輸出"><a href="#輸入輸出" class="headerlink" title="輸入輸出"></a>輸入輸出</h2><p>輸入輸出流包含在頭文件<code>&lt;iostream&gt;</code>中<br>標準庫對象:</p><ul><li>istream:cin: 处理输入</li><li>ostream:cout: 处理输出</li><li>ostream:cerr: 处理错误</li><li>ostream:clog: 保证log<h3 id="輸入"><a href="#輸入" class="headerlink" title="輸入"></a>輸入</h3></li></ul><ol><li>原理:</li></ol><ul><li>程序的输入都键入一个缓冲区，即输入缓冲区。</li><li>键盘输入结束后，会将数据存入缓冲区，之后cin函数直接从输入缓冲区取数据</li><li>问题在于:缓冲区中有残留数据的时候，cin输入流直接从缓冲区拿数据。</li></ul><ol><li>cin</li></ol><ul><li><code>&gt;&gt;</code>是流提取符，以空格，\t(Tab),\n(回车)为终止</li><li>往往使用来赋值给变量</li></ul><ol><li>數組輸入<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ;i++)&#123;</span><br><span class="line">  cin &gt; nums[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//未知長度數組讀入</span></span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;<span class="comment">//如果沒有數字輸入則會為NULL</span></span><br><span class="line">  nums[i] = n;</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>cin.get()方法</li></ol><ul><li>结束符默认为enter，结束字符串的读写</li><li>字符串最后一个为\0，并且对空格不敏感。</li><li>get方法并<code>不会</code>将结束符从缓冲区丢弃，务必注意是结束符，未必是回车。<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按照字符读取</span></span><br><span class="line">cin.<span class="built_in">get</span>(x);</span><br><span class="line">cin.<span class="built_in">get</span>(y);<span class="comment">//\n也可以读取到</span></span><br><span class="line"><span class="comment">//cin.get == c语言中的getchar()</span></span><br><span class="line"><span class="comment">//按照字符串读取</span></span><br><span class="line"><span class="type">char</span> ch1,ch2[<span class="number">10</span>];</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;请输入字符串:&quot;</span>&lt;&lt;endl;</span><br><span class="line">cin.<span class="built_in">get</span>(ch2,<span class="number">6</span>);<span class="comment">//在不遇到结束符的情况下，最多可接收6-1=5个字符到ch2中，注意结束符为默认Er</span></span><br><span class="line">cin.<span class="built_in">get</span>(ch1);<span class="comment">//或ch1 = cin.get();</span></span><br><span class="line">out&lt;&lt;ch2&lt;&lt;end1:</span><br><span class="line">cout&lt;&lt;ch1&lt;&lt;<span class="string">&quot;n&quot;</span>&lt;&lt;(<span class="type">int</span>)chi&lt;&lt;endl;</span><br></pre></td></tr></table></figure>直接回车在上面程序中会出现错误输出(越界)，处理方法<code>cin.clear()</code>:但是不会清理终止符</li></ul><ol><li>cin.getline()</li></ol><ul><li>cin.getline(字符数组名,接收长度，结束符)</li><li>cin.get()超长后不会影响cin的操作，而cin.getline()如果超长会导致之后cin的错误</li></ul><ol><li>getline()</li></ol><ul><li>getline(istream is,string str,结束符)<br><code>getline(cin,str);</code></li></ul><ol><li>cin.ignore()<br>刪除緩冲区第一個字符<br><code>cin.ignore(1024,&#39;\n);cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), &#39;\n&#39;);</code>清除緩冲区</li><li>getchar()/putchar()<br>函數輸入輸出，獲得(可以讀到空間,<code>\n</code>等等)/輸出一個字符</li></ol><h3 id="輸出"><a href="#輸出" class="headerlink" title="輸出"></a>輸出</h3><p>1.標准輸出流cout</p><ul><li>&lt;&lt;流插入符</li><li><code>std::endl</code>換行，等價於<code>\n</code></li><li>格式化輸出</li><li>using namespace std 來直接使用</li></ul><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><p>C++的輸入輸出重定向是指讓程式可以從不同的來源讀取輸入並將輸出寫入到不同的位置。這通常可以通過使用C++中的輸入輸出流（如std::cin和std::cout）和重定向符號來實現。</p><p>例如，假設您有一個名為my_program.cpp的C++程式，並且想要將它的輸入重定向到一個名為input.txt的文件，並將它的輸出重定向到一個名為output.txt的文件。您可以使用以下命令來實現這一點：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$my_program</span>.exe &lt; input.txt &gt; output.txt</span><br></pre></td></tr></table></figure><br>在這個例子中，my_program.exe是從my_program.cpp編譯得到的可執行文件，&lt; input.txt表示將input.txt文件的輸入重定向到my_program.exe，&gt; output.txt表示將my_program.exe的輸出重定向到output.txt文件。</p><p>另外，您還可以使用重定向符號來將多個文件的輸入或輸出鏈接在一起，以實現更高級的重定向功能。例如，假設想要將一個文件的輸出直接作為另一個文件的輸入，可以使用以下命令實現：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$my_program</span>.exe &lt; input1.txt | my_program2.exe &gt; output.txt</span><br></pre></td></tr></table></figure><br>另外，還可以使用重定向符號來將一個文件的輸入和輸出重定向到同一個位置。例如，假設想要將一個文件的輸入和輸出都重定向到終端機，可以使用以下命令實現：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ my_program.exe &lt; input.txt | <span class="built_in">tee</span> output.txt</span><br></pre></td></tr></table></figure></p><h3 id="文件讀寫"><a href="#文件讀寫" class="headerlink" title="文件讀寫"></a>文件讀寫</h3><p>C++提供了一種叫做fstream的類，它可以讓您讀寫文件。fstream類提供了三個子類，分別是<code>ifstream</code>，<code>ofstream</code>和<code>fstream</code>，它們分別用於讀取文件，寫入文件和讀寫文件。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 創建一個fstream對象</span></span><br><span class="line">  fstream file;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 以讀寫模式打開文件</span></span><br><span class="line">  file.<span class="built_in">open</span>(<span class="string">&quot;my_file.txt&quot;</span>, ios::in | ios::out);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 如果文件無法打開，則輸出錯誤信息</span></span><br><span class="line">  <span class="keyword">if</span> (!file) &#123;</span><br><span class="line">    std::cerr &lt;&lt; <span class="string">&quot;Error: unable to open file&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 從文件中讀取一個字符串</span></span><br><span class="line">  std::string line;</span><br><span class="line">  <span class="built_in">getline</span>(file, line);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 將字符串輸出到終端機</span></span><br><span class="line">  std::cout &lt;&lt; line &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 從終端機讀取一個字符串</span></span><br><span class="line">  std::string input;</span><br><span class="line">  std::cin &gt;&gt; input;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 將字符串寫入文件</span></span><br><span class="line">  file &lt;&lt; input &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 關閉文件</span></span><br><span class="line">  file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>需要注意的是，在讀寫文件時，需要小心檢查文件是否打開成功，並避免對未打開的文件進行操作。此外，還需要在完成讀寫操作後關閉文件，以防止文件被意外修改或者損壞。</p><h2 id="指針和引用"><a href="#指針和引用" class="headerlink" title="指針和引用"></a>指針和引用</h2><p>C++的指針是一種特殊的變量，它保存了一個值的位址。指針可以用來訪問該位址中的數據，並能夠實現更加靈活的程序設計。</p><ol><li>定义:<code>&lt;基类型&gt;*&lt;指针变量&gt;:void*</code>:可以作为所有指针的接口，void的指针类型可以被赋值为任何类型的指针。<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">9</span>;</span><br><span class="line"><span class="type">int</span>* p = &amp;a;<span class="comment">//指向同一地址</span></span><br><span class="line"><span class="type">int</span>* q = p;</span><br><span class="line">*p = <span class="number">8</span>;</span><br><span class="line"><span class="type">void</span>* p1 = p;</span><br><span class="line"><span class="type">double</span>*<span class="number">91</span>;</span><br><span class="line">p1 = q1;<span class="comment">//是允许的</span></span><br></pre></td></tr></table></figure></li><li>使用typedef来定义一个指针类型(别名)<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span>* Pointer;</span><br><span class="line">Pointer p,q;</span><br></pre></td></tr></table></figure></li><li>可以直接进行赋值:因为C++可以进行系统开发，所以一定是可以操作绝对地址的</li></ol><h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><ol><li>取地址:<code>&amp;</code></li><li>間接取內容:<code>*</code></li><li>所有的指针都要初始化</li></ol><ul><li>C++会初始化指针为0(默认初始化)，如果编译器发现指向为0，则报错，因为0地址是保留空间</li><li>不允許<code>char *p = (void*)</code></li><li>引入了nullptr:作为不依赖任何值的指针</li></ul><ol><li>同類型賊值</li><li>加減</li></ol><ul><li>sizeof(基類型)* 整形數值</li></ul><ol><li>比較(==/!=)</li><li>void* 是指針類型的公共接口</li><li>可用來將某块內存清零</li><li>memset()通常用來為申請內存進行初始化操作</li></ol><ul><li>函數原型<code>memset(void *s,int ch,size_t n);</code><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> my_array[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 使用memset將my_array中的所有元素設置為0</span></span><br><span class="line">  <span class="built_in">memset</span>(my_array, <span class="number">0</span>, <span class="built_in">sizeof</span>(my_array));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 輸出my_array中的所有元素</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    std::cout &lt;&lt; my_array[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="常量指針與指針常量"><a href="#常量指針與指針常量" class="headerlink" title="常量指針與指針常量"></a>常量指針與指針常量</h3><ol><li>常量指針</li></ol><ul><li><code>const &lt;類型&gt;* &lt;指針變量&gt;</code></li><li>不可以修改指針指向單元的內部的值</li><li>用来消除函数的副作用，保证在函数端中只读数据<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> c = <span class="number">0</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> *cp;</span><br><span class="line"><span class="type">int</span> y = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> *q;</span><br><span class="line">cp = &amp;c; v<span class="comment">//cp 可以指向 c</span></span><br><span class="line">q = &amp;y; v<span class="comment">//q 可以指向 y</span></span><br><span class="line">*cp = <span class="number">1</span> ; x<span class="comment">//*cp 是一个常量,不可以赋值</span></span><br><span class="line">*q = <span class="number">2</span> ; v<span class="comment">//变量指针可以指向变量</span></span><br><span class="line">cp = &amp;y; v<span class="comment">//常量指针可以指向变量，传递的是y的空间，并且对于y的这个空间只是可读的，安全的= &amp;c; x//不可以的，因为g的修改可以间接修改c，所以编译器不允许</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> *p)</span></span>&#123;</span><br><span class="line">  cout &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> c = <span class="number">8</span>;</span><br><span class="line"><span class="built_in">print</span>(c) ;<span class="comment">//不可以被调用的</span></span><br><span class="line"><span class="built_in">print</span>(&amp;c);<span class="comment">//C++赋给的权利，在调用的时候除去常量的特性，这个&amp;是强制类型转换，取消常量特性</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *p)</span></span>&#123;<span class="comment">//如此修改就可以大量复用/常量使用者和变量使用者都可以使用</span></span><br><span class="line">  cout &lt;&lt; *p &lt;&lt; endl:</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>面向對象中没有const會帶來很大的訪問權限的問題</li></ul><ol><li>指針常量</li></ol><ul><li><code>&lt;類型&gt;* const&lt;指針變量&gt;</code></li><li>在定義時初始化<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x,y;</span><br><span class="line"><span class="type">int</span> *cons p = &amp;x;<span class="comment">//p始終如一的指向x單元，這個單元是可變的</span></span><br><span class="line">p = &amp;y;<span class="comment">//錯的</span></span><br></pre></td></tr></table></figure></li><li>const int * const p是非常強的指針約束<h3 id="指針與函數"><a href="#指針與函數" class="headerlink" title="指針與函數"></a>指針與函數</h3></li></ul><ol><li>指針作為形參</li></ol><ul><li>提高传输效率</li><li>函数副作用</li><li>常量指针</li></ul><ol><li>函數指針<br>函數指針是一種特殊的指針，它指向一個函數。函數指針可以用來實現更加灵活的程序设计，并能够实现函数的动态调用。<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">my_func</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 创建一个指向my_func的函数指针</span></span><br><span class="line">  <span class="built_in">int</span> (*my_pointer)(<span class="type">int</span>, <span class="type">int</span>) = &amp;my_func;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 通过指针调用函数</span></span><br><span class="line">  <span class="type">int</span> result = (*my_pointer)(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">  std::cout &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>计算一元函数在某区间上的定积分<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">integrate</span><span class="params">(<span class="type">double</span> (*f)(<span class="type">double</span>),<span class="type">double</span> a, <span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123; … <span class="built_in">f</span>(x),  a ,  b, …  &#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">my_func</span><span class="params">(<span class="type">double</span> x)</span></span>&#123; … &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">integrate</span>(sin,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">integrate</span>(cos,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">integrate</span>(my_func,<span class="number">1</span>,<span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h3 id="數組"><a href="#數組" class="headerlink" title="數組"></a>數組</h3><ol><li>一維數組</li></ol><ul><li><code>*(p+i)</code>p不移動</li><li><code>*(p++)</code>p移動</li><li><code>int *p = a</code>a表示的是數組首地址，傳递的是<code>int *const</code>，a[0]可以寫為p[0]</li><li>sizeof(a)就是數組整個块大小</li></ul><ol><li>二組數組</li></ol><ul><li>用一維方式訪問</li><li><code>int *p = &amp;a[0][0]</code>p指向的是T類型<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">12</span>;i++)&#123;</span><br><span class="line">    *(p++) = <span class="number">9</span>;<span class="comment">//越界了(对应一维数组的越界)，但是二维数组没有越界</span></span><br><span class="line">&#125;</span><br><span class="line">######################################<span class="meta">#</span></span><br><span class="line"><span class="meta">typedef int T[2];   </span></span><br><span class="line">T a[<span class="number">6</span>];<span class="comment">//int a[6][2]</span></span><br><span class="line">T *q = a;</span><br><span class="line"><span class="comment">//不使用T的方法</span></span><br><span class="line"><span class="type">int</span>[<span class="number">2</span>] *q;</span><br></pre></td></tr></table></figure></li></ul><ol><li>數組元素操作<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">sizeof</span>(a);<span class="comment">//数组大小</span></span><br><span class="line"><span class="built_in">sizeof</span>(a+<span class="number">1</span>);<span class="comment">//内存地址的长度，单位bytes</span></span><br><span class="line"><span class="type">int</span> *p;</span><br><span class="line"><span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">p = &amp;a[<span class="number">0</span>] == p = a;    </span><br><span class="line"></span><br><span class="line">a[i] == *(a+i) == *(p+i) == p[i]</span><br><span class="line">&amp;a[i] == a+i == p+i == &amp;p[i]</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> b[<span class="number">20</span>][<span class="number">10</span>];</span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line"><span class="comment">//typedef int T[10];</span></span><br><span class="line"><span class="comment">//T b[20];</span></span><br><span class="line"><span class="type">int</span> *q;</span><br><span class="line">q = &amp;b[<span class="number">0</span>][<span class="number">0</span>];<span class="comment">// q = b[0]</span></span><br><span class="line"><span class="comment">//b[i][j] == *(&amp;b[0][0] + i*10 + j) == *(q + i * 10 + j) == q[i*10 + j]</span></span><br><span class="line">T * p;<span class="comment">//int (*p)[10];</span></span><br><span class="line">p = &amp;b[<span class="number">0</span>];<span class="comment">// p = b</span></span><br><span class="line"><span class="comment">//b[i][j] == *(*(b+i)+j) == *(*(p+i)+j) == p[i][j]</span></span><br></pre></td></tr></table></figure></li></ol><ul><li>降維操作<br>越界操作:C++认为是允许的，只要这块内存空间在我们的控制范围内即可<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">maximum</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;n;k++)</span><br><span class="line">        <span class="keyword">if</span> (a[k] &gt; max)</span><br><span class="line">      max = a[k];  </span><br><span class="line">  <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span>  A[<span class="number">2</span>][<span class="number">4</span>] = &#123; &#123;<span class="number">68</span>,<span class="number">69</span>,<span class="number">70</span>,<span class="number">71</span>&#125; , &#123;<span class="number">85</span>,<span class="number">86</span>,<span class="number">87</span>,<span class="number">89</span>&#125;&#125;;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;the max grade is&quot;</span> &lt;&lt; <span class="built_in">maximum</span>(A[<span class="number">0</span>],<span class="number">2</span>*<span class="number">4</span>);<span class="comment">//maximum(&amp;A[0][0],2*4) =&gt;maximum(&amp;A[0][0],sizeof(A)/sizeof(A[0][0]))</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li><li>升維操作(重要)<br>因为申请内存空间的时候只能申请到线性部分<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(<span class="type">int</span> a[],  <span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)  &#123;</span><br><span class="line">        cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(<span class="type">int</span> a[][<span class="number">2</span>], <span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>;j++) &#123;</span><br><span class="line">            cout &lt;&lt; a[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            cout &lt;&lt; *(a+i)+j &lt;&lt; <span class="string">&quot; :&quot;</span> &lt;&lt; a[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            <span class="comment">//四个换一行</span></span><br><span class="line">            <span class="keyword">if</span> ((i*<span class="number">2</span>+j+<span class="number">1</span>)%<span class="number">4</span> == <span class="number">0</span>)</span><br><span class="line">                cout &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(<span class="type">int</span> a[][<span class="number">2</span>][<span class="number">3</span>], <span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>;j++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k=<span class="number">0</span>;k&lt;<span class="number">3</span>;k++)&#123;</span><br><span class="line">                cout &lt;&lt; a[i][j][k] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">                cout &lt;&lt; *(*(a+i)+j)+k &lt;&lt; <span class="string">&quot; :&quot;</span> &lt;&lt; a[i][j][k] &lt;&lt; <span class="string">&quot;  &quot;</span>;</span><br><span class="line">                <span class="comment">//换行输出</span></span><br><span class="line">                <span class="keyword">if</span> ((i*<span class="number">6</span>+j*<span class="number">3</span>+k+<span class="number">1</span>)%<span class="number">4</span> == <span class="number">0</span>)</span><br><span class="line">                    cout &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> b[<span class="number">12</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">12</span>;i++)  b[i] = i+<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">show</span>(b,<span class="number">12</span>);</span><br><span class="line">    <span class="comment">//二维数组</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="type">int</span> T[<span class="number">2</span>];</span><br><span class="line">    <span class="built_in">show</span>((T*)b,<span class="number">6</span>);<span class="comment">//show((int (*)[2])b,6),一定有括号</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//三维数组</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="type">int</span> T1[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">typedef</span> T1 T2[<span class="number">2</span>];</span><br><span class="line">    <span class="built_in">show</span>((T2*)b,<span class="number">2</span>);<span class="comment">//show((int (*)[2][3])b,2)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ol><li>指針數組<br>數組中的元素為指針<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *s1[] = &#123;<span class="string">&quot;C++&quot;</span>, <span class="string">&quot;PASCAL&quot;</span>, <span class="string">&quot;FORTRAN&quot;</span>&#125;;</span><br><span class="line"><span class="type">char</span> s2[][<span class="number">8</span>] = &#123;<span class="string">&quot;C++&quot;</span>, <span class="string">&quot;PASCAL&quot;</span>, <span class="string">&quot;FORTRAN&quot;</span>&#125;;</span><br></pre></td></tr></table></figure><img src="https://s2.loli.net/2022/12/09/kWcaOl37Dnms16T.png" alt="指針數組.png"></li></ol><h3 id="多級指針"><a href="#多級指針" class="headerlink" title="多級指針"></a>多級指針</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">myswap</span><span class="params">(<span class="type">int</span> *p1, <span class="type">int</span> *p2)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span>* tmp = p1;</span><br><span class="line">  p1 = p2;</span><br><span class="line">  p2 = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myswap2</span><span class="params">(<span class="type">int</span> &amp;p1, <span class="type">int</span> &amp; p2)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> tmp = p1;</span><br><span class="line">  p1 = p2;</span><br><span class="line">  p2 = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myswap</span><span class="params">(<span class="type">char</span> **p1, <span class="type">char</span> **p2)</span> </span>&#123;</span><br><span class="line">  <span class="type">char</span> *tmp = *p1;</span><br><span class="line">  *p1 = *p2;</span><br><span class="line">  *p2 = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">char</span> *p1 =(<span class="type">char</span>*) <span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">  <span class="type">char</span> *p2 =(<span class="type">char</span>*) <span class="string">&quot;1234&quot;</span>;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">100</span>;</span><br><span class="line">  <span class="type">int</span> b = <span class="number">200</span>;</span><br><span class="line">  <span class="built_in">myswap</span>(&amp;a, &amp;b);</span><br><span class="line">  cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;<span class="comment">//100 200</span></span><br><span class="line">  <span class="built_in">myswap2</span>(a, b);</span><br><span class="line">  cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; endl;<span class="comment">//200 100</span></span><br><span class="line">  <span class="built_in">myswap</span>(&amp;p1, &amp;p2);</span><br><span class="line">  cout &lt;&lt; p1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p2 &lt;&lt; endl;<span class="comment">//1234 abcd</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="動態變量"><a href="#動態變量" class="headerlink" title="動態變量"></a>動態變量</h3><ol><li>动态:大小、生命周期</li><li>非编译时刻确定</li><li>是在heap中申请存储空间</li><li>申請: <code>new &lt;類型名&gt; [&lt;整型表逹式&gt;]</code></li><li>分配連續空間<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//---------------------------------------</span></span><br><span class="line"><span class="type">int</span> *p = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">10</span>];<span class="comment">//分配一块连续空间</span></span><br><span class="line"><span class="type">int</span> *p = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="type">int</span>)*<span class="number">10</span>)</span><br><span class="line"><span class="built_in">int</span> (*p2)[<span class="number">5</span>] = (<span class="built_in">int</span> (*)[<span class="number">5</span>])p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    p[i] = i+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">q = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">2</span>][<span class="number">5</span>];<span class="comment">//错误的，没有这种写法</span></span><br><span class="line"><span class="comment">//想用二维数组访问，升维操作</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>;j++)</span><br><span class="line">&#123;   <span class="keyword">for</span> (<span class="type">int</span> k=<span class="number">0</span>;k&lt;<span class="number">5</span>;k++)</span><br><span class="line">        cout &lt;&lt; p2[j][k] &lt;&lt; <span class="string">&quot;   &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------</span></span><br><span class="line"><span class="comment">//多维数组使用构造数据类型申请内存</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> i5Array [<span class="number">5</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    i5Array *p = <span class="keyword">new</span> i5Array [<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>;j++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k=<span class="number">0</span>;k&lt;<span class="number">5</span>;k++)</span><br><span class="line">            p[j][k] = (j*<span class="number">5</span>)+(k+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>面向對象中的new關鍵字<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//---------------------------------------</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line"></span><br><span class="line">A *p = <span class="keyword">new</span> A;<span class="comment">//调用默认构造函数</span></span><br><span class="line">A *p = (A*) <span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(A));<span class="comment">//只是分配空间</span></span><br><span class="line"><span class="comment">//---------------------------------------</span></span><br><span class="line"><span class="keyword">namespace</span> std&#123;<span class="comment">//处理内存</span></span><br><span class="line">    <span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*new_handler)</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">new_handler <span class="title">set_new_handler</span><span class="params">(new_handler p)</span> <span class="title">throw</span><span class="params">()</span></span>;</span><br><span class="line">&#125;<span class="comment">//不满意应对，我们可以重载方法来处理</span></span><br></pre></td></tr></table></figure></li><li>歸還動態變量</li></ol><ul><li>delete(调用数组内第一个对象的析构函数)|delete[] (调用数组内所有的对象的析构函数)</li><li>空間都會被歸還</li><li>析构函数:不仅仅是归还自己的内存，还有窗口资源和文件等东西归还掉</li></ul><ol><li>動態變量的應用</li></ol><ul><li>數據結構:链表(单、双)、栈、队列、树、图<br>鏈表結點定義<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">NODE</span>&#123;</span><br><span class="line">    <span class="type">int</span>  content;</span><br><span class="line">    NODE *next;</span><br><span class="line">&#125;;</span><br><span class="line">NODE *head=<span class="literal">NULL</span>;<span class="comment">//使用头结点</span></span><br></pre></td></tr></table></figure></li><li>具体应用：硬盘上的文件存放:一种实现是单链表(文件分配表FAT:用来存储数据的开始的位置。FAT一旦被破坏就导致所有的数据丢失)</li></ul><ol><li>引用<br>为一块已有的内存空间取一个别名，引用变量和被引用变量，必须是同类型，引用变量定义中的&amp;不是取地址操作符，定义引用变量时，必须初始化<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> &amp;a = *p;<span class="comment">//一旦是p的别名，就一定只能是p的别名了</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">int</span> &amp;a)</span><span class="comment">//利用函数副作用</span></span></span><br></pre></td></tr></table></figure></li></ol><ul><li>应用:函數參數傳递，動態變量命名</li><li>函數返回值為指針或引用<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">max1</span><span class="params">(<span class="type">int</span> x[], <span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> m,i;</span><br><span class="line">    m = x[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;num; i++)</span><br><span class="line">        <span class="keyword">if</span> (x[i] &gt; m) m = x[i];</span><br><span class="line">    <span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> &amp;<span class="title">max3</span><span class="params">(<span class="type">int</span> x[], <span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, j;</span><br><span class="line">    j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;num; i++)</span><br><span class="line">       <span class="keyword">if</span> (x[i] &gt; x[j]) j = i;</span><br><span class="line">    <span class="keyword">return</span> x[j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> *<span class="title">max2</span><span class="params">(<span class="type">int</span> x[], <span class="type">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="comment">//返回的指针</span></span><br><span class="line">    <span class="type">int</span> *p,*q;</span><br><span class="line">    p = x;</span><br><span class="line">    q = x+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (num &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (*q &gt; *p) p = q;</span><br><span class="line">        q++; num--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> A[<span class="number">16</span>];<span class="comment">//操作的是调用者的空间的部分</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">max1</span>(A,<span class="number">16</span>);</span><br><span class="line">    cout &lt;&lt; <span class="built_in">max2</span>(A,<span class="number">16</span>);<span class="comment">//返回的是一个地址</span></span><br><span class="line">    *<span class="built_in">max2</span>(A,<span class="number">16</span>) = <span class="number">-1</span>;<span class="comment">//将最大值修改为-1</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">max3</span>(A,<span class="number">16</span>);</span><br><span class="line">    <span class="built_in">max</span>(A,<span class="number">16</span>) = <span class="number">-1</span>;<span class="comment">//将最大值修改为-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>可以用const限定引用</li><li>要及時釋放在堆中的變量的引用</li></ul><h2 id="異常處理"><a href="#異常處理" class="headerlink" title="異常處理"></a>異常處理</h2><p>C++的異常處理是一種特殊的程序機制，用於處理程序中出現的異常情況。異常可能由各種原因引起，例如除數為0、訪問超出數組範圍的元素等。異常處理能夠有效地幫助我們捕捉和處理這些異常情況，以保證程序的穩定性和可靠性。</p><p>例如，假設有一個名為my_div的函數，用於計算兩個數的商<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">my_div</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (y == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;除數不能為0&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> x / y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">int</span> result = <span class="built_in">my_div</span>(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">    std::cout &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line">  &#125; <span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp; e) &#123;</span><br><span class="line">    std::cerr &lt;&lt; <span class="string">&quot;錯誤：&quot;</span> &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>它接受兩個整型參數x和y，並計算它們的商。如果y為0，則拋出一個異常，表示除數不能為0。</p><p>接下來，在main函數中通過try和catch語句來處理異常，當函數拋出一個異常時，程序將立即停止执行try語句中的代碼，並跳轉到下面的catch語句中去處理異常。</p><p>C++的異常處理還有一些更高級的用法。例如，可以定義自己的異常類型，並在拋出異常時傳遞額外的信息。還可以在捕捉異常時拋出新的異常，以便進一步處理。</p><p>例如，假設有一個名為MyException的自定義異常類型，並想要在拋出異常時傳遞額外的信息。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyException</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">explicit</span> <span class="title">MyException</span><span class="params">(<span class="type">const</span> std::string&amp; msg)</span> : message_(msg) &#123;</span>&#125;</span><br><span class="line">  <span class="function"><span class="type">const</span> std::string&amp; <span class="title">GetMessage</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> message_; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::string message_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">my_div</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (y == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="built_in">MyException</span>(<span class="string">&quot;除數不能為0&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> x / y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">int</span> result = <span class="built_in">my_div</span>(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">    std::cout &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line">  &#125; <span class="built_in">catch</span> (<span class="type">const</span> MyException&amp; e) &#123;</span><br><span class="line">    std::cerr &lt;&lt; <span class="string">&quot;錯誤：&quot;</span> &lt;&lt; e.<span class="built_in">GetMessage</span>() &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>main函數中捕捉到了拋出的異常。在這裡，我們通過調用MyException類型的GetMessage方法獲取傳遞的額外信息，並將它輸出到終端機。<br>捕捉到異常時拋出新的異常:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyException</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">explicit</span> <span class="title">MyException</span><span class="params">(<span class="type">const</span> std::string&amp; msg)</span> : message_(msg) &#123;</span>&#125;</span><br><span class="line">  <span class="function"><span class="type">const</span> std::string&amp; <span class="title">GetMessage</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> message_; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::string message_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">my_func</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">int</span> result = <span class="built_in">my_div</span>(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">    std::cout &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line">  &#125; <span class="built_in">catch</span> (<span class="type">const</span> MyException&amp; e) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="built_in">MyException</span>(<span class="string">&quot;錯誤：&quot;</span> + e.<span class="built_in">GetMessage</span>());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">int</span> result = <span class="built_in">my_func</span>();</span><br><span class="line">    std::cout &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line">  &#125; <span class="built_in">catch</span> (<span class="type">const</span> MyException</span><br></pre></td></tr></table></figure><br>異常处理的主要用可以預見且無法避免的錯誤，可以提高程序的Bobustness。</p>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 筆記 </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>庫存管理系統(ERP)-需求規格說明文档</title>
      <link href="/2022/04/01/%E5%BA%AB%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1(ERP)-%E9%9C%80%E6%B1%82%E8%A6%8F%E6%A0%BC%E8%AA%AA%E6%98%8E%E6%96%87%E6%A1%A3/"/>
      <url>/2022/04/01/%E5%BA%AB%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1(ERP)-%E9%9C%80%E6%B1%82%E8%A6%8F%E6%A0%BC%E8%AA%AA%E6%98%8E%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-引言"><a href="#1-引言" class="headerlink" title="1.引言"></a>1.引言</h2><h3 id="1-1目的"><a href="#1-1目的" class="headerlink" title="1.1目的"></a>1.1目的</h3><pre><code>    超市的组织运營复雜又繁瑣，不僅涉及大量的操作和报表，还需要对人员、商品、客戶、单据的统一管理與持久存儲，人工管理十分困难，一旦出錯便会釀成嚴重的后果。因此，我们決定搭建一个ERP管理系统，為所有员工提供一个協助其工作的系统，為經理提供可以审批统一管理整个超市信息的工具。    本文档描述了企业集成式管理系统ERP中各模块的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。    除特殊说明之外，本文档所包含的需求都是高优先级需求。</code></pre><h3 id="1-2范圍"><a href="#1-2范圍" class="headerlink" title="1.2范圍"></a>1.2范圍</h3><pre><code>    企业集成式管理系统ERP是为某灯具开关行业南京地区总代理开发的业务系统，开发的目标是帮助该代理商适应新的环境，提高工作效率和用户满意度，并处理日常的重点业务，其中业务包括库存管理、销售管理、财务管理、人事管理和企业经营管理。    ERP系统中的销售管理模块主要面向进货销售人员和总经理。通过销售管理模块，期望为该企业提高销售员工的工作效率、降低运营成本、增加销售额、为总经理的决策做支持。</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">庫存管理模块面向庫员人员，负责对商品分类和商品的信息的管理。</span><br></pre></td></tr></table></figure><pre><code>     财务管理模块对企业的銀行帳号、款项进出、工资發放做统一管理，还能查看企业所有的銷售詳情、經營情況等。    人事管理模块為人力资源人员提供对员工的统一管理，登記员工信息，記錄员工考勤，制定薪资策略等。    企业經營管理模块向總經理提供审批单據的入口，能跟据每个人的表現制定年终奬，查看各種報表，制定促銷茦略等。</code></pre><h3 id="1-3參考资料"><a href="#1-3參考资料" class="headerlink" title="1.3參考资料"></a>1.3參考资料</h3><pre><code>1. IEEE标准。2. seec-helper    [http://helper.seecoder.cn/](http://helper.seecoder.cn/)3.《软件工程与计算（卷二） 软件开发的技术基础》  骆斌， 丁二玉， 刘钦    机械工业出版社</code></pre><h2 id="2-总体描述"><a href="#2-总体描述" class="headerlink" title="2.总体描述"></a>2.总体描述</h2><h3 id="2-1产品前景"><a href="#2-1产品前景" class="headerlink" title="2.1产品前景"></a>2.1产品前景</h3><h4 id="2-1-1背景与机遇"><a href="#2-1-1背景与机遇" class="headerlink" title="2.1.1背景与机遇"></a>2.1.1背景与机遇</h4><pre><code>    此产品將取代現有市場上的銷售管理系統。于賣方而言，能讓其工作效率加快，出錯率減少，商品進货規劃更簡單，商品堆积減少。于买方而言，更能輕易买到心宜的商品，購物过程更輕鬆愉快。    对于庫存人员、銷售人员、财务人员等等公司內部人员而言，工作上的信息同步和管理不再是一项艱難的工作，他們不用再花费大量時間與各部門人员交換、确認信息，能更輕鬆，低风險地完成自己的工作，經理对整個公司的管理也更清楚，全面掌握所有信息，能更好地做出決策，此产品無疑能创造巨大的价值。</code></pre><h4 id="2-1-2业务需求"><a href="#2-1-2业务需求" class="headerlink" title="2.1.2业务需求"></a>2.1.2业务需求</h4><pre><code>BR1：在系统使用一周后，所有员工能熟練地新建報表，查詢數據。BR2：在系统使用一周后，总經理已經能跟據系统存儲的數據獲得企业大致运營情況。BR3：在系统使用六个月后，库存积压的现象减少50%。BR4：在系统使用六个月后，销售额增加15%。           最好情况：30%。           最可能情况：15%。           最坏情况：10%。BR5：在系统使用六个月后，销售人员工作效率提高50%。BR6：在系统使用一年后，运营成本降低40%。</code></pre><h3 id="2-2产品功能"><a href="#2-2产品功能" class="headerlink" title="2.2产品功能"></a>2.2产品功能</h3><pre><code>SF1：处理销售过程，帮助完成销售任务。SF2：解決手工作业銷售迟緩，顧客購物排隊現象嚴重导玫流失客源的問題。SF3：提供數據給庫存，商品管理和財務系統。SF4：发展客户，提高顾客回头率。SF5：降低管理成本，增強竞爭力的同時保持盈利水平。</code></pre><h3 id="2-3用户特征"><a href="#2-3用户特征" class="headerlink" title="2.3用户特征"></a>2.3用户特征</h3><div class="table-container"><table><thead><tr><th>库存管理人员</th><th>1 到 2 名。负责对商品分类和商品的信息的管理。能够简单使用办公信息化系统。</th></tr></thead><tbody><tr><td>财务人员</td><td>1 到 2 名。办公信息化系统较強，对新系统基本持积极态度，不希望增加现有工作量。</td></tr><tr><td>人力资源人员</td><td>1 到 2 名。办公信息化系统较強，对新系统基本持积极态度，不希望增加现有工作量。</td></tr><tr><td>进货销售人员</td><td>整个系统有4~8名进货销售人员，负责完成进货单和销售单。进货销售人员对新系统基本持积极态度，不希望增加现有工作量</td></tr><tr><td><strong>总经理</strong></td><td><strong>整个系统有2名总经理，负责审批单据、查看销售明细和经营情况。总经理能够熟练使用办公信息化系统，对新系统持积极态度</strong></td></tr></tbody></table></div><h3 id="2-4约束"><a href="#2-4约束" class="headerlink" title="2.4约束"></a>2.4约束</h3><pre><code>CON1：系统将运行在Windows或以上的操作系统上。CON2：系统使用Web界面，不适用图形界面。CON3：项目要使用持续集成方法进行开发。CON4：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。CON5：开发期限为2022年7月10日</code></pre><h3 id="2-5假设和依赖"><a href="#2-5假设和依赖" class="headerlink" title="2.5假设和依赖"></a>2.5假设和依赖</h3><pre><code>AE1：每天生成的每一种类型的单据不超过99999条。AE2：一旦确定进货和销售单，则客户的应收应付不可修改，直到与该客户的下一次销售行为。AE3：总经理折让金额不超过20%，进货销售人员折让金额不超过10%。</code></pre><h2 id="3-詳細需求描述"><a href="#3-詳細需求描述" class="headerlink" title="3.詳細需求描述"></a>3.詳細需求描述</h2><h3 id="3-1对外接口需求"><a href="#3-1对外接口需求" class="headerlink" title="3.1对外接口需求"></a>3.1对外接口需求</h3><h4 id="3-1-1用户界面"><a href="#3-1-1用户界面" class="headerlink" title="3.1.1用户界面"></a>3.1.1用户界面</h4><pre><code>1.屏幕格式:采用Windows友好界面，默認大小覆盖全屏，分辨率跟隨系統2.菜單格式:下拉式菜單3.報表格式:采用普通報表格式4.UI总体⻛格：简约直观扁平化设计，帮助⽤户快速获取到需要的内容，⾼效率获取所需信息</code></pre><p>【以下展示⻚⾯均在Windows Edge浏览器上进⾏，在Chrome等浏览器上的展示与下图⽆异】</p><h5 id="UI1-财务管理模块"><a href="#UI1-财务管理模块" class="headerlink" title="UI1 财务管理模块"></a>UI1 财务管理模块</h5><p>系统使⽤简约直观扁平化设计，帮助⽤户快速定位賬戶管理，制定单据，查看經營情況等入口。</p><p>賬戶管理界面图示:</p><p><img src="https://s2.loli.net/2022/12/07/4jWaNS29ofDXBuT.png" alt="UI1.png"></p><p>UI1.1用戶点击左侧各功能模块即可进入对应界面</p><p>UI1.2用戶点击新建賬戶即可进行賬戶創建</p><h5 id="UI2-单据管理界面图示"><a href="#UI2-单据管理界面图示" class="headerlink" title="UI2 单据管理界面图示:"></a>UI2 单据管理界面图示:</h5><p><img src="https://s2.loli.net/2022/12/07/xHpyqXEdMa7BlAV.png" alt="UI2.png"></p><p><img src="https://s2.loli.net/2022/12/07/NCZprkbUdSPaczY.png" alt="UI2.1.png"></p><p><img src="https://s2.loli.net/2022/12/07/RwWlLusJv9fqOya.png" alt="UI2.2.png"></p><p>UI2.1用戶能快速浏覽待总经理审批的单据草稿，审批成功及失败的单据</p><p>UI2.2用戶点击展开能獲取单据的詳細信息</p><p><img src="https://s2.loli.net/2022/12/07/glzIHZ6v5Lm2cxh.png" alt="UI2.3.png"></p><p>UI2.3通过总经理賬戶登入，单据右侧会出現同意和拒絕的图标，總经理审批后会提示操作成功，並更新到相应狀态的分页</p><h5 id="UI3-单据创建界面图示"><a href="#UI3-单据创建界面图示" class="headerlink" title="UI3.单据创建界面图示:"></a>UI3.单据创建界面图示:</h5><p><img src="https://s2.loli.net/2022/12/07/GRMCkK3W6bqeXzg.png" alt="UI3.png"></p><p>UI3.1用戶能使用下拉列表从所有客戶及銀行帳戶中做选择</p><p><img src="https://s2.loli.net/2022/12/07/Bb4E8CqvpIJzLWX.png" alt="UI3.1.png"></p><p><img src="https://s2.loli.net/2022/12/07/vI9475aOjRLFYZQ.png" alt="UI3.3.png"></p><p>UI3.2当用戶沒有选择关鍵數据，或是輸入不合法的數据，系统會發出錯誤提示</p><p><img src="https://s2.loli.net/2022/12/07/bZkpMl9hT6wo4n2.png" alt="UI3.2.png"></p><p>UI3.3 用戶能添加或刪除多條數据项，它們都將視為同一張表的數据</p><p>UI3.4点击立即創建后，單据會出現在待审批区中，為草稿狀态</p><h5 id="UI4-數据查找界面图示"><a href="#UI4-數据查找界面图示" class="headerlink" title="UI4 數据查找界面图示"></a>UI4 數据查找界面图示</h5><p><img src="https://s2.loli.net/2022/12/07/lWRFOPX5TSZoDc6.png" alt="UI4.png"></p><p>UI4.1查找条件会以可选框形式展現，缺省值系统会默認填寫全部條件，时间则会填寫从1999年12月31日到系统时间</p><p><img src="https://s2.loli.net/2022/12/07/cZBKoyDP85hjGsi.png" alt="UI4.1.png"></p><p><img src="https://s2.loli.net/2022/12/07/reKn2m3hTlPjt9S.png" alt="UI4.2.png"></p><p>UI4.2查找成功后，系统会發出提示，展現全部信息，可以通过类型進行再度过濾</p><p><img src="https://s2.loli.net/2022/12/07/LHYZaIGJxPiCQky.png" alt="UI4.3.png"></p><p>UI4.3數据可以導出為Excel表格</p><h4 id="UI5-促銷策略界面"><a href="#UI5-促銷策略界面" class="headerlink" title="UI5 促銷策略界面"></a>UI5 促銷策略界面</h4><p><img src="https://s2.loli.net/2022/12/07/Kob5qIRuyZTUB7Q.png" alt="UI5.png"><br>UI5.1 用戶点击不同按鈕制定不同促銷策略<br><img src="https://s2.loli.net/2022/12/07/Ri1aOFkoU6NYfTJ.png" alt="UI5.1.png"><br><img src="https://s2.loli.net/2022/12/07/V3rjEGg15hRKixD.png" alt="UI5.2.png"><br><img src="https://s2.loli.net/2022/12/07/C8KgtRZAHbrqxyU.png" alt="UI5.3.png"><br>UI5.2点击創建后，系統會使用策略模式制定相应的促銷策略<br><img src="https://s2.loli.net/2022/12/07/Mt8XbpLw4yUsWAG.png" alt="UI5.4.png"><br>UI5.3用戶能查看所有的促銷策略，點击能查看詳细的商品包</p><h4 id="3-1-2硬件接口"><a href="#3-1-2硬件接口" class="headerlink" title="3.1.2硬件接口"></a>3.1.2硬件接口</h4><pre><code>1.支持連接小票打印机接口(如USB、LPT)2.至少擁有1GB的存儲空間</code></pre><h4 id="3-1-3軟件接口"><a href="#3-1-3軟件接口" class="headerlink" title="3.1.3軟件接口"></a>3.1.3軟件接口</h4><pre><code>数据庫接口:Mysql數據庫管理工具</code></pre><h4 id="3-1-4通信接口"><a href="#3-1-4通信接口" class="headerlink" title="3.1.4通信接口"></a>3.1.4通信接口</h4><pre><code>以太网接口、無線接口、USB接口后端使⽤RESTful的接⼝，由前端AXIOS调⽤并返回</code></pre><h3 id="3-2功能需求"><a href="#3-2功能需求" class="headerlink" title="3.2功能需求"></a>3.2功能需求</h3><pre><code>系统大致可分为以下部分：登录系统、客户管理系统、庫存系统、销售处理系统、财务系统、人事管理系统、经營管理系统。</code></pre><h4 id="3-2-1登录"><a href="#3-2-1登录" class="headerlink" title="3.2.1登录"></a>3.2.1登录</h4><h5 id="3-2-1-1特性描述"><a href="#3-2-1-1特性描述" class="headerlink" title="3.2.1.1特性描述"></a>3.2.1.1特性描述</h5><pre><code>提供用户的登录功能，包括提供用户录入用户名和密码的界面、检查密码、用户名的正确性和有效性。</code></pre><h5 id="3-2-1-2刺激-响应序列"><a href="#3-2-1-2刺激-响应序列" class="headerlink" title="3.2.1.2刺激/响应序列"></a>3.2.1.2刺激/响应序列</h5><pre><code>刺激：用户输入登录名。响应：系统检测登录名是否符合规范并显示输入的结果。刺激：用户输入密码。响应：系统检测密码是否符合规范并显示密码为若干位的*。刺激：用户发送登录请求。响应：系统检测登录名是否为已注册用户，并检测密码与用户名是否一致。</code></pre><h5 id="3-2-1-3相关功能需求"><a href="#3-2-1-3相关功能需求" class="headerlink" title="3.2.1.3相关功能需求"></a>3.2.1.3相关功能需求</h5><div class="table-container"><table><thead><tr><th>Login.Input</th><th>系统应该允许用户在登录界面进行键鼠输入</th></tr></thead><tbody><tr><td>Login.Input.Username</td><td>在用户输入结束用户名时，系统应该判断用户名是否符合用户名输入规范</td></tr><tr><td>Login.Input.Keyword</td><td>在用户输入结束密码时，系统应该判断密码是否符合密码输入规范</td></tr><tr><td>Login.Input.Click</td><td>在用户点击“登录”按键时，系统应该判断用户名是否在数据库中，并判断用户名和密码是否对应</td></tr><tr><td>Login.Input.Invalid</td><td>在判断用户输入的用户名或密码不符合规范时，系统应该在用户名或密码的输入文本框后显示“输入无效”</td></tr><tr><td>Login.Input.Error</td><td>在判断用户输入的用户名错误，或用户名和密码不对应后，系统应该弹出“用户名或密码错误”弹窗，并返回登录界面，清空密码输入文本框的输入</td></tr></tbody></table></div><h4 id="3-2-2客户管理"><a href="#3-2-2客户管理" class="headerlink" title="3.2.2客户管理"></a>3.2.2客户管理</h4><h5 id="3-2-2-1特性描述"><a href="#3-2-2-1特性描述" class="headerlink" title="3.2.2.1特性描述"></a>3.2.2.1特性描述</h5><pre><code>    在管理后台能集中对客户的信息内容进行增、删、改、查，其中用户的属性包括编号、分类（供应商、销售商）、级别（五级,一级普通用 户，五级 VIP 客户）、姓名、电话、地址、邮编、电子邮箱、应收额度（本公司给客 户的信用额度，客户欠本公司的钱的总额不能超过应收额度）、应收（客户还应付给 本公司但还未付的钱）、应付（本公司欠客户的钱）、默认业务员。客户信息需        要实时显示在客户端。客户管理功能针对不同用户分级管理，并进行不同的操作授权。</code></pre><h5 id="3-2-2-2刺激-响应序列"><a href="#3-2-2-2刺激-响应序列" class="headerlink" title="3.2.2.2刺激/响应序列"></a>3.2.2.2刺激/响应序列</h5><pre><code>刺激：用户要求增加客户条目，点击增加的“+”按键。响应：系统转到创建客户条目界面。刺激：用户要求删除客户条目，点击删除的“-”按键。响应：系统在客户列表中删除该客户条目。刺激：用户输入客户编号。响应：系统标记销售任务的客户。刺激：用户要求更改客户信息，点击“修改客户信息”按键。响应：系统转到修改客户条目界面。刺激：用户输入客户信息。响应：系统判断客户信息是否符合客户信息规范。刺激：用户取消客户管理任务。响应：系统关闭客户管理任务。</code></pre><h5 id="3-2-2-3相关功能需求"><a href="#3-2-2-3相关功能需求" class="headerlink" title="3.2.2.3相关功能需求"></a>3.2.2.3相关功能需求</h5><div class="table-container"><table><thead><tr><th>Customer.input</th><th>系统应允许用户在用户管理时进行键鼠输入</th></tr></thead><tbody><tr><td>Customer.Input.Add</td><td>用户点击“+”时，系统执行添加任务,参见Customer.Add</td></tr><tr><td>Customer.Input.Del</td><td>用户点击“-”时，系统执行删除任务参见Customer.Del</td></tr><tr><td>Customer.Input.Change</td><td>用户点击“修改”时，系统执行改动任务，参见Customer.Change</td></tr><tr><td>Customer.Input.Search</td><td>用户选中输入框进行输入时，系统执行搜索任务，参见Customer,search</td></tr><tr><td>Customer.Input.Authority</td><td>用户更改相关客户信息但权限不够时，系统显示“无法更改”</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>Customer.Add</th><th>系统根据用户输入添加客户信息</th></tr></thead><tbody><tr><td>Customer.Add.Invalid</td><td>输入信息不符合规范时，系统显示“输入无效”</td></tr><tr><td>Customer.Add.Null</td><td>用户未输入信息就结束输入，系统不做任何处理</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>Customer.Del.Null</th><th>用户未输入信息就结束输入，系统不做任何处理</th></tr></thead><tbody><tr><td>Customer.Del.Custumer</td><td>用户从客户列表中选中待删除客户时，删除该客户信息</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>Customer.Change</th><th>系统根据用户输入修改客户信息</th></tr></thead><tbody><tr><td>Customer.Change.Invalid</td><td>输入信息不符合规范时，系统显示“输入无效”</td></tr><tr><td>Customer.Change.Null</td><td>用户未输入信息就结束输入，系统不做任何处理</td></tr><tr><td>Customer.Change.Authority</td><td>用户更改相关客户信息但权限不够时，系统显示“无法更改”</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>Customer.search</th><th>系统根据用户输入信息进行模糊查找</th></tr></thead><tbody><tr><td>Customer.search.Display</td><td>系统将符合模糊查找要求的所有用户列表展示</td></tr><tr><td>Customer.search.Choose</td><td>当用户选中列表某一用户，系统仅展示该用户信息</td></tr></tbody></table></div><h4 id="3-2-3销售处理系统"><a href="#3-2-3销售处理系统" class="headerlink" title="3.2.3销售处理系统"></a>3.2.3销售处理系统</h4><h5 id="3-2-3-1特性描述"><a href="#3-2-3-1特性描述" class="headerlink" title="3.2.3.1特性描述"></a>3.2.3.1特性描述</h5><pre><code>    进货销售人员要能够制定进货单和进货退货单(包含单据编号（格式为：JHD-yyyyMMdd-xxxxx， 后五位每天从 1 开始编号，所以一天最多可以生成 99999 条单子），供应商，仓库，操作员，入库商品列表，备注，总额合计。)、制定销售单和销售退货单（包括：单据编号（XSD-yyyyMMdd-xxxxx），客户 （仅显示销售商），业务员（和这个客户打交道的公司员工，可以设置一个客户的默 认业务员），操作员（当前登录系统的用户），仓库，出货商品清单，折让前总额， 折让，使用代金卷金额，折让后总额，备注。出货商品清单中要显示商品的编号**，** 名称（从商品选择界面选择），型号，数量（手工输入），单价（默认为商品信息里 的销售价，可修改），金额（自动生成），商品备注。销售单通过审批后，会更改库存数据和客户的应收应付数据。）。单据的成功新建必须要通过销售经理和总经理的审批，否则进货销售人员需要重新编辑并提交。</code></pre><h5 id="3-2-3-2刺激-响应序列"><a href="#3-2-3-2刺激-响应序列" class="headerlink" title="3.2.3.2刺激/响应序列"></a>3.2.3.2刺激/响应序列</h5><pre><code>刺激：进货销售人员要求新建进货单或进货退货单。响应：系统新建进货单或进货退货单，按格式生成单据编号，包含供应商，仓库，操作员，入库商品列表，备注，总额合计。刺激：进货销售人员输入供应商、仓库、操作员。响应：系统显示输入。刺激：进货销售人员在入库商品列表中手动输入或从列表选择商品名称、数量、单价、备注。响应：系统显示输入并判断已输入信息是否足以计算出商品编号、型号、金额，若是，则计算并显示。刺激：进货销售人员结束输入。响应：系统计算并显示总金额。刺激：进货销售人员确认单据并提交审批。响应：系统显示已提交销售经理并提醒销售经理审批。刺激：销售经理审批通过。响应：系统显示已提交上级审批并提醒总经理审批。刺激：总经理审批通过。响应：系统告知进货销售人员和销售经理审批已通过并更改库存数据和客户的应收应付数据。刺激：销售经理或总经理审批不通过。响应：系统提醒进货销售人员修改单据。刺激：进货销售人员要求新建销售单或销售退货单。响应：系统新建销售单或销售退货单，按格式生成单据编号，单据包含客户、业务员、操作员、仓库、出货商品清单、折让前总额、折    让、使用代金卷金额、折让后总额、备注。刺激：进货销售人员输入客户、业务员、操作员、仓库折让前总额、折让、使用代金卷金额、备注。响应：系统显示输入。刺激：进货销售人员在出货商品清单中手动输入或从列表选择商品名称、数量、单价、备注。响应：系统显示输入并判断已输入信息是否足以计算出商品编号、型号、金额，若是，则计算并显示。刺激：进货销售人员结束输入。响应：系统计算并显示折让后总额。</code></pre><p>（审批的刺激和响应与上文新建进货单相同）</p><h5 id="3-2-3-3相关功能需求"><a href="#3-2-3-3相关功能需求" class="headerlink" title="3.2.3.3相关功能需求"></a>3.2.3.3相关功能需求</h5><div class="table-container"><table><thead><tr><th>Sale.Input</th><th>系统应该允许进货销售人员在销售处理中进行键鼠输入</th></tr></thead><tbody><tr><td>Sale.Input.New</td><td>在进货销售人员请求新建单据时，系统应该判断新建单据类型，如果是进货单或进货退货单，执行其新建任务，参见Sale.Import，如果是销售单或销售退货单，执行其新建任务，参见Sale.Export</td></tr><tr><td>Sale.Input.Renew</td><td>进货销售人员收到单据被上级审批不通过的通知时，系统要允许进货销售人员重新编辑该单据并提交。</td></tr><tr><td>Sale.Input.Submit</td><td>在进货销售人员点击保存并提交按钮时，系统显示提交成功并关闭新建任务，把新建的单据传递给销售经理。</td></tr><tr><td>Sale.Input.Check1</td><td>在销售经理点击“通过”按键时，系统显示已通过，并把单据传递给总经理；点击“不通过”按键时，系统显示不通过，并要求进货销售人员修改。</td></tr><tr><td>Sale.Input.Check2</td><td>在总经理点击“通过”按键时，系统显示已通过，告知进货销售人员和销售经理审批已通过，并更改库存数据和客户的应收应付数据；点击“不通过”按键时，系统显示不通过，并要求进货销售人员修改。</td></tr><tr><td>Sale.Import.Start</td><td>系统按格式生成单据编号，显示编号和单据其他信息，系统要允许进货销售人员进行输入。</td></tr><tr><td>Sale.Import.Goods</td><td>系统显示输入的信息，并判断已输入信息是否足以计算出商品编号、型号、金额，若是，则计算并显示。</td></tr><tr><td>Sale.Import.Goods.Num</td><td>如果进货销售人员输入了大于1的整数商品数量，系统修改商品数量为输入值，否则系统设置商品数量为1。</td></tr><tr><td>Sale.Import.Calculate</td><td>系统计算商品总价并填充在金额一栏。</td></tr><tr><td>Sale.Export.Start</td><td>系统按格式生成单据编号，显示编号和单据其他信息，系统要允许进货销售人员进行输入。</td></tr><tr><td>Sale.Export.Goods</td><td>系统显示输入的信息，并判断已输入信息是否足以计算出商品编号、型号、金额，若是，则计算并显示。</td></tr><tr><td>Sale.Export.Goods.Num</td><td>如果进货销售人员输入了大于1的整数商品数量，系统修改商品数量为输入值，否则系统设置商品数量为1。</td></tr><tr><td>Sale.Export.Calculate</td><td>系统计算商品总价并填充在折让后总额一栏。</td></tr></tbody></table></div><h4 id="3-2-4财务管理系统"><a href="#3-2-4财务管理系统" class="headerlink" title="3.2.4财务管理系统"></a>3.2.4财务管理系统</h4><h5 id="3-2-4-1賬戶管理"><a href="#3-2-4-1賬戶管理" class="headerlink" title="3.2.4.1賬戶管理"></a>3.2.4.1賬戶管理</h5><p>特征:仅限最高权限可以查看账户名称和余额。账号的属性有：名称和金额。余额不可修改，此数据项取决于收款单和付款单。 账户的增删改查包括增加账户、删除账户、修改账户属性和查询账户。<br>刺激响应序列:</p><p>刺激:財务人员請求查看賬戶</p><p>响应:系统显示所有賬戶數据</p><p>刺激:財务人员选择某个賬戶進行修改刪除</p><p>响应:系统根據輸入內容对儲存的數據進行修改刪除</p><p>刺激:财务人员新增賬戶並填好參數</p><p>响应:系统在數據庫中新增这個賬戶並显示在界面上</p><div class="table-container"><table><thead><tr><th>Financial.getAllBank</th><th>系统獲取全部銀行賬戶信息</th></tr></thead><tbody><tr><td>Financial.createBankAccount</td><td>系统用輸入信息創建銀行賬戶信息，成功提示成功，顯示在界面上，失敗提示原因</td></tr><tr><td>Financial.updateBank</td><td>系统跟據輸入修改賬戶信息，並顯示在界面上</td></tr><tr><td>Financial.deleteBankAccount</td><td>系統刪除对应銀行賬戶</td></tr></tbody></table></div><h4 id="3-2-4-2-制定收-付款单"><a href="#3-2-4-2-制定收-付款单" class="headerlink" title="3.2.4.2 制定收,付款单"></a>3.2.4.2 制定收,付款单</h4><p>特征:制定收款单（新建一个收款单，包含以下信息：单据编号（SKD-yyyyMMdd-xxxxx），客户（同时包含供应商和销售商），操作员（当前登录用户），转账列表，总额汇总。转账列表中的一项包含：银行账户，转账金额，备注。填写完毕后点击“提交”即可入账。收款单通过审批后，会更改客户的应付数据。）。制定付款单（基本同于收款单，只是这个是付款的。）</p><p>刺激:用戶請求新建收款单</p><p>响应:系统根据⽤户角色判断⽤户身份，若為財務則彈出新建表單，若非就報錯</p><p>刺激:用戶輸入收款单信息</p><p>响应:系统獲取表單中輸入的信息，有錯誤或缺省就報錯，沒有則在數據庫中新建这一表單並設為待总經理审批的草稿狀态</p><p>刺激:用戶請求獲取全部收款单(系統也会被动請求)</p><p>响应:系统獲取所有收款单，按狀态分类成待总经理审批、审批成功、审批失败，並依次显示所有收款单</p><p>刺激:总经理审批收款单</p><p>响应:系统进行身份驗證並獲取审批操作，若通过则把单据狀态改為审批成功，並刷新页面重新獲取收款单，同时修改賬戶餘额和客戶的应收应付，若不通过则把狀态改為审批失败</p><div class="table-container"><table><thead><tr><th>Financial.createCollectionSheet</th><th>系统創建收款单</th></tr></thead><tbody><tr><td>Financial.getAllCollection</td><td>獲取所有收款单</td></tr><tr><td>Financial.transferApproval</td><td>审批單据</td></tr><tr><td>customer.getAllCustomer</td><td>獲取全部客戶</td></tr><tr><td>Finalcial.getAllBank</td><td>獲取全部銀行賬戶</td></tr><tr><td>collectionAndPayment.addAccount</td><td>增加賬戶</td></tr></tbody></table></div><p>付款单與收款单基本相同，Finalcial.transferApproval也能作為付款单审批的接口，因為二者基本相同</p><h4 id="3-2-4-3-工资单"><a href="#3-2-4-3-工资单" class="headerlink" title="3.2.4.3 工资单"></a>3.2.4.3 工资单</h4><p>特征: 制定工资单（包含单据编号、员工编号、姓名、银行账户信息、应发工资、扣除税 款（个人所得税、失业保险、住房公积金）、实发金额）  </p><p>刺激:用戶点击创建工资单</p><p>响应:系统显示创建表单，並獲取全部员工姓名显示在下拉列表中</p><p>刺激:用戶鼠标移动到员工姓名上</p><p>响应:系统顥示該名员工的詳細资料，包括各种稅款，实發工资，銀行賬戶等</p><p>其余跟收付款单基本相似</p><div class="table-container"><table><thead><tr><th>Financial.getAllSalarySheet</th><th>獲取所有工资单</th></tr></thead><tbody><tr><td>Financial.createSalarySheet</td><td>創建工资单</td></tr><tr><td>Financial.salarySheetApproval</td><td>工资单审批</td></tr><tr><td>Financial.getAllStaffInfo</td><td>獲取所有员工信息</td></tr><tr><td>SalaryTable.selectStaff</td><td>选择员工</td></tr></tbody></table></div><h4 id="3-2-4-4查看報表"><a href="#3-2-4-4查看報表" class="headerlink" title="3.2.4.4查看報表"></a>3.2.4.4查看報表</h4><p>描述: 查看销售明细表（统计一段时间内商品的销售情况（包括销售和销售后退货），筛 选条件有：时间区间，商品名，客户，业务员，仓库。显示符合上述条件的所有商 品销售记录，以列表形式显示，列表中包含如下信息：时间（精确到天），商品名， 型号，数量，单价，总额。需要支持导出数据。  </p><pre><code>   查看经营历程表（查看一段时间里的所有单据，单据分为：1. 销售类单据（销售出 货单，销售退货单） 2. 进货类单据（进货单，进货退货单） 3. 财务类单据（付 款单，收款单，现金费用单，工资单）4. 库存类单据（报溢单，报损单，赠送单）。 筛选条件为：时间区间，单据类型，客户，业务员，仓库。显示出符合条件的单据 后，可以对单据进行查看操作，但是不可修改和删除。在此可以进行红冲和红冲并 复制的操作，来进行“删除”和“修改”。红冲的具体操作就是：生成一个一模一样但 是仅仅把数量取负数的单子并入账，以此来抵消之前的单子。红冲并复制的操作是 在红冲的基础上，新建一张以之前单子为模板的草稿单，给用户以编辑的机会。)</code></pre><p>刺激:用戶點击查找報表</p><p>响应:系统獲取对应的數據，如銷售明細表則獲取全部的客戶、產品、业務员數據，生成查找條件表單</p><p>刺激:用戶选择相应查找條件</p><p>响应:系统為缺省參數賦上默認值，生成搜查條件表</p><p>刺激:用戶點击查找</p><p>响应:系统筛选出所有符合條件的项，並顯示</p><p>刺激:用戶选择筛选條件</p><p>响应:系统顯示对应的行</p><div class="table-container"><table><thead><tr><th>Financial.getAllSalesmens</th><th>獲取所有业務员</th></tr></thead><tbody><tr><td>Financial. getAllSalesDetails</td><td>獲取所有銷售詳情</td></tr><tr><td>Product.findAllProduct</td><td>獲得所有產品訊息</td></tr><tr><td>Customer.getAllCustomer</td><td>獲得所有客戶</td></tr><tr><td>Financial.getAllBusinessHistory</td><td>獲得所有銷售历程表</td></tr></tbody></table></div><h3 id="3-3性能需求"><a href="#3-3性能需求" class="headerlink" title="3.3性能需求"></a>3.3性能需求</h3><h4 id="3-3-1數据精确度"><a href="#3-3-1數据精确度" class="headerlink" title="3.3.1數据精确度"></a>3.3.1數据精确度</h4><pre><code>本系统软件对于数据精确度的设计和实现没有特殊的要求，計算金额結果位數最多為小数点后兩位</code></pre><h4 id="3-3-2時間特性"><a href="#3-3-2時間特性" class="headerlink" title="3.3.2時間特性"></a>3.3.2時間特性</h4><pre><code>1.程序响应時間不能超过3秒2.更新处理時間不能超过3秒3.數據轉換與傳輸時間不能超过3秒4.數據增刪改查時間不能超过3秒5.数據計算時間不能超过1秒</code></pre><h4 id="3-3-3灵活性"><a href="#3-3-3灵活性" class="headerlink" title="3.3.3灵活性"></a>3.3.3灵活性</h4><pre><code>操作方式：鼠标鍵盤觸控屏皆可操作运行环境：windows7或以上环境运行有效时限：当时间限制超标时，如响应时间超时、更新时间延迟，界面会出现“重新刷新”等选项，从而重新发出请求，等待响应</code></pre><h3 id="3-4约束"><a href="#3-4约束" class="headerlink" title="3.4约束"></a>3.4约束</h3><pre><code>IC1:系统要在网络上分布为一个服务器和多个客户端</code></pre><h3 id="3-5质量属性"><a href="#3-5质量属性" class="headerlink" title="3.5质量属性"></a>3.5质量属性</h3><h4 id="3-5-1可用性"><a href="#3-5-1可用性" class="headerlink" title="3.5.1可用性"></a>3.5.1可用性</h4><pre><code>Useability1:用户经简单培训可五天内熟悉使用该系统</code></pre><h4 id="3-5-2可靠性"><a href="#3-5-2可靠性" class="headerlink" title="3.5.2可靠性"></a>3.5.2可靠性</h4><pre><code>Reliability1:客户端与服务端通信时，如果网络故障，系统不能出现故障Reliability2:系统应有足够存储空间保存时长一年的所有修改记录Reliability3:系统每过半小时对当前系统信息的备份进行更新</code></pre><h4 id="3-5-3可维护性"><a href="#3-5-3可维护性" class="headerlink" title="3.5.3可维护性"></a>3.5.3可维护性</h4><pre><code>Modifiability1:系统要增加新的会员服务，要能够在0.25个人月内完成Modifiability2:系统的商品标识数据格式发生变化时，系统要能在3人1天内完成</code></pre><h4 id="3-5-4安全性"><a href="#3-5-4安全性" class="headerlink" title="3.5.4安全性"></a>3.5.4安全性</h4><pre><code>Safety1:系统只允许经过验证和授权的用户访问Safety2:系统根据用户验证身份给予不同层次权限Safety3:系统有一个默认的管理员账户</code></pre><h3 id="3-6其他需求"><a href="#3-6其他需求" class="headerlink" title="3.6其他需求"></a>3.6其他需求</h3><pre><code>安装需求Install1:安装系统时，要初始化用户、商品库存、客户信息等重要数据。Install2:系统投入使用时，对用户要进行一个星期的集中培训。</code></pre>]]></content>
      
      
      <categories>
          
          <category> 煩人作業 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 項目 </tag>
            
            <tag> 文檔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>庫存管理系統(ERP)-用例文檔</title>
      <link href="/2022/03/22/%E5%BA%AB%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1(ERP)-%E7%94%A8%E4%BE%8B%E6%96%87%E6%AA%94/"/>
      <url>/2022/03/22/%E5%BA%AB%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%B5%B1(ERP)-%E7%94%A8%E4%BE%8B%E6%96%87%E6%AA%94/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-引言"><a href="#1-引言" class="headerlink" title="1.引言"></a>1.引言</h2><h3 id="1-1目的"><a href="#1-1目的" class="headerlink" title="1.1目的"></a>1.1目的</h3><pre><code>    本文档描述了企业集成式管理系统ERP中销售管理模块的功能需求和非功能需求。</code></pre><h3 id="1-2参考文献"><a href="#1-2参考文献" class="headerlink" title="1.2参考文献"></a>1.2参考文献</h3><pre><code>    1. IEEE标准。    2. seec-helper [http://helper.seecoder.cn/](http://helper.seecoder.cn/)    3.《软件工程与计算（卷二） 软件开发的技术基础》 骆斌， 丁二玉， 刘钦 机械工业出版社</code></pre><h2 id="2-用例列表"><a href="#2-用例列表" class="headerlink" title="2.用例列表"></a>2.用例列表</h2><div class="table-container"><table><thead><tr><th><strong>参与者</strong></th><th><strong>用例</strong></th></tr></thead><tbody><tr><td>财务人员</td><td>1.账户管理</td></tr><tr><td></td><td>2.制定收款单</td></tr><tr><td></td><td>3.制定付款单</td></tr><tr><td></td><td>4.制定工资单</td></tr><tr><td></td><td>5.查看销售明细表</td></tr><tr><td></td><td>6.查看经营历程表</td></tr><tr><td></td><td>7.查看经营情况表</td></tr><tr><td></td><td>8.期初建账</td></tr><tr><td>人力资源管理人员</td><td>9.登记员工信息</td></tr><tr><td></td><td>10.设置岗位信息</td></tr><tr><td></td><td>11.打卡管理</td></tr><tr><td></td><td>12.薪酬规则制定</td></tr><tr><td>总经理</td><td>13.审批单据</td></tr><tr><td></td><td>14.制定促销策略</td></tr><tr><td></td><td>15.制定年终奖</td></tr><tr><td></td><td>5.查看销售明细表</td></tr><tr><td></td><td>6.查看经营历程表</td></tr><tr><td></td><td>7.查看经营情况表</td></tr></tbody></table></div><h2 id="3-详细用例描述"><a href="#3-详细用例描述" class="headerlink" title="3.详细用例描述"></a>3.详细用例描述</h2><p>用例1 账户管理</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>账户管理</strong></th></tr></thead><tbody><tr><td>参与者</td><td>财务人员</td></tr><tr><td>触发条件</td><td>财务人员需要对账户进行增删改查。</td></tr><tr><td>前置条件</td><td>财务人员登录并且具有最高权限。</td></tr><tr><td>后置条件</td><td>更新账户信息。</td></tr><tr><td>正常流程</td><td>1.财务人员登入系统。 2.财务人员选择要进行的操作。2.1.（查看账户）用户选择查看账户，系统显示账户信息列表，包括名称和金额2.2.用户输入要查询的账户的名称，系统定位到该账户并显示该账户信息2.3.（增加账户）用户选择增加账户，系统显示要求输入名称和金额2.4.用户输入新账户的名称和金额并确认，系统生成并保存新帐户信息2.5.（删除账户）用户选择删除账户，系统显示要求输入名称 2.6.用户输入要删除的账户名称并确认，系统删除该账户信息 2.7 （修改账户）用户选择修改账户，系统显示要求输入名称2.8 用户输入要修改的账户名称并确认，系统显示该账户的账户信息2.9用户选中名称字段进行修改并选择保存，系统保存新的账户信息用户重复2中的增删改查操作直到所有操作完毕。</td></tr><tr><td>扩展流程</td><td>2.2a 用户输入的账户名称不存在1.系统提示不存在该账户2.4a 用户输入的账户名称已经存在1.系统提示该账户已存在并要求重新输入名称 2.6a 用户输入的账户名称不存在1.系统提示不存在该账户2.8a 用户输入的账户名称不存在1.系统提示不存在该账户</td></tr><tr><td>特殊需求</td><td>用户必须具有最高权限</td></tr></tbody></table></div><p>用例2 制定收款单</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>制定收款单</strong></th></tr></thead><tbody><tr><td>参与者</td><td>财务人员</td></tr><tr><td>触发条件</td><td>客户向公司付款</td></tr><tr><td>前置条件</td><td>财务人员被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.财务人员登入系统。2.用户选择新建收款单据，输入收款单信息(客户、操作员、转账列表，转账列表中的一项包含：银行账户、转账金额、备注)。3.用户确认输入完毕，系统自动生成并显示单据编号、总款汇额。4.用户提交收款单，系统将收款单入账并将收款单纳入审核列表</td></tr><tr><td>扩展流程</td><td>2a 用户输入的客户编号不存在1.系统提示客户不存在2b、用户输入的银行账号不存在1.系统提示银行账号不存在</td></tr><tr><td>特殊需求</td><td>单据编号格式为SKD-yyyyMMdd-xxxxx且一天最多生成99999个单子</td></tr></tbody></table></div><p>用例3 制定付款单</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>制定付款单</strong></th></tr></thead><tbody><tr><td>参与者</td><td>财务人员</td></tr><tr><td>触发条件</td><td>公司向客户付款</td></tr><tr><td>前置条件</td><td>财务人员被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.财务人员登入系统。2.用户选择新建付款单据，输入付款单信息(包括银行账户、条目清单、总额，条目清单中包括：条目名，金额，备注。)。3.用户确认输入完毕，系统自动生成并显示单据编号、总额。4.用户提交付款单，系统将收款单入账并将收款单纳入审核列表</td></tr><tr><td>扩展流程</td><td>2a 用户输入的客户编号不存在1.系统提示客户不存在2b、用户输入的银行账号不存在1.系统提示银行账号不存在</td></tr><tr><td>特殊需求</td><td>单据编号格式为XJFYD-yyyyMMdd-xxxxx且一天最多生成99999个单子</td></tr></tbody></table></div><p>用例4 制定工资单</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>制定工资单</strong></th></tr></thead><tbody><tr><td>参与者</td><td>财务人员</td></tr><tr><td>触发条件</td><td>员工发放工资</td></tr><tr><td>前置条件</td><td>财务人员被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.财务人员登入系统。2.用户选择新建单据，输入员工编号，系统填入编号并自动生成姓名、银行账户信息、应发工资、扣除税款（个人所得税、失业保险、住房公积金）、实发金额3.用户提交工资单，系统自动生成并显示单据编号，并将工资单纳入审核列表。</td></tr><tr><td>扩展流程</td><td>2a 用户输入的员工编号不存在1.系统提示员工不存在</td></tr><tr><td>特殊需求</td><td>无</td></tr></tbody></table></div><p>用例5 查看销售明细表</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>查看销售明细表</strong></th></tr></thead><tbody><tr><td>参与者</td><td>财务人员、总经理</td></tr><tr><td>触发条件</td><td>用户发起查看销售明细表请求</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>无</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择查看销售明细表，输入筛选条件(包括时间区间，商品名，客户，业务员，仓库)。3.显示符合上述条件的所有商品销售记录，以列表形式显示（包括时间（精确到天），商品名，型号，数量，单价，总额。 ）</td></tr><tr><td>扩展流程</td><td>2a 用户输入的筛选条件没有符合的记录1.系统提示暂无相关记录</td></tr><tr><td>特殊需求</td><td>需要支持导出excel</td></tr></tbody></table></div><p>用例6 查看经营历程表</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>查看经营历程表</strong></th></tr></thead><tbody><tr><td>参与者</td><td>财务人员、总经理</td></tr><tr><td>触发条件</td><td>用户发起查看经营历程表请求</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>无</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择查看经营历程表，输入筛选条件(包括时间区间，单据类型，客户，业务员，仓库)。3.显示符合上述条件的所有单据（包括1. 销售类单据（销售出货单，销售退货单） 2. 进货类单据（进货单，进货退货单） 3. 财务类单据（付款单，收款单，现金费用单，工资单）4. 库存类单据（报溢单，报损单，赠送单）。 ）</td></tr><tr><td>扩展流程</td><td>2a 用户输入的筛选条件没有符合的记录1.系统提示暂无相关记录</td></tr><tr><td>特殊需求</td><td>需要支持导出excel</td></tr></tbody></table></div><p>用例7 查看经营情况表</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>查看经营情况表</strong></th></tr></thead><tbody><tr><td>参与者</td><td>财务人员、总经理</td></tr><tr><td>触发条件</td><td>用户发起查看经营情况表请求</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>无</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择查看经营情况表，输入筛选条件：时间区间。3.显示时间区间内的所有经营收支状况和利润（包括1. 收入类<strong>：</strong>销售收入、商品类收入（商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入）。收入类显示折让后总收入，并显示折让了多少。2. 支出类：销售成本、商品类支出（商品报损 商品赠出）、人力成本。支出类显示总支出。3. 利润：折让后总收入<strong>-</strong>总支出。））</td></tr><tr><td>扩展流程</td><td>2a 用户输入的筛选条件没有符合的记录1.系统提示暂无相关记录</td></tr><tr><td>特殊需求</td><td>需要支持导出excel</td></tr></tbody></table></div><p>用例8 期初建账</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>期初建账</strong></th></tr></thead><tbody><tr><td>参与者</td><td>财务人员</td></tr><tr><td>触发条件</td><td>财务人员发起期初建账请求</td></tr><tr><td>前置条件</td><td>财务人员被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.财务人员登入系统。2.用户选择期初建账，输入信息(包括添加商品信息（商品分类，某一商品的名称，类别，型号，进价/售价(默认为上年平均)，最近进价和最近售价留空），客户信息（客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)），银行账户信息（名称，余额）)。3.系统将信息单独储存起来，同时将此信息作为系统的启动初始状态</td></tr><tr><td>扩展流程</td><td>2a 用户输入的信息不符合规范1.系统提示输入格式错误</td></tr><tr><td>特殊需求</td><td>期初信息不会被改变并且随时可查。</td></tr></tbody></table></div><p>用例9 登记员工信息</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>登记员工信息</strong></th></tr></thead><tbody><tr><td>参与者</td><td>人力资源管理人员</td></tr><tr><td>触发条件</td><td>员工入职</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择登记员工信息，输入信息(姓名、性别、出生日期、手机、工作岗位、基本工资、岗位工资、岗位级别、薪资计算方式、薪资方法方式、工资卡账户)。3.系统为登记的员工创建账号用户重复操作2，3步直到登记完毕</td></tr><tr><td>扩展流程</td><td>2a 用户输入的信息不符合规范1.系统提示输入格式错误</td></tr><tr><td>特殊需求</td><td>无</td></tr></tbody></table></div><p>用例10 设置岗位信息</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>设置岗位信息</strong></th></tr></thead><tbody><tr><td>参与者</td><td>人力资源管理人员</td></tr><tr><td>触发条件</td><td>用户发起设置岗位信息请求</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择设置岗位信息，输入信息(岗位和其对应的基本工资、岗位工资、岗位级别、薪资计算方式、薪资发放方式、扣税信息等制度信息)。3.系统保存相关数据用户重复操作2，3步直到登记完毕</td></tr><tr><td>扩展流程</td><td>2a 用户输入的信息不符合规范1.系统提示输入格式错误</td></tr><tr><td>特殊需求</td><td>无</td></tr></tbody></table></div><p>用例11 打卡管理</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>打卡管理</strong></th></tr></thead><tbody><tr><td>参与者</td><td>人力资源管理人员</td></tr><tr><td>触发条件</td><td>每天结束</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择打卡管理，查看除了总经理外没有打卡的员工，扣除基本工资的1/303.系统保存相关数据</td></tr><tr><td>扩展流程</td><td>无</td></tr><tr><td>特殊需求</td><td>无</td></tr></tbody></table></div><p>用例12 薪酬规则制定</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>薪酬规则制定</strong></th></tr></thead><tbody><tr><td>参与者</td><td>人力资源管理人员</td></tr><tr><td>触发条件</td><td>用户发起薪酬规则制定请求</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择制定薪酬规则，把库存人员和人力资源人员设置为月薪制、销售人员设置为基本工资+提成的制度、总经理设置为年薪制 3.系统保存相关数据</td></tr><tr><td>扩展流程</td><td>无</td></tr><tr><td>特殊需求</td><td>无</td></tr></tbody></table></div><p>用例13 审批单据</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>审批单据</strong></th></tr></thead><tbody><tr><td>参与者</td><td>总经理</td></tr><tr><td>触发条件</td><td>用户发起审批单据请求</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择审批单据，系统显示所有单据的状态 （草稿状态，提交状态，审批后状态）3.用户选择查看、修改或通过审批，系统修改单据的状态</td></tr><tr><td>扩展流程</td><td>无</td></tr><tr><td>特殊需求</td><td>用户可以批量审批</td></tr></tbody></table></div><p>用例14 制定促销策略</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>制定促销策略</strong></th></tr></thead><tbody><tr><td>参与者</td><td>总经理</td></tr><tr><td>触发条件</td><td>用户发起制定促销策略请求</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择制定促销策略，选择起止时间和销售策略（1. 针对不同级别的用户制定促销策略（赠品、价格折让、赠送代金劵）。 2. 制定特价包（组合商品降价）。 3. 制定针对不同总价的促销策略（赠品、赠送代金卷）。）3.所有赠品条件触发后，系统自动建立库存赠送单，由总经理审批通过后，发送消息给库存管理员发放赠品。</td></tr><tr><td>扩展流程</td><td>3a 审批不通过1.总经理重新制定促销策略</td></tr><tr><td>特殊需求</td><td>无</td></tr></tbody></table></div><p>用例15 制定年终奖</p><div class="table-container"><table><thead><tr><th><strong>项目</strong></th><th><strong>制定年终奖</strong></th></tr></thead><tbody><tr><td>参与者</td><td>总经理</td></tr><tr><td>触发条件</td><td>每年12月底</td></tr><tr><td>前置条件</td><td>用户被识别并授权</td></tr><tr><td>后置条件</td><td>系统保存相关信息</td></tr><tr><td>正常流程</td><td>1.用户登入系统。2.用户选择制定年终奖，系统显示之前 11 个月的工资收入总和3.用户考虑税务问题后根据个人每年综合表现制定年终奖</td></tr><tr><td>扩展流程</td><td>无</td></tr><tr><td>特殊需求</td><td>无</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> 煩人作業 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 項目 </tag>
            
            <tag> 文檔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterfly外挂標簽引入</title>
      <link href="/2021/08/02/Butterfly%E5%A4%96%E6%8C%82%E6%A8%99%E7%B0%BD%E5%BC%95%E5%85%A5/"/>
      <url>/2021/08/02/Butterfly%E5%A4%96%E6%8C%82%E6%A8%99%E7%B0%BD%E5%BC%95%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>  文章主體是博客最為重要的部分，一切內容都由它來承載。hexo支持顯示.md文件，但Markdown語法自帶的標簽有點少，玩法有所限制，於是可以通過引入主題外挂標簽的方式來使內容更加豐富。</p><h2 id="確保先引入了外挂摽簽"><a href="#確保先引入了外挂摽簽" class="headerlink" title="確保先引入了外挂摽簽"></a>確保先引入了外挂摽簽</h2><p> 雖然Butterfly有內置折疊框hideToggle標簽，但是Volantis的folding更好看點<br><details class="folding-tag" yellow><summary> 引入外挂標簽 </summary>              <div class='content'>              <ol><li>安裝插件，在根目錄打開終端運行:<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-tag-plugins-plus --save</span><br></pre></td></tr></table></figure></li><li>hexo自帶的markdown渲染插件<code>hexo-renderer-marked</code>和外挂標簽語法兼容性較差，建議換成<code>hexo-renderer-kramed</code><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure></li><li>添加配置信息<br>在站點配置文件加或者主題配置文件加都行<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tag_plugins:</span><br><span class="line">  enable: true # 开关</span><br><span class="line">  priority: 5 #过滤器优先权</span><br><span class="line">  issues: false #issues标签依赖注入开关</span><br><span class="line">  link:</span><br><span class="line">    placeholder: /img/link.png #link_card标签默认的图标图片</span><br><span class="line">  CDN:</span><br><span class="line">    anima: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css #动画标签anima的依赖</span><br><span class="line">    jquery: https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js #issues标签依赖</span><br><span class="line">    issues: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js #issues标签依赖</span><br><span class="line">    iconfont: //at.alicdn.com/t/font_2032782_8d5kxvn09md.js</span><br><span class="line">    carousel: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js</span><br><span class="line">    tag_plugins_css: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css</span><br></pre></td></tr></table></figure></li><li>參數釋義</li></ol><div class="table-container"><table><thead><tr><th>參數</th><th>備選值/類型</th><th style="text-align:left">釋義</th></tr></thead><tbody><tr><td>enable</td><td>true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td>priority</td><td>number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td>issues</td><td>true/false</td><td style="text-align:left">【可选】issues标签控制开关，默认为false</td></tr><tr><td>link.placeholder</td><td>URL</td><td style="text-align:left">【必选】link卡片外挂標簽的默認圖</td></tr><tr><td>CDN.anima</td><td>URL</td><td style="text-align:left">【可选】动画标签anima的依赖</td></tr><tr><td>CDN.jquery</td><td>URL</td><td style="text-align:left">【可选】issues标签依赖</td></tr><tr><td>CDN.issues</td><td>URL</td><td style="text-align:left">【可选】issues标签依赖</td></tr><tr><td>CDN.iconfont</td><td>URL</td><td style="text-align:left">【可选】iconfont标签symbol样式引入，如果不想引入，则设为false</td></tr><tr><td>CDN.carousel</td><td>URL</td><td style="text-align:left">【可选】carousel旋转相册标签鼠标拖动依赖，如果不想引入则设为false</td></tr><tr><td>CDN.tag_plugins_css</td><td>URL</td><td style="text-align:left">【可选】外挂标签样式的CSS依赖，为避免CDN缓存延迟，建议将@latest改为具体版本号</td></tr></tbody></table></div>              </div>            </details></p><h2 id="行內文本樣式-text"><a href="#行內文本樣式-text" class="headerlink" title="行內文本樣式 text"></a>行內文本樣式 text</h2><div class="tabs" id="text"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#text-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#text-2">示例源碼</button></li><li class="tab"><button type="button" data-href="#text-3">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="text-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% u 文本內容 %&#125;</span><br><span class="line">&#123;% emp 文本内容 %&#125;</span><br><span class="line">&#123;% wavy 文本内容 %&#125;</span><br><span class="line">&#123;% del 文本内容 %&#125;</span><br><span class="line">&#123;% kbd 文本内容 %&#125;</span><br><span class="line">&#123;% psw 文本内容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 這是 &#123;% u 下劃線 %&#125; 的效果</span><br><span class="line"><span class="bullet">2.</span> 這是 &#123;% emp 着重號 %&#125; 的效果</span><br><span class="line"><span class="bullet">3.</span> 這是 &#123;% wavy 波浪線 %&#125; 的效果</span><br><span class="line"><span class="bullet">4.</span> 這是 &#123;% del 刪除線 %&#125; 的效果</span><br><span class="line"><span class="bullet">5.</span> 這是帶鍵盤樣式 &#123;% kbd ctrl %&#125; + &#123;% kbd c %&#125;</span><br><span class="line"><span class="bullet">6.</span> 這是密碼樣式的效果: &#123;% psw king真帥! %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="text-3"><ol><li>這是 <u>下劃線</u> 的效果</li><li>這是 <emp>着重號</emp> 的效果</li><li>這是 <wavy>波浪線</wavy> 的效果</li><li>這是 <del>刪除線</del> 的效果</li><li>這是帶鍵盤樣式 <kbd>ctrl</kbd> + <kbd>c</kbd></li><li>這是密碼樣式的效果: <psw>king真帥!</psw></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="行內文本-span"><a href="#行內文本-span" class="headerlink" title="行內文本 span"></a>行內文本 span</h2><div class="tabs" id="span"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#span-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#span-2">配置參數</button></li><li class="tab"><button type="button" data-href="#span-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#span-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="span-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% span 樣式的參數，以空格劃分，文本內容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="span-2"><ol><li>字體: logo，code</li><li>顏色: <span class='p red'>red</span>、<span class='p yellow'>yellow</span>、<span class='p green'>green</span>、<span class='p cyan'>cyan</span>、<span class='p blue'>blue</span>、<span class='p gray'>gray</span></li><li>大小: small,h4,3,2,1,large,huge,ultra</li><li>對齊方向: left,center,right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="span-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 組合示例，比如輸入&#123;% span red code,顏色和字體的組合 %&#125;，&#123;% span yellow right, 向右對齊的黃色字 %&#125;</span><br><span class="line">2. 字體</span><br><span class="line">&#123;% span center logo ultra red, KingHong %&#125;</span><br><span class="line">&#123;% span center logo huge yellow, KingHong %&#125;</span><br><span class="line">&#123;% span center logo large green, KingHong %&#125;</span><br><span class="line">&#123;% span center logo small cyan, KingHong %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="span-4"><details class="folding-tag" yellow><summary> 渲染示例 </summary>              <div class='content'>              <ol><li>組合示例，比如輸入<span class='p red code'>顏色和字體的組合</span>，<span class='p yellow right'>向右對齊的黃色字</span></li><li>字體<br><span class='p center logo ultra red'>KingHong</span><br><span class='p center logo huge yellow'>KingHong</span><br><span class='p center logo large green'>KingHong</span><br><span class='p center logo small cyan'>KingHong</span></li></ol>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="段落文本-p"><a href="#段落文本-p" class="headerlink" title="段落文本 p"></a>段落文本 p</h2><div class="tabs" id="p"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#p-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#p-2">配置參數</button></li><li class="tab"><button type="button" data-href="#p-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#p-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="p-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% p 樣式的參數，以空格劃分，文本內容 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="p-2"><ol><li>字體: logo，code</li><li>顏色: <span class='p red'>red</span>、<span class='p yellow'>yellow</span>、<span class='p green'>green</span>、<span class='p cyan'>cyan</span>、<span class='p blue'>blue</span>、<span class='p gray'>gray</span></li><li>大小: small,h4,3,2,1,large,huge,ultra</li><li>對齊方向: left,center,right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="p-3"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 組合示例，比如輸入&#123;% p red code,顏色和字體的組合 %&#125;、&#123;% p yellow right, 向右對齊的黃色字 %&#125;、&#123;% p gray center,顏色和對齊 %&#125;、&#123;% p blue,藍色 %&#125;</span><br><span class="line">2. 字體</span><br><span class="line">&#123;% p center logo ultra red, KingHong %&#125;</span><br><span class="line">&#123;% p center logo huge yellow, KingHong %&#125;</span><br><span class="line">&#123;% p center logo large green, KingHong %&#125;</span><br><span class="line">&#123;% p center logo small cyan, KingHong %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="p-4"><details class="folding-tag" yellow><summary> 渲染示例 </summary>              <div class='content'>              <ol><li>組合示例，比如輸入<p class='p red code'>顏色和字體的組合</p>、<p class='p yellow right'>向右對齊的黃色字</p>、<p class='p gray center'>顏色和對齊</p>、<p class='p blue'>藍色</p></li><li>字體<p class='p center logo ultra red'>KingHong</p><p class='p center logo huge yellow'>KingHong</p><p class='p center logo large green'>KingHong</p><p class='p center logo small cyan'>KingHong</p></li></ol>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="引用-note"><a href="#引用-note" class="headerlink" title="引用 note"></a>引用 note</h2><div class="tabs" id="note"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#note-1">通用配置</button></li><li class="tab"><button type="button" data-href="#note-2">標簽語法</button></li><li class="tab"><button type="button" data-href="#note-3">配置參數</button></li><li class="tab"><button type="button" data-href="#note-4">示例源碼</button></li><li class="tab"><button type="button" data-href="#note-5">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="note-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Note tag style values:</span></span><br><span class="line"><span class="section">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line"><span class="section">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line"><span class="section">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line"><span class="section">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  style: simple</span><br><span class="line">icons: false</span><br><span class="line">border<span class="emphasis">_radius: 3</span></span><br><span class="line"><span class="emphasis"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line"><span class="emphasis"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line"><span class="emphasis">light_</span>bg<span class="emphasis">_offset: 0</span></span><br></pre></td></tr></table></figure><div class="note info simple"><p><code>icons</code>和<code>light_bg_offset</code>只對自帶icon方式生效</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 自带icon</span></span><br><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"><span class="section"># 外部icon</span></span><br><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-3"><ol><li>class: 標識，不同的標識有不同的配色(default/primary/success/info/warning/danger)</li><li>no-icon: 不显示icon</li><li>icon: 可配置自定義icon(只支持fontawesome圖標)</li><li>style: 可以覆蓋配置中的style(simple/modern/flat/disabled)</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-4"><details class="folding-tag" yellow><summary> 自帶icon </summary>              <div class='content'>              <ol><li>simple樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>modern樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note modern %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>flat樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note flat %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>disabled樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note disabled %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disabled %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disabled %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disabled %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disabled %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disabled %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disabled %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>no-icon樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;默认 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default no-icon %&#125;default 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125;primary 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success no-icon %&#125;success 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info no-icon %&#125;info 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning no-icon %&#125;warning 提示块标签&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger no-icon %&#125;danger 提示块标签&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><details class="folding-tag" yellow><summary> 外部icon </summary>              <div class='content'>              <ol><li>simple樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;刷Visa嗎?還是UionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; simple %&#125;排好隊，間隔一米距離...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; simple %&#125;撞車啦!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; simple %&#125;小風車~呼~呼~&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; simple %&#125;電量剩一半了...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; simple %&#125;剪刀!蕪我贏了!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;傻逼360&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>mordern樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; modern %&#125;刷Visa嗎?還是UionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern %&#125;排好隊，間隔一米距離...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; modern %&#125;撞車啦!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; modern %&#125;小風車~呼~呼~&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; modern %&#125;電量剩一半了...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; modern %&#125;剪刀!蕪我贏了!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; modern %&#125;傻逼360&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>flat樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;刷Visa嗎?還是UionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;排好隊，間隔一米距離...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;撞車啦!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat %&#125;小風車~呼~呼~&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;電量剩一半了...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;剪刀!蕪我贏了!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;傻逼360&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>disabled樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; disabled %&#125;刷Visa嗎?還是UionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;排好隊，間隔一米距離...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; disabled %&#125;撞車啦!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; disabled %&#125;小風車~呼~呼~&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; disabled %&#125;電量剩一半了...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;剪刀!蕪我贏了!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;傻逼360&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li>no-icon樣式<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; no-icon %&#125;刷Visa嗎?還是UionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; no-icon %&#125;排好隊，間隔一米距離...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; no-icon %&#125;撞車啦!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; no-icon %&#125;小風車~呼~呼~&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; no-icon %&#125;電量剩一半了...&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; no-icon %&#125;剪刀!蕪我贏了!&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; no-icon %&#125;傻逼360&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-5"><details class="folding-tag" yellow><summary> 自帶icon </summary>              <div class='content'>              <ol><li><p>simple樣式</p><div class="note simple"><p>默认 提示块标签</p></div><div class="note default simple"><p>default 提示块标签</p></div><div class="note primary simple"><p>primary 提示块标签</p></div><div class="note success simple"><p>success 提示块标签</p></div><div class="note info simple"><p>info 提示块标签</p></div><div class="note warning simple"><p>warning 提示块标签</p></div><div class="note danger simple"><p>danger 提示块标签</p></div></li><li><p>modern樣式</p><div class="note modern"><p>默认 提示块标签</p></div><div class="note default modern"><p>default 提示块标签</p></div><div class="note primary modern"><p>primary 提示块标签</p></div><div class="note success modern"><p>success 提示块标签</p></div><div class="note info modern"><p>info 提示块标签</p></div><div class="note warning modern"><p>warning 提示块标签</p></div><div class="note danger modern"><p>danger 提示块标签</p></div></li><li><p>flat樣式</p><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div></li><li><p>disabled樣式</p><div class="note disabled"><p>默认 提示块标签</p></div><div class="note default disabled"><p>default 提示块标签</p></div><div class="note primary disabled"><p>primary 提示块标签</p></div><div class="note success disabled"><p>success 提示块标签</p></div><div class="note info disabled"><p>info 提示块标签</p></div><div class="note warning disabled"><p>warning 提示块标签</p></div><div class="note danger disabled"><p>danger 提示块标签</p></div></li><li><p>no-icon樣式</p><div class="note no-icon flat"><p>默认 提示块标签</p></div><div class="note default no-icon flat"><p>default 提示块标签</p></div><div class="note primary no-icon flat"><p>primary 提示块标签</p></div><div class="note success no-icon flat"><p>success 提示块标签</p></div><div class="note info no-icon flat"><p>info 提示块标签</p></div><div class="note warning no-icon flat"><p>warning 提示块标签</p></div><div class="note danger no-icon flat"><p>danger 提示块标签</p></div></li></ol>              </div>            </details><details class="folding-tag" yellow><summary> 外部icon </summary>              <div class='content'>              <ol><li><p>simple樣式</p><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>刷Visa嗎?還是UionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>排好隊，間隔一米距離…</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>撞車啦!</p></div><div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>小風車~呼~呼~</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>電量剩一半了…</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>剪刀!蕪我贏了!</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>傻逼360</p></div></li><li><p>mordern樣式</p><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>刷Visa嗎?還是UionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>排好隊，間隔一米距離…</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>撞車啦!</p></div><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>小風車~呼~呼~</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>電量剩一半了…</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀!蕪我贏了!</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>傻逼360</p></div></li><li><p>flat樣式</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>刷Visa嗎?還是UionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>排好隊，間隔一米距離…</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>撞車啦!</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>小風車~呼~呼~</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>電量剩一半了…</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀!蕪我贏了!</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>傻逼360</p></div></li><li><p>disabled樣式</p><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>刷Visa嗎?還是UionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>排好隊，間隔一米距離…</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>撞車啦!</p></div><div class="note red icon-padding disabled"><i class="note-icon fas fa-fan"></i><p>小風車~呼~呼~</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>電量剩一半了…</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>剪刀!蕪我贏了!</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>傻逼360</p></div></li><li><p>no-icon樣式</p><div class="note fab fa-cc-visa no-icon flat"><p>刷Visa嗎?還是UionPay</p></div><div class="note blue fas fa-bullhorn no-icon flat"><p>排好隊，間隔一米距離…</p></div><div class="note pink fas fa-car-crash no-icon flat"><p>撞車啦!</p></div><div class="note red fas fa-fan no-icon flat"><p>小風車~呼~呼~</p></div><div class="note orange fas fa-battery-half no-icon flat"><p>電量剩一半了…</p></div><div class="note purple far fa-hand-scissors no-icon flat"><p>剪刀!蕪我贏了!</p></div><div class="note green fab fa-internet-explorer no-icon flat"><p>傻逼360</p></div></li></ol>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="上標標簽-tip"><a href="#上標標簽-tip" class="headerlink" title="上標標簽 tip"></a>上標標簽 tip</h2><div class="tabs" id="tip"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tip-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#tip-2">配置參數</button></li><li class="tab"><button type="button" data-href="#tip-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#tip-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tip-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip 樣式的參數，以空格劃分 %&#125;文本內容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tip-2"><ol><li>樣式: success,error,warning,bolt,ban,home,sync,cogs,key,bell</li><li>自定義圖標: 支持fontawesome</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tip-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip %&#125;default&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip info %&#125;info&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip success %&#125;success&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip error %&#125;error&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip warning %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bolt %&#125;bolt&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip home %&#125;home&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip sync %&#125;sync&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip cogs %&#125;cogs&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip key %&#125;key&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bell %&#125;bell&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip fa-atom %&#125;自定义font awesome图标&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tip-4"><div class="tip "><p>default</p></div><div class="tip info"><p>info</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>自定义font awesome图标</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="動態標簽-animated"><a href="#動態標簽-animated" class="headerlink" title="動態標簽 animated"></a>動態標簽 animated</h2><div class="note info simple faa-horizontal animated flat"><p>动态标签的实质是引用了 font-awesome-animation 的 css 样式，不一定局限于 tip 标签，也可以是其他标签。</p></div><div class="tabs" id="animated"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#animated-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#animated-2">配置參數</button></li><li class="tab"><button type="button" data-href="#animated-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#animated-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="animated-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip 參數，以空格劃分 %&#125;文本內容&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="animated-2"><ol><li>將所需的CSS類添加到圖標（或DOM中的任何元素）。</li><li>對於父級懸停樣式，需要給目標元素添加指定CSS類，同時还要给目標元素的父級元素添加CSS類faa-parent animated-hover。（详情见示例及示例源码）</li><li>可以通过给目标元素添加CSS类faa-fast或faa-slow来控制动画快慢。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="animated-3"><ol><li>On DOM load(當頁面加載時顯示動畫)<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></li><li>調整動畫速度<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated faa-fast %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated faa-slow %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></li><li>on hover<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated-hover %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated-hover %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></li><li>on parent hover<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-horizontal&quot;</span>&gt;</span></span>warning<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-flash&quot;</span>&gt;</span></span>ban<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="animated-4"><ol><li><p>On DOM load(當頁面加載時顯示動畫)</p><div class="tip warning faa-horizontal animated"><p>warning</p></div><div class="tip ban faa-flash animated"><p>ban</p></div></li><li><p>調整動畫速度</p><div class="tip warning faa-horizontal animated faa-fast"><p>warning</p></div><div class="tip ban faa-flash animated faa-slow"><p>ban</p></div></li><li><p>on hover</p><div class="tip warning faa-horizontal animated-hover"><p>warning</p></div><div class="tip ban faa-flash animated-hover"><p>ban</p></div></li><li><p>on parent hover</p><div class="tip warning faa-parent animated-hover"><p class="faa-horizontal">warning</p></div><div class="tip ban faa-parent animated-hover"><p class="faa-flash">ban</p></div></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="折疊框-folding"><a href="#折疊框-folding" class="headerlink" title="折疊框 folding"></a>折疊框 folding</h2><div class="tabs" id="folding"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#folding-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#folding-2">配置參數</button></li><li class="tab"><button type="button" data-href="#folding-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#folding-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="folding-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding 參數(可選)，標題 %&#125;</span><br><span class="line">被折疊的東西</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="folding-2"><ol><li>顏色: blue,cyan,green,yellow,red</li><li>狀態: 填open代表默認打開</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="folding-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding 查看图片测试 %&#125;</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/12/05/rD4auUOEWljf8Rc.png</span>)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, 查看默认打开的折叠框 %&#125;</span><br><span class="line"></span><br><span class="line">这是一个默认打开的折叠框。</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, 查看代码测试 %&#125;</span><br><span class="line">代碼块</span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, 查看列表测试 %&#125;</span><br><span class="line"><span class="bullet">-</span> 肚子</span><br><span class="line"><span class="bullet">-</span> 好餓</span><br><span class="line"><span class="bullet">-</span> 想吃</span><br><span class="line"><span class="bullet">-</span> 東西</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, 查看嵌套测试 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, 查看嵌套测试2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding 查看嵌套测试3 %&#125;</span><br><span class="line"></span><br><span class="line">套娃成功! <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://s2.loli.net/2022/12/06/nRym16UNhKwIlrX.jpg&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="folding-4"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="特效標簽wow"><a href="#特效標簽wow" class="headerlink" title="特效標簽wow"></a>特效標簽wow</h2><details class="folding-tag" yellow><summary> 要先裝插件 </summary>              <div class='content'>              <ol><li>安裝插件，根目錄運行指令<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure></li><li>添加配置信息，站點配置和主題配置都行<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">wowjs:</span><br><span class="line">  enable: true #控制动画开关。true是打开，false是关闭</span><br><span class="line">  priority: 10 #过滤器优先级</span><br><span class="line">  mobile: false #移动端是否启用，默认移动端禁用</span><br><span class="line">  animateitem:</span><br><span class="line">    - class: recent-post-item #必填项，需要添加动画的元素的class</span><br><span class="line">      style: animate__zoomIn #必填项，需要添加的动画</span><br><span class="line">      duration: 2s #选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span><br><span class="line">      delay: 1s #选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span><br><span class="line">      offset: 100 #选填项，开始动画的距离（相对浏览器底部）</span><br><span class="line">      iteration: 2 #选填项，动画重复的次数</span><br><span class="line">    - class: card-widget</span><br><span class="line">      style: animate__zoomIn</span><br><span class="line">  animate_css: https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</span><br><span class="line">  wow_js: https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</span><br><span class="line">  wow_init_js: https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</span><br></pre></td></tr></table></figure></li></ol>              </div>            </details><div class="tabs" id="note"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#note-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#note-2">配置參數</button></li><li class="tab"><button type="button" data-href="#note-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#note-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="note-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow [animete],[duration],[delay],[ofset],[iteration] %&#125;</span><br><span class="line">內容</span><br><span class="line">&#123;% endwow %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-2"><ol><li>animate: 動畫樣式，詳見<a href="https://animate.style/">animate.css參考文檔</a></li><li>duration: 可選，動畫持續時間，單位可以是ms也可以是s</li><li>delay: 可選，動畫開始的延遲時間</li><li>offset: 可選，開始動畫的距離(相對瀏覽器底部)</li><li>iteration: 可選，動畫的重复次數</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-3"><ol><li>flip動畫效果<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__flip %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note green &#x27;fas fa-fan&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`flip`动画效果</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure></li><li>zoomIn動畫效果，持续5s，延时5s，离底部100距離時启動，重复10次<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`动画效果，持续`5s`，延时`5s`，离底部`100`距离时启动，重复`10`次</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure></li><li>slideInRight動畫效果，持續5s，延時5s<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__slideInRight,5s,5s %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note orange &#x27;fas fa-car&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`slideInRight`动画效果，持续`5s`，延时`5s`。</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure></li><li>heartBeat动画效果，延时5s，重复10次。此处注意不用的参数位置要留空，用逗号间隔<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__heartBeat,,5s,,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note red &#x27;fas fa-battery-half&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`heartBeat`动画效果，延时`5s`，重复`10`次。</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-4"><ol><li><p>flip動畫效果</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note green icon-padding modern"><i class="note-icon fas fa-fan"></i><p><code>flip</code>动画效果</p></div></div></li><li><p>zoomIn動畫效果，持续5s，延时5s，离底部100距離時启動，重复10次</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>动画效果，持续<code>5s</code>，延时<code>5s</code>，离底部<code>100</code>距离时启动，重复<code>10</code>次</p></div></div></li><li><p>slideInRight動畫效果，持續5s，延時5s</p><div class='wow animate__slideInRight' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-car"></i><p><code>slideInRight</code>动画效果，持续<code>5s</code>，延时<code>5s</code>。</p></div></div></li><li><p>heartBeat动画效果，延时5s，重复10次。此处注意不用的参数位置要留空，用逗号间隔</p><div class='wow animate__heartBeat' data-wow-duration='' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='10' ><div class="note red icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p><code>heartBeat</code>动画效果，延时<code>5s</code>，重复<code>10</code>次。</p></div></div></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="分欄-tab"><a href="#分欄-tab" class="headerlink" title="分欄 tab"></a>分欄 tab</h2><div class="tabs" id="tab"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#tab-2">配置參數</button></li><li class="tab"><button type="button" data-href="#tab-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#tab-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-2"><ol><li>Unique name :</li></ol><ul><li>选项卡块标签的唯一名称，不带逗号。</li><li>将在#id中用作每个标签及其索引号的前缀。</li><li>如果名称中包含空格，则对于生成#id，所有空格将由破折号代替。</li><li>仅当前帖子/页面的URL必须是唯一的！</li></ul><ol><li>[index]:</li></ol><ul><li>活动选项卡的索引号。</li><li>如果未指定，将选择第一个标签（1）。</li><li>如果index为-1，则不会选择任何选项卡。</li></ul><ol><li>[Tab caption]:</li></ol><ul><li>当前选项卡的标题。</li><li>如果未指定标题，则带有制表符索引后缀的唯一名称将用作制表符的标题。</li><li>如果未指定标题，但指定了图标，则标题将为空。</li></ul><ol><li>[@icon]:</li></ol><ul><li>FontAwesome图标名称（全名，看起来像“ fas fa-font”）</li><li>可以指定带空格或不带空格；<br>例如’Tab caption @icon’ 和 ‘Tab caption@icon’.</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-3"><ol><li><p>預設選擇第一個</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></li><li><p>預設選擇tabs</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></li><li><p>自定義Tab名/只有icon/icon和Tab名</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字为第一个Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有图标 没有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab-4"><ol><li>預設選擇第一個<div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><ol><li><p>預設選擇tabs</p><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li><li><p>自定義Tab名/只有icon/icon和Tab名</p><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸弹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字为第一个Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h2 id="注釋-notation"><a href="#注釋-notation" class="headerlink" title="注釋 notation"></a>注釋 notation</h2><div class="tabs" id="notation"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#notation-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#notation-2">配置參數</button></li><li class="tab"><button type="button" data-href="#notation-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#notation-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="notation-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota [label], [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="notation-2"><ol><li>label: 注釋詞</li><li>text: 懸停顯示的注解內容</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="notation-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota KingHong ,是個帥哥 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="notation-4"><p><span class='nota' data-nota='是個帥哥'>KingHong</span></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="氣泡注釋-bubble"><a href="#氣泡注釋-bubble" class="headerlink" title="氣泡注釋 bubble"></a>氣泡注釋 bubble</h2><div class="tip warning"><p>為避免CDN緩存延遲，建議將配置文件中CDN.tag_plugins_css中@latest改為具體版本，當前版本應為 @1.0.17</p></div><div class="tabs" id="bubbles"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#bubbles-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#bubbles-2">配置參數</button></li><li class="tab"><button type="button" data-href="#bubbles-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#bubbles-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="bubbles-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bubble [content], [notation],[background-color] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="bubbles-2"><ol><li>content: 注譯詞</li><li>notation: 懸停顯示的注釋內容</li><li>background-color: 氣泡背景色，默認為”#71a4e3”</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="bubbles-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">今天，&#123;% bubble 柒頭,&quot;柒头是一个汉语词汇，读音qi tou，基本意思为用作形容人面目可憎而且笨拙&quot; %&#125; 芝士又做左一堆&#123;% bubble 戆鸠,&quot;形容人傻乎乎的样子，常被欺骗&quot;,&quot;#1db675&quot; %&#125;野，真的笑死人</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="bubbles-4"><p>今天，<span class="bubble-content">柒頭</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">柒头是一个汉语词汇，读音qi tou，基本意思为用作形容人面目可憎而且笨拙</span>&lt;/span&gt;芝士又做左一堆<span class="bubble-content">戆鸠</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#1db675;">形容人傻乎乎的样子，常被欺骗</span>&lt;/span&gt;野，真的笑死人</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="引用文獻-reference"><a href="#引用文獻-reference" class="headerlink" title="引用文獻 reference"></a>引用文獻 reference</h2><div class="tabs" id="reference"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#reference-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#reference-2">配置參數</button></li><li class="tab"><button type="button" data-href="#reference-3">示例源碼</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="reference-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% referto [id] , [literature] %&#125;</span><br><span class="line">&#123;% referfrom [id] , [literature] , [url] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="reference-2"><ol><li>referto 引用上標<ul><li>id: 上標序號內容，需與referfrom標簽的id對應</li><li>literature: 引用的參考文獻名稱</li></ul></li><li>referfrom 引用出處<ul><li>id</li><li>literature</li><li>url: 參考文獻鏈接</li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="reference-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">《原神》是由上海米哈游网络科技股份有限公司&#123;% referto &quot;[1]&quot;,&quot;米哈游网络科技股份有限公司&quot; %&#125;制作发行的一款开放世界&#123;% referto &quot;[2]&quot;, &quot;開放世界&quot; %&#125;冒险游戏，游戏发生在一个被称作“提瓦特大陆”&#123;% referto &quot;[3]&quot;,&quot;提瓦特大陸&quot; %&#125;的幻想世界，在这里，被神选中的人将被授予“神之眼”&#123;% referto &quot;[4]&quot;, &quot;神之眼&quot; %&#125;，导引元素之力。玩家将扮演一位名为“旅行者”&#123;% referto &quot;[5]&quot;,&quot;旅行者&quot; %&#125;的神秘角色，在自由的旅行中邂逅性格各异、能力独特的同伴们，和他们一起击败强敌，找回失散的亲人——同时，逐步发掘“原神”的真相</span><br><span class="line">&#123;% referfrom &quot;[1]&quot;, &quot;米哈游网络科技股份有限公司&quot;, &quot;https://baike.baidu.com/item/%E4%B8%8A%E6%B5%B7%E7%B1%B3%E5%93%88%E6%B8%B8%E7%BD%91%E7%BB%9C%E7%A7%91%E6%8A%80%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8/19987087?fromModule=lemma<span class="emphasis">_inlink&quot;%&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &quot;[2]&quot;, &quot;开放世界&quot;, &quot;https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E4%B8%96%E7%95%8C/15488017?fromModule=lemma_</span>inlink&quot;%&#125;</span><br><span class="line">&#123;% referfrom &quot;[3]&quot;, &quot;提瓦特大陆&quot;, &quot;https://baike.baidu.com/item/%E6%8F%90%E7%93%A6%E7%89%B9%E5%A4%A7%E9%99%86/24692279?fromModule=lemma<span class="emphasis">_inlink&quot;%&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &quot;[4]&quot;, &quot;神之眼&quot;, &quot;https://baike.baidu.com/item/%E7%A5%9E%E4%B9%8B%E7%9C%BC/24699755?fromModule=lemma_</span>inlink&quot;%&#125;</span><br><span class="line">&#123;% referfrom &quot;[5]&quot;, &quot;旅行者&quot;, &quot;https://baike.baidu.com/item/%E6%97%85%E8%A1%8C%E8%80%85/24692330?fromModule=lemma<span class="emphasis">_inlink&quot;%&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>《原神》是由上海米哈游网络科技股份有限公司<span class="hidden-anchor" id="referto_[1]"></span><sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">米哈游网络科技股份有限公司</span><span class="reference-title">参考资料</span></span></span>制作发行的一款开放世界<span class="hidden-anchor" id="referto_[2]"></span><sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature"> 開放世界</span><span class="reference-title">参考资料</span></span></span>冒险游戏，游戏发生在一个被称作“提瓦特大陆”<span class="hidden-anchor" id="referto_[3]"></span><sup class="reference"><a href="#referfrom_[3]">[3]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">提瓦特大陸</span><span class="reference-title">参考资料</span></span></span>的幻想世界，在这里，被神选中的人将被授予“神之眼”<span class="hidden-anchor" id="referto_[4]"></span><sup class="reference"><a href="#referfrom_[4]">[4]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature"> 神之眼</span><span class="reference-title">参考资料</span></span></span>，导引元素之力。玩家将扮演一位名为“旅行者”<span class="hidden-anchor" id="referto_[5]"></span><sup class="reference"><a href="#referfrom_[5]">[5]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">旅行者</span><span class="reference-title">参考资料</span></span></span>的神秘角色，在自由的旅行中邂逅性格各异、能力独特的同伴们，和他们一起击败强敌，找回失散的亲人——同时，逐步发掘“原神”的真相<br><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href=" https://baike.baidu.com/item/%E4%B8%8A%E6%B5%B7%E7%B1%B3%E5%93%88%E6%B8%B8%E7%BD%91%E7%BB%9C%E7%A7%91%E6%8A%80%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8/19987087?fromModule=lemma_inlink"> 米哈游网络科技股份有限公司</a></div><br><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href=" https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E4%B8%96%E7%95%8C/15488017?fromModule=lemma_inlink"> 开放世界</a></div><br><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href=" https://baike.baidu.com/item/%E6%8F%90%E7%93%A6%E7%89%B9%E5%A4%A7%E9%99%86/24692279?fromModule=lemma_inlink"> 提瓦特大陆</a></div><br><div class="reference-source"><span class="hidden-anchor" id="referfrom_[4]"></span><a class="reference-anchor" href="#referto_[4]">[4]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href=" https://baike.baidu.com/item/%E7%A5%9E%E4%B9%8B%E7%9C%BC/24699755?fromModule=lemma_inlink"> 神之眼</a></div><br><div class="reference-source"><span class="hidden-anchor" id="referfrom_[5]"></span><a class="reference-anchor" href="#referto_[5]">[5]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href=" https://baike.baidu.com/item/%E6%97%85%E8%A1%8C%E8%80%85/24692330?fromModule=lemma_inlink"> 旅行者</a></div></p><h2 id="PDF展示-pdf"><a href="#PDF展示-pdf" class="headerlink" title="PDF展示 pdf"></a>PDF展示 pdf</h2><div class="tabs" id="note"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#note-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#note-2">配置參數</button></li><li class="tab"><button type="button" data-href="#note-3">示例源碼</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="note-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf 文件路徑 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-2"><p>文件路徑可以是相對路徑或是在線鏈接</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="note-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.本地文件:在md文件路径下创建一个同名文件夹，其内放pdf文件名为xxx.pdf的文件</span></span><br><span class="line">&#123;% pdf xxx.pdf %&#125;</span><br><span class="line"><span class="section"># 2.在线链接</span></span><br><span class="line">&#123;% pdf https://XXXXXXXXXX.pdf %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="Hexo-tag-map插件"><a href="#Hexo-tag-map插件" class="headerlink" title="Hexo-tag-map插件"></a>Hexo-tag-map插件</h2><div class="note info simple"><p><a href="https://github.com/kuole-o/hexo-tag-map">項目倉庫地址</a>，用<code>npm i hexo-tag-map --save</code>下載</p></div><div class="tabs" id="map"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#map-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#map-2">配置參數</button></li><li class="tab"><button type="button" data-href="#map-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#map-4">注意事項</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="map-1"><p><div class="note info simple"><p>全局語法</p></div><br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% + 标签值 + 经度 + 纬度 + 文本 + 缩放等级 + 宽 + 高 + 默认图层 + %&#125;</span><br></pre></td></tr></table></figure><br>如:<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% map 120.101101,30.239119, 这里是西湖灵隐寺，据说求姻缘很灵验哦！, 15, 100%, 360px, 1 %&#125;</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="map-2"><div class="table-container"><table><thead><tr><th>地图名</th><th>标签值 &lt;必填&gt;</th><th>宽 (默认 100%) / 高 (默认 360px)</th><th>缩放等级 (默认 14)</th><th>宽 (默认 100%) / 高 (默认 360px)</th><th>默认图层 (默认 1)</th></tr></thead><tbody><tr><td>混合地图</td><td>map</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 3~18</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 1~7</td></tr><tr><td>谷歌地图</td><td>googleMap</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 1~20</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 1~3</td></tr><tr><td>高德地图</td><td>gaodeMap</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 3~18</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 1~3</td></tr><tr><td>百度地图</td><td>baiduMap</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 4~18</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 1~2</td></tr><tr><td>Geoq 地图</td><td>geoqMap</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 1~18</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 1~5</td></tr><tr><td>openstreet 地图</td><td>openstreetMap</td><td>百分数或具体值 (100% 或 360px)</td><td>取值 1~18</td><td>百分数或具体值 (100% 或 360px)</td><td>不支持此参数</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="map-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% map 118.78,32.06 %&#125;</span><br><span class="line">&#123;% gaodeMap 118.78,32.06,這裏是南哪大學 %&#125;</span><br><span class="line">&#123;% geoqMap 118.78,32.06,這裏是南哪大學, 13, 90%, 320px,3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="map-4"><ol><li>参数之间，用英文逗号相隔</li><li>参数必须按上述事例顺序输入，不得为空</li><li>同一个页面，同一组经纬度值，只能插入一个相同标签值的地图 (若有需要，可以将第二个地图上，经度或纬度末尾删除一两个数)</li><li>参数取值必须在上述范围内</li><li>默认图层：即地图叠加层的值，默认常规地图还是卫星地图，可按地图显示顺序取值</li><li>缩放等级，数字越大，地图比例尺越小，显示的越精细</li><li>除标签值外，其他参数选填，但 每个参数的左边的参数必填</li><li>谷歌地图需要外网才能加载查看</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div class="map-box"><div id="map-118.78-32.06" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div></div><script type="text/javascript">var normalm=L.tileLayer.chinaProvider('GaoDe.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imgm=L.tileLayer.chinaProvider('GaoDe.Satellite.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imga=L.tileLayer.chinaProvider('GaoDe.Satellite.Annotion',{maxZoom:20,minZoom:1,attribution:'Amap'});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'});routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1,attribution:'Google Maps'});var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:21,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm]),image=L.layerGroup([imgm,imga]);var baseLayers={"高德地图":normal,"智图地图":normalm1,"谷歌地图":normalMap,"高德卫星地图":imgm,"谷歌卫星地图":satelliteMap,"高德卫星标注":image,"谷歌卫星标注":routeMap};var mymap=L.map('map-118.78-32.06',{center:[32.06,118.78],zoom:14,layers:[normal],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div class="map-box"><div id="gaodeMap-118.78-32.06" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div></div><script type="text/javascript">var normalm=L.tileLayer.chinaProvider('GaoDe.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imgm=L.tileLayer.chinaProvider('GaoDe.Satellite.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imga=L.tileLayer.chinaProvider('GaoDe.Satellite.Annotion',{maxZoom:20,minZoom:1,attribution:'Amap'});var normal=L.layerGroup([normalm]),image=L.layerGroup([imgm,imga]);var baseLayers={"高德地图":normal,"高德卫星地图":imgm,"高德卫星标注":image};var mymap=L.map('gaodeMap-118.78-32.06',{center:[32.06,118.78],zoom:14,layers:[normal],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);var marker = L.marker(['32.06','118.78']).addTo(mymap);marker.bindPopup("這裏是南哪大學").openPopup();</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="geoqMap-118.78-32.06" style="max-width:90%; height:320px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm2=L.tileLayer.chinaProvider('Geoq.Normal.PurplishBlue',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm3=L.tileLayer.chinaProvider('Geoq.Normal.Gray',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm4=L.tileLayer.chinaProvider('Geoq.Normal.Warm',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm5=L.tileLayer.chinaProvider('Geoq.Theme.Hydro',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm1,normalm2,normalm3,normalm4,normalm5]);var baseLayers={"智图地图":normalm1,"午夜蓝":normalm2,"灰色":normalm3,"暖色":normalm4,"水系":normalm5};var mymap=L.map("geoqMap-118.78-32.06",{center:[32.06,118.78],zoom:13,layers:[normalm3],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'放大',zoomOutTitle:'缩小'}).addTo(mymap);var marker = L.marker(['32.06','118.78']).addTo(mymap);marker.bindPopup("這裏是南哪大學").openPopup();</script><h2 id="隱藏块-hideBlock"><a href="#隱藏块-hideBlock" class="headerlink" title="隱藏块 hideBlock"></a>隱藏块 hideBlock</h2><div class="tabs" id="hideblock"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#hideblock-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#hideblock-2">配置參數</button></li><li class="tab"><button type="button" data-href="#hideblock-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#hideblock-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="hideblock-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hideblock-2"><ol><li>content：要隐藏的内容</li><li>display：展示前按钮显示的文字（可选）</li><li>bg：按钮的背景颜色（可选）</li><li>color：按钮显示的文字的颜色（可选）</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hideblock-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock 猜猜裏面是啥, yellow %&#125;</span><br><span class="line">这里有张图片：</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://s2.loli.net/2022/12/06/nRym16UNhKwIlrX.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;蕪&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:67%;&quot;</span> /&gt;</span></span></span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="hideblock-4"><div class="hide-block"><button type="button" class="hide-button" style="background-color:  yellow;">猜猜裏面是啥    </button><div class="hide-content"><p>这里有张图片：<br><img src="https://s2.loli.net/2022/12/06/nRym16UNhKwIlrX.jpg" alt="蕪" style="zoom:67%;" /></p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="時間軸-timeline"><a href="#時間軸-timeline" class="headerlink" title="時間軸 timeline"></a>時間軸 timeline</h2><div class="tabs" id="timeline"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#timeline-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#timeline-2">配置參數</button></li><li class="tab"><button type="button" data-href="#timeline-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#timeline-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="timeline-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 时间线标题（可选）[,color] %&#125;</span><br><span class="line">&lt;!-- timeline 时间节点（标题） --&gt;</span><br><span class="line">正文内容</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline 时间节点（标题） --&gt;</span><br><span class="line">正文内容</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="timeline-2"><ol><li>title:标题/时间线</li><li>color:timeline颜色:default(留空)/blue/pink/red/purple/orange/green</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="timeline-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 时间轴样式,blue %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-07-24 [<span class="string">2.6.6 -&gt; 3.0</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 如果有 <span class="code">`hexo-lazyload-image`</span> 插件，需要删除并重新安装最新版本，设置 <span class="code">`lazyload.isSPA: true`</span>。</span><br><span class="line"><span class="bullet">2.</span> 2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <span class="code">`use_cdn: true`</span> 则需要删除。</span><br><span class="line"><span class="bullet">3.</span> 2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</span><br><span class="line"><span class="bullet">4.</span> 2.x 版本的置顶 <span class="code">`top: true`</span> 改为了 <span class="code">`pin: true`</span>，并且同样适用于 <span class="code">`layout: page`</span> 的页面。</span><br><span class="line"><span class="bullet">5.</span> 如果使用了 <span class="code">`hexo-offline`</span> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-05-15 [<span class="string">2.6.3 -&gt; 2.6.6</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6</span>) --&gt;</span><br><span class="line"></span><br><span class="line">不需要额外处理。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-04-20 [<span class="string">2.6.2 -&gt; 2.6.3</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 全局搜索 <span class="code">`seotitle`</span> 并替换为 <span class="code">`seo_title`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的索引规则有变，使用 group 组件的文章内，<span class="code">`group: group_name`</span> 对应的组件名必须是 <span class="code">`group_name`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的列表名优先显示文章的 <span class="code">`short_title`</span> 其次是 <span class="code">`title`</span>。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="timeline-4"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>时间轴样式</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>如果有 <code>hexo-lazyload-image</code> 插件，需要删除并重新安装最新版本，设置 <code>lazyload.isSPA: true</code>。</li><li>2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <code>use_cdn: true</code> 则需要删除。</li><li>2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</li><li>2.x 版本的置顶 <code>top: true</code> 改为了 <code>pin: true</code>，并且同样适用于 <code>layout: page</code> 的页面。</li><li>如果使用了 <code>hexo-offline</code> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>不需要额外处理。</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>全局搜索 <code>seotitle</code> 并替换为 <code>seo_title</code>。</li><li>group 组件的索引规则有变，使用 group 组件的文章内，<code>group: group_name</code> 对应的组件名必须是 <code>group_name</code>。</li><li>group 组件的列表名优先显示文章的 <code>short_title</code> 其次是 <code>title</code>。</li></ol></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="复選列表-checkbox"><a href="#复選列表-checkbox" class="headerlink" title="复選列表 checkbox"></a>复選列表 checkbox</h2><div class="tabs" id="checkbox"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#checkbox-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#checkbox-2">配置參數</button></li><li class="tab"><button type="button" data-href="#checkbox-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#checkbox-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="checkbox-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="checkbox-2"><ol><li>样式: plus, minus, times</li><li>颜色: red,yellow,green,cyan,blue,gray</li><li>选中状态: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="checkbox-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 纯文本测试 %&#125;</span><br><span class="line">&#123;% checkbox checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% checkbox red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% checkbox green checked, 绿色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, 黄色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, 青色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox blue checked, 蓝色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, 增加 %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, 减少 %&#125;</span><br><span class="line">&#123;% checkbox times red checked, 叉 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="checkbox-4"><div class='checkbox'><input type="checkbox" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>支持自定义颜色</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>绿色 + 默认选中</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>黄色 + 默认选中</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>青色 + 默认选中</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>蓝色 + 默认选中</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>增加</p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>减少</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>叉</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="單選列表-radio"><a href="#單選列表-radio" class="headerlink" title="單選列表 radio"></a>單選列表 radio</h2><div class="tabs" id="radio"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#radio-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#radio-2">配置參數</button></li><li class="tab"><button type="button" data-href="#radio-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#radio-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="radio-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="radio-2"><ol><li>颜色: red,yellow,green,cyan,blue,gray</li><li>选中状态: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="radio-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 纯文本测试 %&#125;</span><br><span class="line">&#123;% radio checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% radio red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% radio green, 绿色 %&#125;</span><br><span class="line">&#123;% radio yellow, 黄色 %&#125;</span><br><span class="line">&#123;% radio cyan, 青色 %&#125;</span><br><span class="line">&#123;% radio blue, 蓝色 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="radio-4"><div class='checkbox'><input type="radio" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="radio" />            <p>支持自定义颜色</p>            </div><div class='checkbox green'><input type="radio" />            <p>绿色</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>黄色</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>青色</p>            </div><div class='checkbox blue'><input type="radio" />            <p>蓝色</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="鏈接卡片-link"><a href="#鏈接卡片-link" class="headerlink" title="鏈接卡片 link"></a>鏈接卡片 link</h2><div class="tabs" id="link"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#link-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#link-2">示例源碼</button></li><li class="tab"><button type="button" data-href="#link-3">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="link-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link 标题, 链接, 图片链接（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="link-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link King&#x27;sBackyard, https://hongzixian.cn, https://s2.loli.net/2022/11/22/gqkpnz3Prte8RQU.jpg %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="link-3"><div class="tag link"><a class="link-card" title="King'sBackyard" href="https://hongzixian.cn"><div class="left"><img src="https://s2.loli.net/2022/11/22/gqkpnz3Prte8RQU.jpg"/></div><div class="right"><p class="text">King'sBackyard</p><p class="url">https://hongzixian.cn</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="網站卡片-sites"><a href="#網站卡片-sites" class="headerlink" title="網站卡片 sites"></a>網站卡片 sites</h2><div class="tabs" id="sites"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#sites-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#sites-2">示例源碼</button></li><li class="tab"><button type="button" data-href="#sites-3">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="sites-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sites-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site king&#x27;s, url=https://hongzixian.cn, screenshot=https://s2.loli.net/2022/12/06/cSMbWATylXwQNLI.png, avatar=https://s2.loli.net/2022/11/22/gqkpnz3Prte8RQU.jpg, description=俺的東東 %&#125;</span><br><span class="line">&#123;% site BiliBili, url=https://www.bilibili.com/, screenshot=https://s2.loli.net/2022/12/06/tW5U4n6degiGJ3s.png, avatar=https://s2.loli.net/2022/12/06/tW5U4n6degiGJ3s.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sites-3"><div class="site-card-group"><a class="site-card" href="https://hongzixian.cn"><div class="img"><img src="https://s2.loli.net/2022/12/06/cSMbWATylXwQNLI.png"/></div><div class="info"><img src="https://s2.loli.net/2022/11/22/gqkpnz3Prte8RQU.jpg"/><span class="title">king's</span><span class="desc">俺的東東</span></div></a><a class="site-card" href="https://www.bilibili.com/"><div class="img"><img src="https://s2.loli.net/2022/12/06/tW5U4n6degiGJ3s.png"/></div><div class="info"><img src="https://s2.loli.net/2022/12/06/tW5U4n6degiGJ3s.png"/><span class="title">BiliBili</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png"/><span class="title">MHuiG</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg"/><span class="title">Colsrch</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png"/></div><div class="info"><img src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png"/><span class="title">Linhk1606</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="行內圖片-inlineimage"><a href="#行內圖片-inlineimage" class="headerlink" title="行內圖片 inlineimage"></a>行內圖片 inlineimage</h2><div class="tabs" id="inlineimage"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#inlineimage-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#inlineimage-2">配置參數</button></li><li class="tab"><button type="button" data-href="#inlineimage-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#inlineimage-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="inlineimage-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% inlineimage 图片链接, height=高度（可选） %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inlineimage-2"><ul><li>高度：height=20px</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inlineimage-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">介紹下，這是&#123;% inlineimage https://s2.loli.net/2022/12/06/i6uUN2ltRP8MLeZ.webp %&#125;我老婆</span><br><span class="line"></span><br><span class="line">嘿，變小&#123;% inlineimage https://s2.loli.net/2022/12/06/i6uUN2ltRP8MLeZ.webp, height=40px %&#125;吧!</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="inlineimage-4"><p>介紹下，這是<img no-lazy class="inline" src="https://s2.loli.net/2022/12/06/i6uUN2ltRP8MLeZ.webp" style="height:1.5em"/>我老婆</p><p>嘿，變大<img no-lazy class="inline" src="https://s2.loli.net/2022/12/06/i6uUN2ltRP8MLeZ.webp" style="height:50px;"/>吧!</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="音頻-audio"><a href="#音頻-audio" class="headerlink" title="音頻 audio"></a>音頻 audio</h2><div class="tabs" id="audio"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#audio-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#audio-2">示例源碼</button></li><li class="tab"><button type="button" data-href="#audio-3">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="audio-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio 音频链接 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="audio-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio https://github.com/a2064777923/KingHongCloud/raw/main/%E7%BA%A6%E5%AE%9A%20-%20%E7%8E%8B%E8%8F%B2.mp3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="audio-3"><div class="audio"><audio controls preload><source src='https://github.com/a2064777923/KingHongCloud/raw/main/%E7%BA%A6%E5%AE%9A%20-%20%E7%8E%8B%E8%8F%B2.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note info simple"><p>如果想放視頻的話，把標簽改成video就好了</p></div><h2 id="相册-gallery"><a href="#相册-gallery" class="headerlink" title="相册 gallery"></a>相册 gallery</h2><div class="tabs" id="gallery"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#gallery-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#gallery-2">配置參數</button></li><li class="tab"><button type="button" data-href="#gallery-3">示例源碼</button></li><li class="tab"><button type="button" data-href="#gallery-4">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="gallery-1"><ol><li>gallerygroup 相册圖庫<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li>gallery 相册<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 圖片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="gallery-2"><ul><li>gallerygroup 相册圖庫</li></ul><ol><li>name: 圖庫名字</li><li>description: 圖庫描述</li><li>link: 鏈接到對應相册的地址</li><li>img-url: 圖庫封面</li></ol><ul><li>gallery 相册<br>新的Gallery相册会自动根据图片长度进行排版，书写也更加方便，与markdown格式一样。可根据需要插入到相应的md。无需再自己配置长宽。建议在粘贴时故意使用长短、大小、横竖不一的图片，会有更好的效果。（尺寸完全相同的图片只会平铺输出，效果很糟糕）</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="gallery-3"><ol><li>gallerygroup<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup MC 在Rikkaの六花服务器里留下的足迹 &#x27;/gallery/MC/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup Gundam 哦咧哇gundam哒！ &#x27;/gallery/Gundam/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png %&#125;</span><br><span class="line">&#123;% galleryGroup I-am-Akilar 某种意义上也算自拍吧 &#x27;/gallery/I-am-Akilar/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li>gallery<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg</span>)</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="gallery-4"><ol><li><p>gallerygroup</p><div class="gallery-group-main"><figure class="gallery-group"><img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg' alt="Group Image Gallery"><figcaption><div class="gallery-group-name">MC</div><p>在Rikkaの六花服务器里留下的足迹</p><a href='/gallery/MC/'></a></figcaption></figure></li></ol>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Gundam</div>  <p>哦咧哇gundam哒！</p>  <a href='/gallery/Gundam/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">I-am-Akilar</div>  <p>某种意义上也算自拍吧</p>  <a href='/gallery/I-am-Akilar/'></a>  </figcaption>  </figure><p>&lt;/div&gt;</p><ol><li>gallery<div class="fj-gallery"><p><img src="https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg" alt=""></p>       </div></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="詩詞標簽-poem"><a href="#詩詞標簽-poem" class="headerlink" title="詩詞標簽 poem"></a>詩詞標簽 poem</h2><div class="tabs" id="poem"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#poem-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#poem-2">示例源碼</button></li><li class="tab"><button type="button" data-href="#poem-3">渲染示例</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="poem-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% poem 詩名,作者 %&#125;</span><br><span class="line">詩詞</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="poem-2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% poem 水调歌头,苏轼 %&#125;</span><br><span class="line">丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。</span><br><span class="line">明月几时有？把酒问青天。</span><br><span class="line">不知天上宫阙，今夕是何年？</span><br><span class="line">我欲乘风归去，又恐琼楼玉宇，高处不胜寒。</span><br><span class="line">起舞弄清影，何似在人间？</span><br><span class="line"></span><br><span class="line">转朱阁，低绮户，照无眠。</span><br><span class="line">不应有恨，何事长向别时圆？</span><br><span class="line">人有悲欢离合，月有阴晴圆缺，此事古难全。</span><br><span class="line">但愿人长久，千里共婵娟。</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="poem-3"><div class='poem'><div class='poem-title'>水调歌头</div><div class='poem-author'>苏轼</div><p>丙辰中秋，欢饮达旦，大醉，作此篇，兼怀子由。<br>明月几时有？把酒问青天。<br>不知天上宫阙，今夕是何年？<br>我欲乘风归去，又恐琼楼玉宇，高处不胜寒。<br>起舞弄清影，何似在人间？</p><p>转朱阁，低绮户，照无眠。<br>不应有恨，何事长向别时圆？<br>人有悲欢离合，月有阴晴圆缺，此事古难全。<br>但愿人长久，千里共婵娟。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="旋轉相册-carousel"><a href="#旋轉相册-carousel" class="headerlink" title="旋轉相册 carousel"></a>旋轉相册 carousel</h2><div class="tabs" id="carousel"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#carousel-1">標簽語法</button></li><li class="tab"><button type="button" data-href="#carousel-2">配置參數</button></li><li class="tab"><button type="button" data-href="#carousel-3">示例源碼</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="carousel-1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% carousel [Id] , [name] %&#125;</span><br><span class="line">![](<span class="link">/img/1.jpg</span>)</span><br><span class="line">![](<span class="link">/img/2.jpg</span>)</span><br><span class="line">![](<span class="link">/img/3,jpg</span>)</span><br><span class="line">&#123;% endcarousel %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="carousel-2"><ol><li>Id: 相册唯一ID，用于监测相册鼠标动作。禁止使用中文。同一页内不得出现相同ID的carousel相册。</li><li>name: 相册中间显示的内容，建议用英文单引号包裹。</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="carousel-3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% carousel &#x27;SISTER&#x27;,&#x27;ohhhhhhh&#x27; %&#125;</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/22/KpEUIoJz1nrmL6P.jpg</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/23/Y6ZSwmLPH7vOeyi.png</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/23/cgS1Mo89mrXuNlj.jpg</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/22/ByYrJqtnMzPg9I2.png</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/24/jwF6iMUQARpGISo.jpg</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/24/f9hnyvp1Y5iDmbK.png</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/29/w7EMjvQHZgeU8Op.jpg</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/29/cGYkWIJH6RS8zmA.jpg</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/12/06/nRym16UNhKwIlrX.jpg</span>)</span><br><span class="line">![](<span class="link">https://s2.loli.net/2022/11/30/NWr8K2bTumnlFR1.jpg</span>)</span><br><span class="line">&#123;% endcarousel %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div id='SISTER' class='carousel'><div id="SISTER-drag-container" class="drag-container"><div id="SISTER-spin-container" class="spin-container"><img src="https://s2.loli.net/2022/11/22/KpEUIoJz1nrmL6P.jpg" alt=""><br><img src="https://s2.loli.net/2022/11/23/Y6ZSwmLPH7vOeyi.png" alt=""><br><img src="https://s2.loli.net/2022/11/23/cgS1Mo89mrXuNlj.jpg" alt=""><br><img src="https://s2.loli.net/2022/11/22/ByYrJqtnMzPg9I2.png" alt=""><br><img src="https://s2.loli.net/2022/11/24/jwF6iMUQARpGISo.jpg" alt=""><br><img src="https://s2.loli.net/2022/11/24/f9hnyvp1Y5iDmbK.png" alt=""><br><img src="https://s2.loli.net/2022/11/29/w7EMjvQHZgeU8Op.jpg" alt=""><br><img src="https://s2.loli.net/2022/11/29/cGYkWIJH6RS8zmA.jpg" alt=""><br><img src="https://s2.loli.net/2022/12/06/nRym16UNhKwIlrX.jpg" alt=""><br><img src="https://s2.loli.net/2022/11/30/NWr8K2bTumnlFR1.jpg" alt=""><p>ohhhhhhh</p></div><div id="SISTER-carousel-ground" class="carousel-ground"></div></div></div><script type="text/javascript">carouselinit('SISTER');</script>]]></content>
      
      
      <categories>
          
          <category> 博客相關 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web前端 </tag>
            
            <tag> Butterfly </tag>
            
            <tag> 主題魔改 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS基本知識一文通</title>
      <link href="/2020/03/16/CSS%20%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E4%B8%80%E6%96%87%E9%80%9A/"/>
      <url>/2020/03/16/CSS%20%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E4%B8%80%E6%96%87%E9%80%9A/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>本文參考:</p><ul><li>mdn web docs: <a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS">https://developer.mozilla.org/zh-CN/docs/Learn/CSS</a></li><li>W3School: <a href="https://haiyong.site/doc/w3/css/index.html">https://haiyong.site/doc/w3/css/index.html</a></li></ul></blockquote><h2 id="1-CSS是何物"><a href="#1-CSS是何物" class="headerlink" title="1 CSS是何物?"></a>1 CSS是何物?</h2><ul><li>Cascading Style Sheets，层叠样式表，定義如何顯示HTML元素， ⽤于设计⻛格和布局。</li><li>1994推出CSS第一版，1998第二版，从1999到現在都在做CSS3。</li><li>CSS优勢是簡洁、灵活、兼容性強、能減少開發維護成本、提高頁面性能。</li><li><p>語法組成: 選擇器{属性: 值; 属性: 值;…}</p><h2 id="2-選擇器"><a href="#2-選擇器" class="headerlink" title="2 選擇器"></a>2 選擇器</h2><p>要用css对HTML中的元素控制，當然要先選擇到那個元素。選擇器可以進行分組，用逗號分開的一組選擇器分享相同的聲明。子元素的属性繼承父元素。</p><h3 id="1-id選擇器"><a href="#1-id選擇器" class="headerlink" title="1 id選擇器"></a>1 id選擇器</h3><p>為標有特定id的HTML元素指定樣式，HTML元素設id属性，css以”#”定義，一個id只能一個元素使用。<br><code>#para1&#123;text-align:center;color:red;</code></p><h3 id="2-class選擇器"><a href="#2-class選擇器" class="headerlink" title="2 class選擇器"></a>2 class選擇器</h3><p>HTML設class，css以”.”定義，可以在多個元素中使用。<br><code>.center&#123;text-align:center;&#125;</code></p><h3 id="3-標簽選擇器-元素"><a href="#3-標簽選擇器-元素" class="headerlink" title="3 標簽選擇器(元素)"></a>3 標簽選擇器(元素)</h3><p>選擇所有該名字的元素</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">label</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>:red;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果標簽和class一起出現，就是選中每個类的該標簽元素。</p><h3 id="4-属性選擇器"><a href="#4-属性選擇器" class="headerlink" title="4 属性選擇器"></a>4 属性選擇器</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[title]</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="selector-tag">h1</span> title= &quot;helloworld&quot;&gt;Hello world&lt;/<span class="selector-tag">h1</span>&gt;</span><br></pre></td></tr></table></figure><p>可以使用属性和值:[title=helloworld]，包含該属性的所有元素:[title~=hello]</p><h3 id="5-偽類選擇器"><a href="#5-偽類選擇器" class="headerlink" title="5 偽類選擇器"></a>5 偽類選擇器</h3><p>用來添加一些特列效果的選擇器</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span>&#123;<span class="attribute">color</span>:<span class="number">#000000</span>;&#125;<span class="comment">/*未訪問*/</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;<span class="attribute">color</span>:<span class="number">#00FF00</span>;&#125;<span class="comment">/*已訪問*/</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;<span class="attribute">color</span>:<span class="number">#FF00FF</span>;&#125;<span class="comment">/*鼠標懸停*/</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span>&#123;<span class="attribute">color</span>:<span class="number">#0000FF</span>;&#125;<span class="comment">/*點击時*/</span></span><br></pre></td></tr></table></figure><h3 id="6-偽元素選擇器"><a href="#6-偽元素選擇器" class="headerlink" title="6 偽元素選擇器"></a>6 偽元素選擇器</h3><p>選擇特殊元素</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-line&#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#ff0000</span>;</span><br><span class="line">  <span class="attribute">font-variant</span>:small-caps;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*:first-letter,:first-line,:before,:after*/</span></span><br></pre></td></tr></table></figure><h3 id="7-組合選擇器"><a href="#7-組合選擇器" class="headerlink" title="7 組合選擇器"></a>7 組合選擇器</h3></li><li><p>后代:以空格分隔</p></li><li>子元素:以”&gt;”號分隔</li><li>相鄰兄弟:以”+”號分隔</li><li><p>普通兄弟:以”-“分隔</p><h3 id="8-樣式優先級"><a href="#8-樣式優先級" class="headerlink" title="8 樣式優先級"></a>8 樣式優先級</h3></li><li><p>層疊是用來解決样式冲突的，多重樣式將層疊為一個，优先級: 內聯樣式(元素內)&gt;內部樣式表(head里style)&gt;外部樣式表&gt;瀏覽器缺省設置。</p></li><li>css樣式來源优先級: ⽤户代理样式表中的 !important 声明&gt; ⽤户样式表中的 !important 声明&gt; 作者样式表中的 !important 声明 &gt; 作者样式表中的常规声明（这些是我们 web 开发⼈员设置的样 式) ⽤户样式表中的常规声明(由⽤户设置的⾃定义样式)&gt;⽤户代理样式表中的声明(例如，浏览器的默认样式，在没有设置其他样式时使⽤)。</li><li><p>外部樣式表是最佳選擇，指将 CSS 编写在扩展名为.css 的单独文件中，并从 HTML<link>元素引用它。</p><h2 id="2-CSS樣式"><a href="#2-CSS樣式" class="headerlink" title="2 CSS樣式"></a>2 CSS樣式</h2><h3 id="1-背景"><a href="#1-背景" class="headerlink" title="1 背景"></a>1 背景</h3></li><li><p><strong>background-color: </strong>背景色</p></li><li><strong>background-image:</strong> 背景图像</li><li><strong>background-repeat:</strong> 背景图像平鋪，默認从左上角向兩個方向平舖，可以用repeat-x和repeat</li><li><strong>background-position:</strong> 背景定位，可以用top，left等關鍵字，也可以用長度值和百分比值(兩個參數，如果只提供一個，默認水平方向)。</li><li><p><strong>background-attachment:</strong> 背景關聯，可以設定可視区是否受到滾动的影响</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span></span><br><span class="line">  &#123; </span><br><span class="line">    <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">&#x27;/i/eg_bg_03.gif&#x27;</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>:no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>:<span class="number">50px</span> <span class="number">100px</span>;</span><br><span class="line">    <span class="comment">/*background-attachment:fixed*/</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="2-文本"><a href="#2-文本" class="headerlink" title="2 文本"></a>2 文本</h3></li><li><p><strong>text-indent:</strong> 文本縮進，縮進每個元素第一行，<code>p&#123;text-indent: 5em;&#125;</code></p></li><li><strong>text-align:</strong> 水平对齊，有值left、right、cener、juctify(兩端对齊)、inherit(繼承)</li><li><strong>word-spacing:</strong> 字間隔，可用px和em</li><li><strong>letter-spacing:</strong> 字母間隔</li><li><strong>text-transform:</strong> 处理文本大小寫，有值none、uppercase、lowercase、captialize(对首字母大寫)</li><li><strong>text-decoration:</strong> 文本裝飾，有值none、underline、overline(上划戕)、line-through、blink(閃爍)</li><li><strong>white-space:</strong> 处理空白符，有normal(各个字之間只會有一個空格)、pre(不會忽略)、nowrap(不換行)、pre-line、pre-wrap</li><li><p><strong>direction:</strong> 文本方向，有ltr和rtl</p><h3 id="3-字体"><a href="#3-字体" class="headerlink" title="3 字体"></a>3 字体</h3></li><li><p><strong>font-family:</strong> 定義字体系列</p></li><li><strong>font-style:</strong> 規定斜体文本，有值normal、italic、oblique</li><li><strong>font-variant:</strong> 用small-caps設定小型大寫字母</li><li><strong>font-weight:</strong> 設置粗細</li><li><p><strong>font-size:</strong> 文本大小</p><h3 id="4-列表"><a href="#4-列表" class="headerlink" title="4 列表"></a>4 列表</h3></li><li><p><strong>list-style-type:</strong> 修改列表项標誌</p></li><li><strong>list-style-image:</strong> 列表項图像</li><li><p><strong>list-sryle-position:</strong> 標志位置</p><h3 id="5-表格"><a href="#5-表格" class="headerlink" title="5 表格"></a>5 表格</h3></li><li><p><strong>border-collapse:</strong> 是否把表格边框合并为单一的边框</p></li><li><strong>border-spacing:</strong> 设置分隔单元格边框的距离</li><li><strong>caption-side:</strong> 设置表格标题的位置</li><li><strong>empty-cells:</strong> 设置是否显示表格中的空单元格</li><li><strong>table-layout:</strong> 设置显示单元、行和列的算法<h2 id="3-盒模形"><a href="#3-盒模形" class="headerlink" title="3 盒模形"></a>3 盒模形</h2>在 CSS 中，所有的元素都被一个个的“盒子（box）”包围着，元素框的最内部分是实际的内容，直接包围内容的是内边距。内边距呈现了元素的背景。内边距的边缘是边框。边框以外是外边距，外边距默认是透明的，因此不会遮挡其后的任何元素。</li></ul><p><img src="https://s2.loli.net/2022/11/26/jVZPJr8kuRAqba4.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=l4OCa&amp;originHeight=500&amp;originWidth=500&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><img src="https://s2.loli.net/2022/11/26/rcELwamB3sOTAdF.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=kM0Ek&amp;originHeight=281&amp;originWidth=406&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><h3 id="1-內边距"><a href="#1-內边距" class="headerlink" title="1 內边距"></a>1 內边距</h3><ul><li>padding: 接受長度值或百分比，不允許负值<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;<span class="attribute">padding</span>: <span class="number">10px</span>;&#125;<span class="comment">/*各边都有*/</span></span><br><span class="line"><span class="selector-tag">h1</span>&#123;<span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0.25em</span> <span class="number">2ex</span> <span class="number">20%</span>;&#125;<span class="comment">/*上右下左順序*/</span></span><br><span class="line">he&#123;<span class="attribute">padding-top</span>: <span class="number">10px</span>;&#125;<span class="comment">/*單一边*/</span></span><br><span class="line"><span class="comment">/*內边距的百分數值是相對于其父元素的width計算的，width改变他</span></span><br><span class="line"><span class="comment">們也會改变*/</span></span><br></pre></td></tr></table></figure><h3 id="2-边框"><a href="#2-边框" class="headerlink" title="2 边框"></a>2 边框</h3></li></ul><ol><li><p><strong>border-style</strong></p><p>可以通过border-style設定边框樣式，也可通过border-top-style設置單边樣式</p></li></ol><ul><li><strong>none:</strong> 無边框</li><li><strong>hidden:</strong> 無边框</li><li><strong>dotted:</strong> 点狀边框</li><li><strong>dashed:</strong> 定義虛線</li><li><strong>solid:</strong> 定義實線</li><li><strong>double:</strong> 雙線</li><li><strong>groove:</strong> 3D凹槽边框</li><li><strong>ridge:</strong> 3D壟狀边框</li><li><strong>inherit:</strong> 繼承</li></ul><ol><li><p><strong>border-width</strong></p><p>边框寬度，可以指定長度值，如2px或0.1em，也可用關鍵字:thin、medium和thick。</p></li><li><p><strong>border-color</strong></p><p>边框顏色，可以接受4個頻色值，可以是命名顏色，也可以是十六進制和RGB值，顏色值小于4個，值复制就會起作用。默認值為透明transparent。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-color</span>: blue red;<span class="comment">/*上下藍，左右红*/</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="3-外边距"><a href="#3-外边距" class="headerlink" title="3 外边距"></a>3 外边距</h3><p>外边距與內边距不同的是外边距可以為任意長度單位，甚至是負值</p></li></ol><ul><li>外边距合井:當兩個垂直外边距相還，將形成一個外边距，高度等于兩個外边距高度中的較大者。</li><li>一個元素在另一元素上，下和上會合并:</li></ul><p><img src="https://s2.loli.net/2022/11/26/WDz2dnJ3aovlBZk.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=Iwz2G&amp;originHeight=309&amp;originWidth=504&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><ul><li><p>包含時:<br><img src="https://s2.loli.net/2022/11/26/CNj1P5tBJWlhv2E.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=oCbi8&amp;originHeight=195&amp;originWidth=504&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><h2 id="4-展示，定位"><a href="#4-展示，定位" class="headerlink" title="4 展示，定位"></a>4 展示，定位</h2><p>CSS 页面布局技术允许我们拾取网页中的元素，并且控制它们相对正常布局流、周边元素、父容器或者主视口/窗口的位置。HTML頁面的正常布局流是從左到右，從上到下的。<br>div、h1 或 p 元素常常被称为块级元素。这意味着这些元素显示为一块内容，即“块框”。与之相反，span 和 strong 等元素称为“行内元素”，这是因为它们的内容显示在行中，其高度寬度與父元素一致。</p><h3 id="1-display"><a href="#1-display" class="headerlink" title="1 display"></a>1 display</h3><p>用于定義建立布局時元素生成的顥示框類型</p></li><li><p>block: 顯示為块級元素，前后有換行符</p></li><li>inline: 默認，內聯元素</li><li>inline-block: 行內块元素</li><li>list-item: 作為列表</li><li><p>table: 作為表格</p><h4 id="display-flex"><a href="#display-flex" class="headerlink" title="display: flex"></a>display: flex</h4><p>彈性布局，能擴展收縮flex容器內的元素以最大限度填充可用空間，設為flex布局后，block、float、clear和vertical-align將<strong>失效</strong>，當把一個元素的display設置為flex或inline-flex后，它就成了一個容器。<br><img src="https://s2.loli.net/2022/11/28/Xb5ueLavDcyjnz2.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=SQB7S&amp;originHeight=443&amp;originWidth=732&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>它存在兩根軸:水平主軸和垂直交叉軸，flex容器又有自己的属性。<br><img src="https://s2.loli.net/2022/11/27/BhGKUxoQT1Wl2Du.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=AQEgj&amp;originHeight=333&amp;originWidth=563&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p></li><li><p>可以用flex-grow和flex-shink規定flex容器相对于其他項進行收縮和擴展的量，用flex-basis初始化item占據主軸空間的尺寸，而flex是上面三個合并的簡寫。</p></li><li>flex-direction: 定義主軸</li></ul><p><img src="https://s2.loli.net/2022/11/28/OcDMfFdlSUb9iVL.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=Xqo7J&amp;originHeight=556&amp;originWidth=732&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><ul><li>justify-content: item在主軸上的對齊方式</li></ul><p><img src="https://s2.loli.net/2022/11/28/kGfvhTY2E6K7HaV.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=y2xPq&amp;originHeight=763&amp;originWidth=637&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>space-around每個item兩側間隔相等，所以之間的間隔比和邊框的間隔大一倍</p><ul><li>align-items: item在交叉軸上的对齊方式</li></ul><p><img src="https://s2.loli.net/2022/11/28/b69RiwJFBCHDGSQ.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=C9ZoP&amp;originHeight=786&amp;originWidth=617&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>baseline是以item第一行文字的基線對齊</p><ul><li>flex-wrap: item太多超过一行時是否換行，flex-flow是flex-direction和wrap的簡寫</li><li>align-content: 当有換行后，就會有多行的items，这個属性用來控制多行(多根主軸線)的對齊方式</li></ul><p><img src="https://s2.loli.net/2022/11/28/f7J5RbH96WFD8SI.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=JbdQS&amp;originHeight=194&amp;originWidth=732&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><h4 id="display-grid"><a href="#display-grid" class="headerlink" title="display: grid"></a>display: grid</h4><p>  将网页划分成一个个可以任意组合的网格，可以用align-item，justify-content等属性</p><ul><li>grid-template-columns: 列寬</li><li><p>grid-template-rows: 行高</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/11/28/jsNgtAZQXBM1zRD.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=BfJ4O&amp;originHeight=231&amp;originWidth=497&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p></li><li><p>grid-gap: 間距</p></li><li><p>跨列: grid-column-start(列从哪開始)，grid-column-end(列到哪結束)，grid-column: 1/span3(从第一根線開始合井3個單元格)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">5</span>,auto);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid gray;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>)&#123;</span><br><span class="line">  <span class="comment">/* 列合并 */</span></span><br><span class="line">  <span class="comment">/* grid-column-start: 1;</span></span><br><span class="line"><span class="comment">  grid-column-end: 5; */</span></span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / span <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/11/28/yMT5dvfPjpQCDcn.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=S9STw&amp;originHeight=916&amp;originWidth=1145&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p></li><li><p>跨行: 和跨列一样，但变成了grid-row</p></li><li><p>minmax函數: minmax(300px,600px)，&gt;=300，&lt;=600</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* minmax函数 */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fit,<span class="built_in">minmax</span>(<span class="number">200px</span>,<span class="number">1</span>fr));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid gray;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-float"><a href="#2-float" class="headerlink" title="2 float"></a>2 float</h3><p>把一个元素“浮动”(float) 起来，会改变该元素本身和在正常布局流中跟随它的其他元素的行为。这一元素会浮动到左侧或右侧，并且从正常布局流 (normal flow) 中移除，这时候其他的周围内容就会在这个被设置浮动的元素周围环绕。<br><img src="https://s2.loli.net/2022/12/01/7I13Xh2v8m6yFnw.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=jh4DI&amp;originHeight=233&amp;originWidth=526&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br><img src="https://s2.loli.net/2022/12/01/GUYfSKmOVpJyxAI.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=MTAvc&amp;originHeight=233&amp;originWidth=526&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br><img src="https://s2.loli.net/2022/12/01/aZTLrgM6eJNvlOy.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=aQyUO&amp;originHeight=233&amp;originWidth=526&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p></li><li><p>float有属性值left、right、none和inherit</p></li><li>如果想元素框不挨着浮动框，可以用clear属性，值可以是left、right、both或none，然后給外边框添加适当的空間就可以得到想要的效果了</li></ul><p><img src="https://s2.loli.net/2022/12/01/lVLJ2dR8UHn5k1g.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=xTuWk&amp;originHeight=212&amp;originWidth=525&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><ul><li>因為浮动元素脫離了文档流，所以包圍图片和文本的div不占空間也可以用clear一個空完素的方法解決</li></ul><p><img src="https://s2.loli.net/2022/12/01/S2fyaPWUe913QFr.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=cCZOY&amp;originHeight=264&amp;originWidth=525&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><ul><li>也可以在包裏元素上添加overflow: auto(或者除了visible外的其他值)</li><li><p>也可以使用display: flow-root值，或者直接对容器進行浮動</p><h3 id="3-position"><a href="#3-position" class="headerlink" title="3 position"></a>3 position</h3><p>允許从正常的文檔布局中取出元素，并使它們具有不同的行為，例如不同的位置</p><h4 id="position-static"><a href="#position-static" class="headerlink" title="position: static"></a>position: static</h4><p>正常布局，沒什么特別的</p><h4 id="position-relative"><a href="#position-relative" class="headerlink" title="position: relative"></a>position: relative</h4><p>设置为相对定位的元素框会偏移某个距离。元素仍然保持其未定位前的形状，它原本所占的空间仍保留，因此，移動元素會導玫它覆盖其他框。<br>設置左边和頂部的相對位置，相當於有一個力推動這個元素</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box_relative</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/01/zbiaw1GVmUWHdAu.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=QGgOx&amp;originHeight=190&amp;originWidth=532&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><h4 id="position-absolute"><a href="#position-absolute" class="headerlink" title="position: absolute"></a>position: absolute</h4><p>設置為絕對定位的元素從文檔流完全刪除，井相對於其包含块定位，原先在正常流中所占空間關閉，定位后生成一個块框。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box_relative</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/01/kshlOJGyK9Ya2ge.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=RMU66&amp;originHeight=207&amp;originWidth=532&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>如果所有的父元素都没有定义 position 属性，那么所有的父元素默认情况下 position 属性都是 static，那么绝对定位元素会被包含在初始块容器中。初始块容器有着和浏览器视口一样的尺寸，整個<html>也被包含在这个容器里面。因此绝对定位元素会被放在<html>元素的外面，根据浏览器窗口来定位。</p></li><li><p>可以用z-index來改变元素的堆疊順序，數值越大放的越上面</p><h4 id="position-fixed"><a href="#position-fixed" class="headerlink" title="position: fixed"></a>position: fixed</h4><p>与绝对定位的工作方式完全相同，但固定定位固定元素是相对于浏览器窗口本身。这意味着可以创建固定的有用的 UI 元素，如导航菜单。</p><h4 id="position-sticky"><a href="#position-sticky" class="headerlink" title="position: sticky"></a>position: sticky</h4><p>相对位置和固定位置的混合體，被定位的元素表現得像相對定位一樣，直到滾動到某個點后变得固定，可用于使導航欄隨頁面滾動到特定點，然后粘在頁面頂部。</p><h3 id="4-響應式設計"><a href="#4-響應式設計" class="headerlink" title="4 響應式設計"></a>4 響應式設計</h3><p>允許Web頁面适應不同屏幕寬度，不同因素進行布局和外觀的調整，响应式 Web 设计不是单独的技术，它是描述 Web 设计的一种方式，用来建立可以响应查看内容的设备的样式的一个词。</p><h4 id="媒體查詢"><a href="#媒體查詢" class="headerlink" title="媒體查詢"></a>媒體查詢</h4><p>响应式设计仅仅是因为媒介查询才新兴起来的，媒介查询允许我们运行一系列测试，例如用户的屏幕是否大于某个宽度或者某个分辨率，并将 CSS 选择性地适应用户的需要应用在样式化页面上。<br>下面的媒體查詢用來得知當前的Web頁面是否展示在一個屏幕媒體上，且窗口至少有800像素寬，下面的CSS只會在这些天提下應用</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">800px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">1em</span> <span class="number">2em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用媒体查询时的一种通用方式是，为窄屏设备（例如移动设备）创建一个简单的单栏布局，然后检查是否是大些的屏幕，在你知道你有足够容纳的屏幕宽度的时候，开始采用一种多栏的布局。这经常被描述为移动优先设计。<br>使用媒体查詢可參考: <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Media_Queries/Using_media_queries">https://developer.mozilla.org/zh-CN/docs/Web/CSS/Media_Queries/Using_media_queries</a></p><h4 id="灵活网格"><a href="#灵活网格" class="headerlink" title="灵活网格"></a>灵活网格</h4><p>通过使用像素并把布局转化为百分数的方式设计，例如如果我们的预期栏尺寸为 60 像素，而且它所在的上下文（或者容器）为 960 像素，用 960 去除 60，就能得到CSS的值</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.col</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">6.25%</span>; <span class="comment">/* 60 / 960 = 0.0625 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="多栏式布局"><a href="#多栏式布局" class="headerlink" title="多栏式布局"></a>多栏式布局</h4></li><li><p>可以用column-count創定指定數量的列，由浏覧器計算出每一列分配多少空間。</p></li><li>用column-width設置列寛，但瀏覽器會按指定寬度尽可能多地創建列，剩餘的空間會被現有的列平分</li><li>column-gap改變間隙</li><li>column-rule在列間加入分割線，這是column-rule-color和column-rule-style的縮寫，和border類似<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">column-count</span>: <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">column-gap</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">column-rule</span>: <span class="number">4px</span> dotted <span class="built_in">rgb</span>(<span class="number">79</span>, <span class="number">185</span>, <span class="number">227</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="响应式排版"><a href="#响应式排版" class="headerlink" title="响应式排版"></a>响应式排版</h4>把一级标题设置为4rem，也就是说它将会有我们的基础字体的四倍大，这真的是太大了，若我们只想在大些的屏幕上有这么个超大的标题，那我们先弄个小点的标题，再使用媒体查询，在我们知道用户使用至少1200px的屏幕的时候，拿大些的尺寸覆写它。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">1200px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">4rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> web前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web前端 </tag>
            
            <tag> 筆記 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML基本知識一文速通</title>
      <link href="/2020/03/15/HTML%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E4%B8%80%E6%96%87%E9%80%9F%E9%80%9A/"/>
      <url>/2020/03/15/HTML%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98%E4%B8%80%E6%96%87%E9%80%9F%E9%80%9A/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-HTML簡介"><a href="#1-HTML簡介" class="headerlink" title="1 HTML簡介"></a>1 HTML簡介</h2><p>HTML家底</p><ol><li><p>HTML和HTML5</p><p><strong>HTML</strong>(Hyper Text Markup Language)，超文本标记语言，产生于1990年，1997年HTML4成为互联网标准，并广泛应用于互联网应用的开发，我們平時看的一個個網頁就是HTML格式。HTML5是HTML最新的修订版本，最新的標準，2014年10月由万维网联盟（W3C）完成标准制定，它的设计目的是为了在移动设备上支持多媒体。</p></li><li><p>瀏覽器</p><p>瀏览器是网页显示、运行的平台，HTML由瀏覧器解析处理，轉換成可識別的信息，浏覧器的功能依靠其浏覽器內核實現。浏覽器內核从十几年前微软独家垄断到今天已經百花齊放，但目前還是四瀏覽器內核派系分天下。</p></li></ol><ul><li>IE(Trident): 代表作有IE、猎豹、360、百度</li><li>firefox(Gecko): 以前挺強，現在快被chrome做掉，速度有點慢 </li><li>Safari(webkit):  苹果家的，不能說不好，只能說”特立獨行”，做個效果要特別考慮能不能适配它</li><li>chrome(chromium/Blink):  在Chromium项目中研发了Blink 渲染引擎（即浏览器核心），内置于 Chrome 浏览器之中。Blink其实是 WebKit 的分支。大部分国产浏览器最新版都采用 Blink内核，二次开发，反正他最屌了，開發者都建議用它調試。</li></ul><ol><li>Web標準(御三家辣!)</li></ol><ul><li><strong>结构标准:</strong> 用于对网页元素进行整理和分类(HTML)</li><li><strong>表现标准:</strong> 用于设置网页元素的版式、颜色、大小等外观属性(CSS)</li><li><strong>行为标准:</strong> 用于对网页模型的定义及交互的编写(JavaScript)</li></ul><p><strong>结构+表现+行为</strong>，就成了平時的網頁啦<br><strong>優點:</strong> 易于維護、頁面響應速度快、結構和表現分離的HTML更易被訪問識別、不同樣式表解決設備兼容性，語義化HTML更易被搜索引撆解析<br><img src="https://s2.loli.net/2022/11/25/KTYsJAaSeg3U5cE.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=cuOK9&amp;originHeight=743&amp;originWidth=1109&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>HTML規范</p><ol><li>文檔類型: &lt;!DOCTYPE&gt;必須位於HTML文檔第一行，告訴瀏覽器要按甚麼標準解析頁面，HTML5就是&lt;!DOCTYPE html&gt;。</li><li>頁面語言: lang，指定該html所用語言，可以做識別的作用，方便不用的應用場景。</li><li><p>字符集: charset(Character set)，對字符的編碼方式，最常用的是UTF-8。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>文档标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    文档内容......</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>meta有 <strong>name</strong> 和 <strong>http-equiv</strong> 兩個属性，都是定義一些信息和設定的。</p></li></ol><p><strong>name取值:</strong></p><ul><li>keywork: 當然就是keywork</li><li>description: 同上</li><li>viewport:移動端窗口</li><li>robots: 索引方式</li><li>autor: 作者</li><li>generator:  網頁制作軟件</li><li>copyright: 版权</li></ul><p><strong>http-equiv取值:</strong></p><ul><li>content-Type: HTML4的</li><li>Expires: 設定到期時間，過期要重傳重加載</li><li>Pragma: 設定禁止瀏覽器從緩存讀內容</li><li>Refresh: 刷新</li><li>cache-control: 緩存机制<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>全球樂子<span class="tag">&lt;/<span class="name">title</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;每時每刻每地的樂子!&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;HTML,CSS,XML,JavaScript&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">content</span>=<span class="string">&quot;kinghong&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一堆樂子<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><ol><li>其他head標簽:</li></ol><ul><li>title: 定義標題</li><li>link: 和外部資源的關係</li><li>script: 腳本文件</li><li>style: 樣式文件</li><li>base: 規定頁面上所有鏈接默認的URL和打開狀態<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;http://www.pornhub.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>走，看點好康的<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="2-HTML常用標簽"><a href="#2-HTML常用標簽" class="headerlink" title="2 HTML常用標簽"></a>2 HTML常用標簽</h2><p>HTML5一共一百多個標簽，還各自有不同的属性，但其實最常用的也是那几個</p><h3 id="1-網頁結構"><a href="#1-網頁結構" class="headerlink" title="1 網頁結構:"></a>1 網頁結構:</h3><p>排版和表現標簽</p><ol><li><strong>排版標簽:</strong> 顯示網頁結構的最常用標簽</li></ol><ul><li><strong>h1~h6:</strong> 標题標簽</li><li><strong>p:</strong> 段落標簽，把HTML分割為若干段落，<p>元素会自动在其前后创建一些空白</li><li><strong>hr:</strong> 定義水平線(分割線)</li><li><strong>br:</strong> 換行，床前明月光<br>疑是…</li><li><strong>div和span:</strong> 沒有語義，定義文檔中的分隔區域，做一個盒子用</li><li><strong>&lt; !— … —&gt;:</strong> 注釋，快捷鍵是ctrl+/或ctrl+shift+/</li><li><strong>pre:</strong> 預格式化文本標簽，按照預先寫好的文字格式顯示</li></ul><ol><li><strong>表現標簽:</strong> b和strong(粗體)、i和em(斜體)、s和del(刪除線)、u和ins(下劃線)<h3 id="2-圖像標簽"><a href="#2-圖像標簽" class="headerlink" title="2 圖像標簽:"></a>2 圖像標簽:</h3></li></ol><ul><li><p><strong>img:</strong><br>| <strong>属性</strong> | <strong>值</strong> | <strong>描述</strong> |<br>| —- | —- | —- |<br>| src | URL | 路徑 |<br>| alt | text | 图像替代文本 |<br>| title | text | 鼠標悬停顯示內容 |<br>| width，height | 像素，百分比 | 高寬度 |<br>| border | 數字 | 邊框寛度 |<br>| loading | eager&#124;lazy | 立即加載还是建迟加載 |</p></li><li><p><strong>map:</strong> 帶有可點击區域的圖像映射</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;planets.gif&quot;</span> <span class="attr">width</span>=<span class="string">&quot;145&quot;</span> <span class="attr">height</span>=<span class="string">&quot;126&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Planets&quot;</span> <span class="attr">usemap</span>=<span class="string">&quot;#planetmap&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">map</span> <span class="attr">name</span>=<span class="string">&quot;planetmap&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- coords：定义形状路径：当shape=rect时，四个数字依次为：起点X、起点Y、终点X、终点Y(左下-&gt;右上)。coords=&quot;x1,y1,x2,y2&quot;--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">&quot;rect&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;0,0,82,126&quot;</span> <span class="attr">href</span>=<span class="string">&quot;sun.htm&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Sun&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- shape=circle，三個數字為中心點x、中心點y、半徑--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">&quot;circle&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;90,58,3&quot;</span> <span class="attr">href</span>=<span class="string">&quot;mercur.htm&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Mercury&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">&quot;circle&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;124,58,8&quot;</span> <span class="attr">href</span>=<span class="string">&quot;venus.htm&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Venus&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>canvas:</strong> 畫布，通過腳本繪制圖形</p><h3 id="3-鏈接標簽"><a href="#3-鏈接標簽" class="headerlink" title="3 鏈接標簽:"></a>3 鏈接標簽:</h3></li><li><p>a: 定義超鏈接</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;跳转目标&quot;</span> <span class="attr">target</span>=<span class="string">&quot;目标窗口的弹出方式&quot;</span>&gt;</span>文本或图像<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- href: url--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- target: 指定打開方式，_self為默認，_blank為在新窗口中打開--&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>link: 鏈接到外部样式文件<br>| <strong>属性</strong> | <strong>值</strong> | <strong>描述</strong> |<br>| —- | —- | —- |<br>| href | URL | 位置 |<br>| media | media_query | 將顯示的設備 |<br>| rel | altemate&#124; archives&#124; author&#124; bookmark&#124; external&#124; first&#124; help&#124; icon&#124; last&#124; license&#124; next&#124; nofollow&#124; noreferrer&#124; pingback&#124; prefetch&#124; prev&#124; search&#124; sidebar&#124; stylesheet&#124; tag&#124; up | 必需，與被鏈接文檔的關係 |<br>| type | MIME_type | 被鏈接文檔的MIME类型，css对应”text/css” |</p></li><li><p><strong>nav:</strong> 导航標簽</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/wife/&quot;</span>&gt;</span>wife<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/injection/&quot;</span>&gt;</span>injection<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/snapped/&quot;</span>&gt;</span>snapped<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/bigcock/&quot;</span>&gt;</span>big cock<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><p>src和href的區別是src(source)用於替換當前元素，如js腳本，img圖片，當瀏覽器解析到元素會暫停其他資源下載和處理，直到元素加載完畢。href用於當前文檔和引用資源建立聯系，識別到資源會並行下載資源，不會停止處理。<br>href還能用來創建錨點鏈接，快速定位內容，使用相應的id名稱跳轉目標位置:<code>&lt;a href=&quot;#id&quot;&gt;鏈接位置&lt;/a&gt;</code>。</p><h3 id="4-特殊字符、表情等"><a href="#4-特殊字符、表情等" class="headerlink" title="4 特殊字符、表情等"></a>4 特殊字符、表情等</h3></li><li><p><strong>特殊字符:</strong> 符號參考手册—<a href="https://www.runoob.com/tags/html-symbols.html">https://www.runoob.com/tags/html-symbols.html</a></p></li><li><strong>表情:</strong> Emoji參考手册—<a href="https://www.runoob.com/charsets/ref-emoji.html">https://www.runoob.com/charsets/ref-emoji.html</a></li><li><p><strong>國家和地区代碼:</strong> <a href="https://www.runoob.com/tags/ref-country-codes.html">https://www.runoob.com/tags/ref-country-codes.html</a></p><h2 id="3-表單"><a href="#3-表單" class="headerlink" title="3 表單"></a>3 表單</h2><p>表單的目的是為了收集用戶信息，由控件、提示信息和表單域三部分構成。</p><h3 id="1-表單控件"><a href="#1-表單控件" class="headerlink" title="1 表單控件"></a>1 表單控件</h3></li><li><p><strong>input:</strong> 單標簽，輸入的意思</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">用户名:</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span><br><span class="line">密 码：</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>| <strong>属性</strong> | <strong>值</strong> | <strong>描述</strong> |<br>| —- | —- | —- |<br>| value | text | 設定默認值 |<br>| name | text | 名稱 |<br>| checked | checked | 是否选中，只針对checkbos或radio |<br>| type | button&#124;checkbox&#124;color&#124;date&#124;datetime&#124;datetime-local&#124;email&#124;file&#124;hidden&#124;image&#124;month&#124;number&#124;password&#124;radio&#124;range&#124;reset&#124;search&#124;submit&#124;tel&#124;text&#124;time&#124;url&#124;week | input的类型 |<br>| form | from_id | input所属的一個或多個表單 |<br>| disabled | disabled | 禁用? |<br>| placeholder | text | 輸入提示 |</p></li><li><p><strong>textarea:</strong> 文本框</p><p>属性值和輸入框基本一样，常用的多了几個:</p></li></ul><div class="table-container"><table><thead><tr><th>cols</th><th>number</th><th>可見寬</th></tr></thead><tbody><tr><td>rows</td><td>number</td><td>可見行</td></tr><tr><td>required</td><td>required</td><td>是否必填</td></tr><tr><td>wrap</td><td>hard&#124;soft</td><td>怎样換行</td></tr><tr><td>maxlength</td><td>number</td><td>最大字符數</td></tr></tbody></table></div><ul><li><strong>button:</strong> 按鈕</li><li><p><strong>select:</strong> 下拉列表</p><p>多了个size属性可以規定選項可見數目，multiple可以选多個選項</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;girl1&quot;</span>&gt;</span>Volvo<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;girl2&quot;</span>&gt;</span>Saab<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;girl3&quot;</span>&gt;</span>Mercedes<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;girl4&quot;</span>&gt;</span>Audi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>optgroup:</strong> 可以把相關选項組合在一起</p><h3 id="2-提示信息"><a href="#2-提示信息" class="headerlink" title="2 提示信息"></a>2 提示信息</h3></li><li><p><strong>label:</strong> 標簽</p><p>比基本的多兩個属性，for(規定與哪個表單元素綁定)，form(規定所属的一個或多個表單)，label&gt; 标签为 input 元素定义标記，如果您在 label 元素内点击文本，就会触发此控件。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;sex&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>datalist:</strong> 提示<input>元素可能的选项列表，提供自動完成的特性，用戶能看到一個下拉列表，有預先定義好的數據。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">list</span>=<span class="string">&quot;browsers&quot;</span> <span class="attr">name</span>=<span class="string">&quot;browser&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;browsers&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Internet Explorer&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Firefox&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Chrome&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Opera&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Safari&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-表單域"><a href="#3-表單域" class="headerlink" title="3 表單域"></a>3 表單域</h3></li><li><p><strong>form:</strong> 定义一个 HTML 表单，用于用户输入，form 中的所有内容都会被提交给服务器。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;url地址&quot;</span> <span class="attr">method</span>=<span class="string">&quot;提交方式&quot;</span> <span class="attr">name</span>=<span class="string">&quot;表单名称&quot;</span>&gt;</span>各种表单控件<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>| <strong>属性</strong> | <strong>属性值</strong> | <strong>作用</strong> |<br>| —- | —- | —- |<br>| action | URL | 服務器程序url |<br>| method | get/post | 提交方式 |<br>| name | string | 名稱 |</p></li></ul><p><strong>GET和POST区別</strong>:</p><ul><li>瀏覽器回退時GET無軎，POST會再提交</li><li>GET會被瀏覽器主動cache</li><li>GET只能url編碼，只接受ASCII字符，GET更不安全，參數暴露在URL上</li><li><p>GET的參數會被完整保留在歷史記錄里</p><h2 id="4-表格"><a href="#4-表格" class="headerlink" title="4 表格"></a>4 表格</h2><p>用來展示表格式數據，顯示規整可讀性好</p><h3 id="1-表格創建"><a href="#1-表格創建" class="headerlink" title="1 表格創建"></a>1 表格創建</h3><p><code>**table、tr、td**</code>是創建表格的基本標簽，缺一不可，table定義表格標簽，tr定義行，td定義單元格，它們必須互相嵌套。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>Month<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>Spand<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>November<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>$6000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>December<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>$3000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>th:</strong> 表單頭單元格，會加粗居中</p></li><li><strong>caption:</strong> 表格標题，必須在table后面，但是會在表格之上居中顯示</li><li><p><strong>單元格的rowspan和colspan属性:</strong> 合井單元格的個數，順序最好按上下左右合並</p><h3 id="2-表格劃分结構"><a href="#2-表格劃分结構" class="headerlink" title="2 表格劃分结構"></a>2 表格劃分结構</h3><p>對於比較复雜的表格，可以分割成题頭、正文和腳注三部分，分別是thead，tbody和tfoot。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>Month<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>Savings<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>Sum<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>$180<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>January<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>$100<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>February<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>$80<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>通过使用这些元素，使浏览器有能力支持独立于表格表头和表格页脚的表格主体滚动。当包含多个页面的长的表格被打印时，表格的表头和页脚可被打印在包含表格数据的每张页面上。</p></li><li><thead> 元素内部必须包含一个或者多个 <tr> 标签。<h2 id="5-列表"><a href="#5-列表" class="headerlink" title="5 列表"></a>5 列表</h2>容器里面装载着结构，样式一致的文字或图表的一种形式，叫列表，特点就是整齐 、整洁、 有序，可組合自由度比表格高。</li></ul><ol><li><strong>無序列表 ul</strong></li></ol><ul><li>ul中只能嵌套列表項li<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>hotel<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>home<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>playground<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><ol><li><strong>有序列表 ol</strong></li></ol><ul><li>ol標簽中的type属性為排序的序列號，默認從1開始排，常見的值有1,a,A,i,I。</li><li><ol reversed="reversed">能讓列表倒序排列</li><li><ol start="5">中的值能讓序列號從5開始排</li></ul><ol><li><strong>自定義列表 dl</strong></li></ol><ul><li>dl嵌套dd，表項前無任何符號</li></ul>]]></content>
      
      
      <categories>
          
          <category> web前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web前端 </tag>
            
            <tag> 筆記 </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
